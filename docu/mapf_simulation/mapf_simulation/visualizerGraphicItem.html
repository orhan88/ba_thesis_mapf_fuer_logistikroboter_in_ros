<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.1.0"/>
    <title>mapf_simulation.visualizerGraphicItem API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../mapf_simulation.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;mapf_simulation</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#VIZ_STATE_MOVED">VIZ_STATE_MOVED</a>
            </li>
            <li>
                    <a class="variable" href="#VIZ_STATE_MOVE">VIZ_STATE_MOVE</a>
            </li>
            <li>
                    <a class="variable" href="#VIZ_STATE_ACTION">VIZ_STATE_ACTION</a>
            </li>
            <li>
                    <a class="function" href="#calculate_color">calculate_color</a>
            </li>
            <li>
                    <a class="class" href="#VisualizerGraphicItem">VisualizerGraphicItem</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.__init__">VisualizerGraphicItem</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_starting_position">set_starting_position</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_position">set_position</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_color">set_color</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_rect">set_rect</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_action">set_action</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_display_mode">set_display_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_draw_path">set_draw_path</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_draw_future_path">set_draw_future_path</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_draw_start">set_draw_start</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.set_highlighted">set_highlighted</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_name">get_name</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_position">get_position</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_start_position">get_start_position</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_color">get_color</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_rect">get_rect</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_action">get_action</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_future_path">get_future_path</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_state">get_state</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_draw_path">get_draw_path</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_draw_future_path">get_draw_future_path</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_draw_startpoint">get_draw_startpoint</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.get_highlighted">get_highlighted</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.mousePressEvent">mousePressEvent</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.mouseReleaseEvent">mouseReleaseEvent</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.mouseMoveEvent">mouseMoveEvent</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.determine_color">determine_color</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.paint">paint</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.do_action">do_action</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.undo_action">undo_action</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.clear_actions">clear_actions</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.clear_older_actions">clear_older_actions</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.restart">restart</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.reset">reset</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.edit_position_to">edit_position_to</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.enable_drag">enable_drag</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.boundingRect">boundingRect</a>
                        </li>
                        <li>
                                <a class="function" href="#VisualizerGraphicItem.ros_publish_message_info">ros_publish_message_info</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RobotROS">RobotROS</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#RobotROS.__init__">RobotROS</a>
                        </li>
                        <li>
                                <a class="variable" href="#RobotROS.publisher">publisher</a>
                        </li>
                        <li>
                                <a class="variable" href="#RobotROS.subscriber">subscriber</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_starting_position">set_starting_position</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_position">set_position</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_theta">set_theta</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_bucket">set_bucket</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_ready">set_ready</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_heuristic">set_heuristic</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_future_path">set_future_path</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_action">set_action</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_bucket">get_bucket</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_heuristic">get_heuristic</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_theta">get_theta</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_draw_path">get_draw_path</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_draw_future_path">get_draw_future_path</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_draw_startpoint">get_draw_startpoint</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_tasks">get_tasks</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_task">get_task</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.get_rect">get_rect</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.is_ready">is_ready</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.mouseReleaseEvent">mouseReleaseEvent</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.edit_position_to">edit_position_to</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.set_rect">set_rect</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.update_tooltip">update_tooltip</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.determine_color">determine_color</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.clear_actions">clear_actions</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.do_action">do_action</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.undo_action">undo_action</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.reset">reset</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.restart">restart</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.add_task">add_task</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.check_robot_at_target">check_robot_at_target</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.unvisit_all_checkpoints">unvisit_all_checkpoints</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.ros_spin_once">ros_spin_once</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.ros_publish_message_info">ros_publish_message_info</a>
                        </li>
                        <li>
                                <a class="function" href="#RobotROS.callback_action">callback_action</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CheckpointROS">CheckpointROS</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CheckpointROS.__init__">CheckpointROS</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.get_rect">get_rect</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.get_visit_status">get_visit_status</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.determine_color">determine_color</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.set_rect">set_rect</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.do_action">do_action</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.undo_action">undo_action</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.visit">visit</a>
                        </li>
                        <li>
                                <a class="function" href="#CheckpointROS.unvisit">unvisit</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../mapf_simulation.html">mapf_simulation</a><wbr>.visualizerGraphicItem    </h1>

                        <div class="docstring"><p>To add a new kind of graphic items create a <strong>child class
of VisualizerGraphicItem</strong> in this file and add it in the 
<strong>model.create_item</strong> function to the model. This is the only function 
in the model that should be changed. The behaivor and values of the
object should be defindes inside of its own class.</p>

<p>To add new properties to a class modify the attributes of a class
and modify the following methods to adjust the objects behaivor:
 <strong>reset</strong>, <strong>do_action</strong>, <strong>undo_action</strong>, <strong>ros_publish_message_info</strong>. 
To adjust the appearance of an item modify the <strong>set_rect</strong> method.
Note: The set_color function is called automatically by the modelView for
every item if the colors are defined in the configuration.</p>

<p>Look at the method definitions of other classes for examples.</p>
</div>

                        <input id="mod-visualizerGraphicItem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-visualizerGraphicItem-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="sd">To add a new kind of graphic items create a **child class</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="sd">of VisualizerGraphicItem** in this file and add it in the </span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="sd">**model.create_item** function to the model. This is the only function </span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="sd">in the model that should be changed. The behaivor and values of the</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="sd">object should be defindes inside of its own class.</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="sd">To add new properties to a class modify the attributes of a class</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="sd">and modify the following methods to adjust the objects behaivor:</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="sd"> **reset**, **do_action**, **undo_action**, **ros_publish_message_info**. </span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="sd">To adjust the appearance of an item modify the **set_rect** method.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="sd">Note: The set_color function is called automatically by the modelView for</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="sd">every item if the colors are defined in the configuration.</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="sd">Look at the method definitions of other classes for examples.</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QGraphicsItem</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QGraphicsTextItem</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QGraphicsRectItem</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="n">QGraphicsEllipseItem</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="n">QFont</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="n">QColor</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="n">QBrush</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a><span class="kn">import</span> <span class="nn">mapf_simulation.modelView</span> 
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="kn">import</span> <span class="nn">mapf_simulation.visualizerItem</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="kn">from</span> <span class="nn">mapf_simulation.action</span> <span class="kn">import</span> <span class="n">Action</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="kn">from</span> <span class="nn">mapf_simulation.configuration</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="kn">import</span> <span class="nn">rclpy</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="kn">from</span> <span class="nn">rclpy.node</span> <span class="kn">import</span> <span class="n">Node</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="kn">from</span> <span class="nn">mapf_interfaces.msg</span> <span class="kn">import</span> <span class="n">Position</span><span class="p">,</span> <span class="n">RobotInfo</span><span class="p">,</span> <span class="n">RobotAction</span><span class="p">,</span> <span class="n">CheckpointInfo</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="kn">import</span> <span class="nn">math</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="n">VIZ_STATE_MOVED</span>     <span class="o">=</span> <span class="mh">0x0001</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="n">VIZ_STATE_MOVE</span>      <span class="o">=</span> <span class="mh">0x0010</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="n">VIZ_STATE_ACTION</span>    <span class="o">=</span> <span class="mh">0xffff</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="c1">#VIZ_STATE_DELIVERED = 0x0002</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a><span class="c1">#VIZ_STATE_PICKED_UP = 0x0004</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a><span class="c1">#VIZ_STATE_PUT_DOWN  = 0x0008</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="c1">#VIZ_STATE_DELIVER   = 0x0020</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a><span class="c1">#VIZ_STATE_PICK_UP   = 0x0040</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="c1">#VIZ_STATE_PUT_DOWN2 = 0x0080</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="c1">#VIZ_STATE_CHARGED   = 0x0100</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="c1">#VIZ_STATE_CHARGE    = 0x1000</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a><span class="k">def</span> <span class="nf">calculate_color</span><span class="p">(</span><span class="n">first_color</span><span class="p">,</span> <span class="n">second_color</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="sd">    This function interpolates between two color values.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="sd">    :return: QtGui.QColor()</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>    <span class="n">red</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">red</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">red</span><span class="p">()),</span> 
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>            <span class="nb">max</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">red</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">red</span><span class="p">()))</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>    <span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">green</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">green</span><span class="p">()),</span> 
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>            <span class="nb">max</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">green</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">green</span><span class="p">()))</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>    <span class="n">blue</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">blue</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">blue</span><span class="p">()),</span> 
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>            <span class="nb">max</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">blue</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">blue</span><span class="p">()))</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>    <span class="k">return</span> <span class="n">QColor</span><span class="p">(</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>                <span class="n">red</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">red</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">red</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">,</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>                <span class="n">green</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">green</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">green</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">,</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>                <span class="n">blue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">blue</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">blue</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">)</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a><span class="k">class</span> <span class="nc">VisualizerGraphicItem</span><span class="p">(</span><span class="n">QGraphicsItem</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">visualizerItem</span><span class="o">.</span><span class="n">VisualizerItem</span><span class="p">):</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a><span class="sd">    This is the template class for visualizer graphic items.</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="sd">    There should never be an instance of this class.</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="sd">    A visualizer graphic item is a part of the visualizer model</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">    that is drawn on the model view and can perform actions.</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a><span class="sd">    **Attributes**:</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="sd">    -   **_kind_name**: str         -   The name of this kind of object.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="sd">    -   **_ID**: int                -   The id of this object.</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="sd">    -   **_model**: model.Model     -   The model this object belongs to</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a><span class="sd">    -   **_position**: tuple        -   A tuple that consists of two integers representing</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a><span class="sd">                                        the position of the item on the grid.</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="sd">    -   **_start_position**: tuple  -   The position of this item at timestep 0.</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a><span class="sd">    -   **_dragged**: tuple         -   This is the position of this item before a drag</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a><span class="sd">                                        action started.</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="sd">    -   **_enable_drag**: bool      -   This is true if drag and drop is enabled for this item.        </span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a><span class="sd">                                        This will be set by the model. </span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="sd">    -   **_graphics_item**: QGraphicsItem - This is the main graphic item of this item</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a><span class="sd">                                            and is used for some default functions.</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a><span class="sd">    -   **_text**: QGraphicsTextItem -  This is a text item that is drawn </span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a><span class="sd">                                        on the model view and represents primarily the id of the item.</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a><span class="sd">    -   **_actions**: list          -   This is a sorted list of the actions of this item. The index</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a><span class="sd">                                        of every action is the time step at which the action occurs.    </span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a><span class="sd">    -   **_color**: QColor          -   The current main color of the item.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a><span class="sd">    -   **_colors**: list           -   A list of QColor values. Contains several colors for multi-colored</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a><span class="sd">                                        items and color interpolation.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="sd">    -   **_display_mode**: int      -   This is set by the model view and determines whether</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a><span class="sd">                                        the item text should be rendered and whether the item </span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a><span class="sd">                                        should be rendered in the whole grid field.</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="sd">                                        It is primarily defined by the zoom factor and the grid size.</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a><span class="sd">    -   **_draw_path**: bool        -   This is true if the driven path of the item should be drawn in the simulation. </span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="sd">                                        Should only be used for items that can have a path like robots.</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a><span class="sd">    -   **_draw_future_path**: bool -   This is true if the calculated path for the item should be drawn in the simulation. </span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a><span class="sd">                                        Should only be used for items that can have a path like robots.</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a><span class="sd">    -   **_draw_startpoint**: bool  -   This is true if the start point of the item should be drawn in the simulation. </span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a><span class="sd">                                        Should only be used for items that can have a start point like robots.</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a><span class="sd">    -   **_state**: int             -   Consists of one or more state flags, that describes which action</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a><span class="sd">                                        a item is currently doing.</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a><span class="sd">    -   **_highlighted**: bool      -   This is true if the item will be highlighted.</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a><span class="sd">                                        Highlighted elements are displayed larger</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a><span class="sd">.</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a><span class="sd">        :param ID: int, optional    - The ID of the item</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a><span class="sd">        :param x:  int, optional    - The x coordinate on the grid</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a><span class="sd">        :param y:  int, optional    - The y coordinate on the grid</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>        <span class="n">QGraphicsItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>        <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">visualizerItem</span><span class="o">.</span><span class="n">VisualizerItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">ID</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="kc">None</span>  
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>            
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setAcceptedMouseButtons</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">MouseButtons</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>    <span class="c1">#SET FUNCTIONS</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>    <span class="k">def</span> <span class="nf">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a><span class="sd">        Sets the starting position of an item.</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>    <span class="k">def</span> <span class="nf">set_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a><span class="sd">        Sets the current position of an item.</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>    <span class="k">def</span> <span class="nf">set_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">color_id</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="sd">        Sets a specific color of an item.</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a><span class="sd">        :param color: QColor    - The color</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a><span class="sd">        :param color_id:  int   - The id of the color that will be set</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>        <span class="k">while</span> <span class="n">color_id</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">):</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="n">color_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a><span class="sd">        Sets the rectangle that an item can use to draw things in.</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a><span class="sd">        This equals usually one field of the grid in the model view.</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="sd">        This function usually defines the appearance of an item</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="sd">        on the grid.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="sd">        :param rect: QtCore.QRect   - The rectangle that an item can use to draw things in.</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>        <span class="k">return</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>    <span class="k">def</span> <span class="nf">set_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a><span class="sd">        a warning since this should never happen.</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a><span class="sd">        :param action:      mapf_simulation.action.Action   -   This is the action that will be performed.</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a><span class="sd">        :param time_step:   int                             -   This is the time step at which the action should be performed.</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: invalid time step in occurs(object(&#39;</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;),&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>                    <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">))</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time step is less than 0&#39;</span><span class="p">)</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>            <span class="k">return</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)):</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: for object(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>                    <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>                    <span class="o">+</span> <span class="s1">&#39;) multiple actions are defined at time step &#39;</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)))</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>    <span class="k">def</span> <span class="nf">set_display_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_mode</span><span class="p">):</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="sd">        Sets the current display mode.</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="sd">        :param display_mode: int   - display mode (usually 0 or 1)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">=</span>  <span class="n">display_mode</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>    <span class="k">def</span> <span class="nf">set_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_path</span><span class="p">):</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="sd">        Sets whether the driven path of the object should be drawn.</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a><span class="sd">        :param draw_path: bool  -   True or False</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="n">draw_path</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>    <span class="k">def</span> <span class="nf">set_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_path</span><span class="p">):</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a><span class="sd">        Sets whether the calculated path for the object should be drawn.</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a><span class="sd">        :param draw_path: bool  -   True or False</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="n">draw_path</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>    <span class="k">def</span> <span class="nf">set_draw_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_start</span><span class="p">):</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="sd">        Sets whether the starting point of the object should be drawn. </span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">        This is usually the case if the driven path should be drawn.</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a><span class="sd">        :param draw_start: bool  -   True or False</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="n">draw_start</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>    <span class="k">def</span> <span class="nf">set_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">highlighted</span><span class="p">):</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a><span class="sd">        Sets whether this item should be highlighted.</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a><span class="sd">        :param highlighted: bool    -   True or False</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="sd">        :return:    QtCore.QRect    -   The current rectangle of the object</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="n">highlighted</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>    <span class="c1">#GET FUNCTIONS</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a><span class="sd">        Returns the name of the item.</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a><span class="sd">        :return: str    -   The name of this kind of object.</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>    <span class="k">def</span> <span class="nf">get_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a><span class="sd">        Return the position of an item.</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a><span class="sd">        :return: tuple  -   The position of this item</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>    <span class="k">def</span> <span class="nf">get_start_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a><span class="sd">        Return the position of an item.</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a><span class="sd">        :return: tuple  -   The start position of this item</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>    <span class="k">def</span> <span class="nf">get_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color_id</span><span class="p">):</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a><span class="sd">        Returns a specific color of an item.</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a><span class="sd">        :param color_id:  int   - The id of the color that should be returned</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a><span class="sd">        :return: QtGui.QColor   -   The color of this item with the specific id</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>        <span class="k">if</span> <span class="n">color_id</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">):</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="n">color_id</span><span class="p">]</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>    <span class="k">def</span> <span class="nf">get_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a><span class="sd">        Returns the current main color of an item.</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a><span class="sd">        </span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a><span class="sd">        :return: QtGui.QColor   -   The current main color of this item</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a><span class="sd">        Returns the current rectangle of an item.</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a><span class="sd">        :return: QtCore.QRect   -   The current rectangle of this item</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>    <span class="k">def</span> <span class="nf">get_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a><span class="sd">        Returns the action at a specific time step.</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a><span class="sd">        Returns None if no action is defined for this time step.</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a><span class="sd">        :param time_step:   int                      -   The time step for which the action should be returned.</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a><span class="sd">        :return: **mapf_simulation.action.Action**   -   The action at a specific time step.</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>            <span class="k">return</span> <span class="kc">None</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>            <span class="k">return</span> <span class="kc">None</span>  <span class="c1">#break, if no action is defined     </span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span>   
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>    <span class="k">def</span> <span class="nf">get_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a><span class="sd">        Returns the calculated path for the item.</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a><span class="sd">        :return: list of **mapf_interfaces.msg.Position**   -   The calculated path for this item.</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>    <span class="k">def</span> <span class="nf">get_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a><span class="sd">        Returns the current state of the item.</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a><span class="sd">        </span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a><span class="sd">        :return: 0x00, VIZ_STATE_MOVED, VIZ_STATE_MOVE, VIZ_STATE_ACTION ...</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>    <span class="k">def</span> <span class="nf">get_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a><span class="sd">        Returns whether the path of this item should be drawn.</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a><span class="sd">        </span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>    <span class="k">def</span> <span class="nf">get_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a><span class="sd">        Returns whether the future path of this item should be drawn.</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a><span class="sd">        </span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>    <span class="k">def</span> <span class="nf">get_draw_startpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="sd">        Returns whether the starting point of this item should be drawn.</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a><span class="sd">        </span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>    <span class="k">def</span> <span class="nf">get_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a><span class="sd">        Returns whether the item should be highlighted.</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>    <span class="c1">#EVENTS</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span><span class="p">:</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>                             <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>        <span class="n">model_view</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>            <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">views</span><span class="p">():</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">modelView</span><span class="o">.</span><span class="n">ModelView</span><span class="p">):</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>                    <span class="n">model_view</span> <span class="o">=</span> <span class="n">view</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>        <span class="k">if</span> <span class="n">model_view</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>            <span class="k">return</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>        <span class="n">node</span> <span class="o">=</span> <span class="n">model_view</span><span class="o">.</span><span class="n">scene_coordinates_to_node</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>                                                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>        
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">edit_position_to</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>        
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>        <span class="n">model_view</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a>    <span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>            <span class="k">return</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>    <span class="c1">#VISUAL</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a><span class="sd">        Determines the color of an item dependent on its number.</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>        <span class="k">return</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>    <span class="k">def</span> <span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="sd">        This is a overridden QT function.</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">paint</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>    
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>    <span class="c1">#ACTIONS / UPDATE</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="sd">        Action handler. Must be implemented for items</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a><span class="sd">        which can perform actions. This function will be called</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a><span class="sd">        every time the model does one time step forward.</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a><span class="sd">        :param time_step:   int     -   The time step for which the action should be executed.</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>        <span class="k">return</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a><span class="sd">        Reverse action handler. Must be implemented for items</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a><span class="sd">        which can perform actions. This function will be called </span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a><span class="sd">        every time the model does one time step backwards.</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a><span class="sd">        :param time_step:   int     -   The time step for which the action should be reversed.</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>        <span class="k">return</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>    <span class="k">def</span> <span class="nf">clear_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a><span class="sd">        Deletes all actions for an object.</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>    <span class="k">def</span> <span class="nf">clear_older_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a><span class="sd">        Deletes all actions for the given time step (self._actions[time_step]) </span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a><span class="sd">        and after the given time step (self._actions[i&gt;time_step]) for an object.</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a><span class="sd">        </span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a><span class="sd">        :param time_step:   int -   Sets the steps (time&gt;=time_step) for which the actions should be deleted.</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>            <span class="k">return</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">time_step</span><span class="p">:</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>            <span class="k">return</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>            <span class="k">return</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>    
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">time_step</span><span class="p">]</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>        <span class="k">return</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>        
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>    <span class="k">def</span> <span class="nf">restart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a><span class="sd">        Resets the item to its original values.</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a><span class="sd">        Sets the items position to its starting position.</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a><span class="sd">        Resets the item to its original values. This function will be called for every item if </span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a><span class="sd">        the Button &quot;RESET&quot; in the GUI is pressed</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>        <span class="k">return</span> 
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>    <span class="c1">#MOVE / DRAG</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>    <span class="k">def</span> <span class="nf">edit_position_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a><span class="sd">        Sets a new starting position and new current position for an </span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a><span class="sd">        item. If an item of the same kind is already on the same position</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="sd">        the drag and drop feature.</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a><span class="sd">        </span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>        
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">:</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>            <span class="k">return</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>        <span class="n">item2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">filter_items</span><span class="p">(</span><span class="n">item_kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">,</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a>                                        <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>                                        <span class="n">return_first</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>        <span class="k">if</span> <span class="n">item2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">clear_actions</span><span class="p">()</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>        
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">mapf_reset_connection</span><span class="p">()</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>    <span class="k">def</span> <span class="nf">enable_drag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a><span class="sd">        Enables and disables the drag and drop feature for the</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a><span class="sd">        model editor.</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a><span class="sd">        </span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a><span class="sd">        :param enable: bool  -   enable or disable drag &amp; drop</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a><span class="sd">        &quot;&quot;&quot;</span>     
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span> <span class="o">=</span> <span class="n">enable</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>    <span class="k">def</span> <span class="nf">boundingRect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">boundingRect</span><span class="p">()</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>    <span class="c1">#ROS2 FUNCTIONS</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>    <span class="k">def</span> <span class="nf">ros_publish_message_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a><span class="sd">        Must be implemented for items which should publish the information about itself through ROS2 interfaces.</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a><span class="sd">        This function will be called by the model every time an item does an action forward and has to publish</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a><span class="sd">        the updated information about itself.</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a><span class="sd">        :param msg_id:      int  -   The id of the current cycle (sim-&gt;controller-&gt;planner-&gt;controller-&gt;sim)</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a><span class="sd">        :param time_step:   int  -   Sets the time step in the published message (msg.step = time_step)</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>        <span class="k">return</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a><span class="k">class</span> <span class="nc">RobotROS</span><span class="p">(</span><span class="n">Node</span><span class="p">,</span> <span class="n">VisualizerGraphicItem</span><span class="p">):</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a><span class="sd">    This class represents a robot.</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="sd">    **Attributes**:</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a><span class="sd">    -   **_kind_name**: str                     -   The name of this kind of item. This is always &#39;robot_ros&#39;.</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a><span class="sd">    -   **_tasks**:    list                    -   The list of tasks of the robot.</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a><span class="sd">    -   **_graphics_item**: QGraphicsEllipseItem-   This is the main graphic item of the robot</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="sd">                                                    and is used for some default functions.</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a><span class="sd">    -   **_text**:          QGraphicsTextItem   -   This is a text item that is drawn on the model view</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a><span class="sd">                                                    and represents primarily the id of the robot.</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">bucket</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">heuristic</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="sd">        :param ID:      int, optional       - The ID of the robot</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a><span class="sd">        :param x:       int, optional       - The x coordinate on the grid</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a><span class="sd">        :param y:       int, optional       - The y coordinate on the grid</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a><span class="sd">        :param theta:   float, optional     - The orientation of the robot in angle ()</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a><span class="sd">        :param bucket:  int, optional       - The bucket to which the robot belongs</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a><span class="sd">        :param heuristic: float, optional   - Optimal length from the start to the goal position</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>        <span class="c1">#------------------------------ ROS2 --------------------------------------------------------------</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>        <span class="c1">#Init ROS2 Node with the name mapf_robot_ID, here ID is the ID of the robot</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>        <span class="n">Node</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_node&#39;</span><span class="p">)</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>        <span class="c1">#Create a publisher for the topic &quot;mapf_robot_info_ID&quot; to publish the information </span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>        <span class="c1">#of the robot with the custom message type &quot;RobotInfo.msg&quot;</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">publisher</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">RobotInfo</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_info_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;**rclpy.publisher.Publisher** - ros2 publisher to the topic */mapf_robot_info_&#39;&#39;ID&#39;&#39;*&#39;&#39;&#39;</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>        <span class="c1">#Create a subscriber for the topic &quot;mapf_robot_action_ID&quot; to get the information about </span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>        <span class="c1">#the next action to be executed by the robot, custom message type: RobotAction.msg</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscriber</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">RobotAction</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_action_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_action</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;**rclpy.subscription.Subscription** - ros2 subscriber to the topic */mapf_robot_action_&#39;&#39;ID&#39;&#39;*&#39;&#39;&#39;</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>        <span class="c1">#True if RobotAction.msg received for the next step, otherwise False</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>        <span class="c1">#------------------------------ GRAPHIC ITEM ------------------------------------------------------</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>        <span class="n">VisualizerGraphicItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;robot_ros&#39;</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="n">QGraphicsEllipseItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_line_item</span> <span class="o">=</span> <span class="n">QGraphicsLineItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">QGraphicsTextItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>        
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>        
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>        <span class="c1">#------------------------------ SAVE DATA ------------------------------------------------------</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_heuristic</span><span class="p">(</span><span class="n">heuristic</span><span class="p">)</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a><span class="w">    </span><span class="sd">&#39;&#39;&#39;    </span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a><span class="sd">    def __del__(self):</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a><span class="sd">        self.destroy_node()</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a><span class="sd">    &#39;&#39;&#39;</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>    
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>    <span class="c1">#SET FUNCTIONS</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>    <span class="k">def</span> <span class="nf">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a><span class="sd">        Sets the starting position of the robot.</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a><span class="sd">        :param x:       int                 - The x coordinate on the grid</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a><span class="sd">        :param y:       int                 - The y coordinate on the grid</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a><span class="sd">        :param theta:   float, optional     - The orientation of the robot in angle ()</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>    <span class="k">def</span> <span class="nf">set_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a><span class="sd">        Sets the position of the robot.</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a><span class="sd">        :param x:       int                - The x coordinate on the grid</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a><span class="sd">        :param y:       int                - The y coordinate on the grid</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="sd">        :param theta:   float, optional    - The orientation of the robot in angle ()</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>    <span class="k">def</span> <span class="nf">set_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a><span class="sd">        Sets the orientation of the robot.</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a><span class="sd">        :param theta:   float, optional      - The orientation of the robot in angle ().</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">theta</span><span class="p">)</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a><span class="sd">        Assign the robot to a certain bucket.</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a><span class="sd">        :param bucket:   int, optional      - The number of the bucket</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bucket</span> <span class="o">=</span> <span class="n">bucket</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>    <span class="k">def</span> <span class="nf">set_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ready</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a><span class="sd">        Sets the state of the robot (READY or NOT READY).  </span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a><span class="sd">        (A robot is READY if he knows what action he should execute as next)  </span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a><span class="sd">        (A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step)  </span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a><span class="sd">        :param ready:   bool, optional    - True or False</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="n">ready</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>    <span class="k">def</span> <span class="nf">set_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heuristic</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="sd">        Assign the optimal length for the robot from his start to his goal.</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a><span class="sd">        :param heuristic:   float, optional - The optimal length for the robot from his start to his goal.</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_heuristic</span> <span class="o">=</span> <span class="n">heuristic</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>    <span class="k">def</span> <span class="nf">set_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a><span class="sd">        Assign/Save the calculated path for the robot.</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a><span class="sd">        :param path:   list of **mapf_interfaces.msg.Position** -    The calculated path for the robot.</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span> <span class="o">=</span> <span class="n">path</span>      
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>    <span class="k">def</span> <span class="nf">set_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a><span class="sd">        a warning since this should never happen.</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a><span class="sd">        :param action:      mapf_simulation.action.Action   -   This is the action that will be performed.</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a><span class="sd">        :param time_step:   int                             -   This is the time step at which the action should be performed.</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>        
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>        
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----------------------------------- SET ACTION -----------------------------------&quot;</span><span class="p">)</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning: invalid time step(smaller than 0), Object: &#39;</span> 
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>                  <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>                  <span class="s1">&#39;, ID: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>                  <span class="s1">&#39;, Action: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">get_name</span><span class="p">())</span> <span class="o">+</span> 
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>                  <span class="s1">&#39;, Value: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span> <span class="o">+</span> 
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>                  <span class="s1">&#39;, Time Step: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">))</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time step is less than 0&#39;</span><span class="p">)</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>            <span class="k">return</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)):</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: for object(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>                    <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>                    <span class="o">+</span> <span class="s1">&#39;) multiple actions are defined at time step &#39;</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)))</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>    <span class="c1">#GET FUNCTIONS</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>    <span class="k">def</span> <span class="nf">get_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a><span class="sd">        Returns the number of the bucket to which the robot was assigned.</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a><span class="sd">        </span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a><span class="sd">        :return: **int**   -   The number of the bucket</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bucket</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>    
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>    <span class="k">def</span> <span class="nf">get_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a><span class="sd">        Returns the saved heuristic for the robot.</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a><span class="sd">        </span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a><span class="sd">        :return: **float**   -   The heuristic</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heuristic</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>    
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>    <span class="k">def</span> <span class="nf">get_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a><span class="sd">        Returns the orientation of the robot.</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a><span class="sd">        </span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a><span class="sd">        :return: **float**   -   The orientation of the robot</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>    
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>    <span class="k">def</span> <span class="nf">get_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a><span class="sd">        Returns whether the driven path of this robot should be drawn.</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">        </span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>    <span class="k">def</span> <span class="nf">get_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">        Returns whether the future path of this robot should be drawn.</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a><span class="sd">        </span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>    <span class="k">def</span> <span class="nf">get_draw_startpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a><span class="sd">        Returns whether the starting point of this robot should be drawn.</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a><span class="sd">        </span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>    
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>    <span class="k">def</span> <span class="nf">get_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">        Returns the list of tasks for this robot (for the moment only one task per robot is supported).</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="sd">        </span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">        :return: list of mapf_simulation.visualizerItem.TaskROS   -   The list of tasks</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>    <span class="k">def</span> <span class="nf">get_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a><span class="sd">        Returns the task from the task list with a specific index.</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a><span class="sd">        </span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a><span class="sd">        :param index: int                                   - The index of the task</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a><span class="sd">        :return: **mapf_simulation.visualizerItem.TaskROS** - The selected task from the task list </span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>    
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a><span class="sd">        Returns the current rectangle of the robot. </span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a><span class="sd">        :return: **QtCore.QRect** - The adjusted current rectangle of the QGraphicsItem which should represent the robot.</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>            <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">width</span><span class="p">)</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setTop</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>            <span class="k">return</span> <span class="n">rect</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="mf">0.9</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>            <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">/</span><span class="mf">0.9</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">width</span><span class="p">)</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setTop</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>            <span class="k">return</span> <span class="n">rect</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>    <span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a><span class="sd">        Returns whether the robot is ready to execute the next action.  </span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a><span class="sd">        (A robot is READY if he knows what action he should execute as next)  </span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a><span class="sd">        (A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step) </span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a><span class="sd">        </span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>    
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>    <span class="c1">#EVENTS (Drag&amp;Drop)</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>        <span class="n">model_view</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>        <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">views</span><span class="p">():</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">modelView</span><span class="o">.</span><span class="n">ModelView</span><span class="p">):</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>                <span class="n">model_view</span> <span class="o">=</span> <span class="n">view</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>        <span class="k">if</span> <span class="n">model_view</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>            <span class="k">return</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>        <span class="n">node</span> <span class="o">=</span> <span class="n">model_view</span><span class="o">.</span><span class="n">scene_coordinates_to_node</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>                                                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>            <span class="c1">#if item not moved but only clicked then highlight it and all the corresponding checkpoints</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a>                <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>                    <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>                        <span class="n">checkpoint</span><span class="o">.</span><span class="n">set_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">)</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span><span class="p">:</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">is_node_free_of_robots</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">edit_position_to</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>        <span class="n">model_view</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>    <span class="k">def</span> <span class="nf">edit_position_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a><span class="sd">        Sets a new starting position and new current position for the </span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a><span class="sd">        robot. If another robot is already on the same position</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a><span class="sd">        the drag and drop feature. </span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a><span class="sd">        :param x:       int                - The x coordinate on the grid (new position for the robot)</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a><span class="sd">        :param y:       int                - The y coordinate on the grid (new position for the robot)</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>            <span class="k">return</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>        <span class="n">item2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">filter_items</span><span class="p">(</span><span class="n">item_kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">,</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>                                        <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>                                        <span class="n">return_first</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>        
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>        <span class="k">if</span> <span class="n">item2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>            <span class="c1">#item2.clear_actions()</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_theta</span><span class="p">())</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_theta</span><span class="p">())</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>        <span class="c1">#self.clear_actions()</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">mapf_reset_connection</span><span class="p">()</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>    <span class="c1">#VISUAL</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;    </span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a><span class="sd">        Sets the rectangle that a robot can use to draw things in.</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a><span class="sd">        This function defines the appearance of the robot</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a><span class="sd">        on the grid.</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a><span class="sd">        :param rect:    QtCore.QRect    - The rectangle that a robot can use to draw things in.</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>        <span class="n">scale</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_scale&#39;</span><span class="p">)</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>        <span class="n">bold</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_bold&#39;</span><span class="p">)</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a>        <span class="c1">#SET FONTSIZE, TEXT POSITION AND DEFAULT TEXT COLOR</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.3</span><span class="o">*</span><span class="n">scale</span><span class="p">))</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setDefaultTextColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_color&#39;</span><span class="p">)))</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>        <span class="c1">#SET DISPLAY MODE</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a>            <span class="k">if</span> <span class="n">bold</span><span class="p">:</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">))</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>        <span class="c1">#SET POSITION AND SIZE OF GRAPHICS ITEM INSIDE THE CELL </span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">()</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">,</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>        
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>        
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>        <span class="c1">#IF HIGHLIGHTED</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>            <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">,</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.25</span><span class="p">)</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a>            
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="p">)</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>                    <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>                    <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">set_theta</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>    
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>                <span class="k">except</span><span class="p">:</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a>                    <span class="k">pass</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a>            <span class="k">pass</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a>        
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a>        <span class="c1">#DRAW THE RIGHT ORIENTATION OF THE ROBOT IN THE DIRECTION OF MOVING</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_line_item</span><span class="o">.</span><span class="n">setLine</span><span class="p">(</span><span class="n">rect2</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>  <span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>   <span class="c1">#start x</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1">#start y </span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>  <span class="o">*</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>      <span class="c1">#end x</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">*</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>      <span class="c1">#end y                                  </span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>        <span class="c1">#UPDATE TOOLTIP</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_tooltip</span><span class="p">()</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>    <span class="k">def</span> <span class="nf">update_tooltip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a><span class="sd">        Updates the tooltip for the robot.</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>        <span class="n">tooltip</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;robot(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>                   <span class="s2">&quot;)</span><span class="se">\n</span><span class="s2">Position: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()))</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">tooltip</span><span class="p">)</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a><span class="sd">        Determines the color of the robot.</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a><span class="sd">        </span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">calculate_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">)(</span><span class="n">number</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">)</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QBrush</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>    
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a>    <span class="c1">#ACTIONS / UPDATE   </span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>    <span class="k">def</span> <span class="nf">clear_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a><span class="sd">        Deletes all saved actions for the robot.</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="sd">        Executes an action for the robot.</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a><span class="sd">        one time step forward.</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a><span class="sd">        </span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a><span class="sd">        :param time_step:   int     - The time step for which an action should be executed.</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a><span class="sd">        :return:   **int**          - 1 if an action was done and 0 if an error occured.</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">VIZ_STATE_ACTION</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>        <span class="c1">#SETS THE STATE FOR THE NEXT ACTION</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>                <span class="c1">#SETS THE STATE FOR THE NEXT ACTION</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVE</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>        
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>        <span class="c1">#TRY TO GET THE ACTION</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a>        <span class="c1">#EXECUTE ACTION</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a>        <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span> 
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>          
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>            <span class="c1">#MOVE </span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>                <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a>                <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>                <span class="c1">#MOVE AND CHANGE ORIENTATION IF VALUE NOT ZERO</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">move_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">move_y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVED</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a>                <span class="c1">#NO ACTION, NO CHANGE IN POSITION</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>            
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>            <span class="c1">#MARK VISITED CHECKPOINTS</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>                <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>                    <span class="n">pos</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a>                    <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a>                        <span class="n">task</span><span class="o">.</span><span class="n">visit_checkpoint</span><span class="p">(</span><span class="n">checkpoint</span><span class="p">)</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>                        <span class="k">break</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="n">time_step</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>            <span class="k">return</span> <span class="mi">1</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a><span class="sd">        Reverse an executed action for the robot.</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a><span class="sd">        one time step backwards.  </span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a><span class="sd">        :param time_step:   int     - The time step for which an action should be reversed.</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a><span class="sd">        :return:   **int**          - 1 if an action was done and 0 if an error occured.</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">VIZ_STATE_ACTION</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>  
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span> 
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a>        <span class="c1">#EXECUTE ACTION</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a>        <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span> 
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>            
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>            <span class="c1">#UNMARK VISITED CHECKPOINTS</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>                <span class="k">for</span> <span class="n">checkpoint</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>                    <span class="c1">#checkpoint[0] -&gt; checkpoint object, checkpoint[1] -&gt; name of the checkpoint</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>                    <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>                    <span class="n">pos</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>                    <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>                        <span class="n">task</span><span class="o">.</span><span class="n">unvisit_checkpoint</span><span class="p">(</span><span class="n">checkpoint</span><span class="p">)</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>                        <span class="k">break</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>            <span class="c1">#MOVE BACK</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>                <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a>                <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>                <span class="c1">#MOVE BACK AND CHANGE ORIENTATION IF VALUE NOT ZERO</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">move_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">move_y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVE</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>                <span class="c1">#NO ACTION, NO CHANGE IN POSITION</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>            
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>            <span class="k">return</span> <span class="mi">1</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a><span class="sd">        Resets the item to its original values. This function will be called for every item if </span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a><span class="sd">        the Button &quot;RESET&quot; in the GUI is pressed</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a><span class="sd">        -   delete old actions for the robot</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a><span class="sd">        -   move the robot back to it&#39;s start position</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a><span class="sd">        -   mark all the checkpoints of the robot as not visited yet</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">clear_actions</span><span class="p">()</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">unvisit_all_checkpoints</span><span class="p">()</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>    <span class="k">def</span> <span class="nf">restart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a><span class="sd">        Sets the robot to it&#39;s starting position.</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">restart</span><span class="p">()</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>    <span class="c1">#TASK / CHECKPOINTS</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>    <span class="k">def</span> <span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">):</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a><span class="sd">        Adds a task to the robot (For the moment only one task is supported).</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a><span class="sd">        :param task:   mapf_simulation.visualizerItem.TaskROS  -    A new task for the robot</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a>            <span class="k">return</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>            <span class="k">return</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a>        <span class="n">task</span><span class="o">.</span><span class="n">set_robot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a>    <span class="k">def</span> <span class="nf">check_robot_at_target</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a><span class="sd">        This function checks whether the robot has reached it&#39;s target. </span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">        At the moment for one robot only one checkpoint and only one task are supported.</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a><span class="sd">        Therefore this function checks only if the robot has reached the position </span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a><span class="sd">        of the first checkpoint from it&#39;s first task from his task list.</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a><span class="sd">        </span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a><span class="sd">        :return: **True**   -   if the robot has reached it&#39;s target   </span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a><span class="sd">                 **False**  -   otherwise</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>        <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> 
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a>            <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>    <span class="k">def</span> <span class="nf">unvisit_all_checkpoints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a><span class="sd">        This function iterates over the tasks of this robot and </span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a><span class="sd">        marks all the checkpoints assigned to the tasks as not visited.</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>        <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>            <span class="n">task</span><span class="o">.</span><span class="n">unvisit_all_checkpoints</span><span class="p">()</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>    <span class="c1">#ROS2 FUNCTIONS</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>    <span class="k">def</span> <span class="nf">ros_spin_once</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a><span class="sd">        Spin the ROS2-node once (every robot is also a ROS2-node) to process the data sent through ROS2-interfaces</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>        <span class="n">rclpy</span><span class="o">.</span><span class="n">spin_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_sec</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>    <span class="k">def</span> <span class="nf">ros_publish_message_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a><span class="sd">        This function generates a ROS2 message of type [mapf_interfaces/RobotInfo.msg] </span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a><span class="sd">        and publishes it to the following topic: */mapf_robot_info_&quot;ID&quot;*</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a><span class="sd">        </span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a><span class="sd">        This function will be called by the model every time a robot performs an action and then has to publish</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a><span class="sd">        the updated information about itself.</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a><span class="sd">        :param msg_id:      int  -   The id of the current cycle (sim-&gt;controller-&gt;planner-&gt;controller-&gt;sim)</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a><span class="sd">        :param time_step:   int  -   Sets the time step in the published message (msg.step = time_step)</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>        <span class="n">msg</span>  <span class="o">=</span> <span class="n">RobotInfo</span><span class="p">()</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>        <span class="n">pos</span>  <span class="o">=</span> <span class="n">Position</span><span class="p">()</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a>        <span class="n">checkpoint_msg</span> <span class="o">=</span> <span class="n">CheckpointInfo</span><span class="p">()</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a>        <span class="n">goal</span> <span class="o">=</span> <span class="n">Position</span><span class="p">()</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>        
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>        <span class="c1">#Add CYCLE-ID        </span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">msg_id</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>        <span class="c1">#Add STEP        </span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="n">time_step</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>        <span class="c1">#Add ROBOT_ID</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_id</span><span class="p">())</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>        <span class="c1">#Add BUCKET</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">bucket</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">())</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>        <span class="c1">#Add OPTIMAL_LENGTH</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">optimal_length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_heuristic</span><span class="p">())</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>        <span class="c1">#Add POSITION</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>        <span class="n">pos</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">pos_y</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>        <span class="c1">#Add CHECKPOINTS</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>        <span class="n">checkpoints</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">()</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>        <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">checkpoints</span><span class="p">:</span>    
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">visited</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_visit_status</span><span class="p">()</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>            <span class="n">msg</span><span class="o">.</span><span class="n">checkpoints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checkpoint_msg</span><span class="p">)</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>        <span class="c1">#publish message: RobotInfo.msg</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a>        <span class="k">return</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a>    <span class="c1">#TODO: check action = move or action = rotate</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>    <span class="k">def</span> <span class="nf">callback_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a><span class="sd">        This function will be called every time a message on the following topics is received: </span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a><span class="sd">        */mapf_robot_info_&quot;ID&quot;*</span>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a><span class="sd">        This function creates an action from the received message and </span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a><span class="sd">        saves the action in the robot for the (in the message) defined step!</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a><span class="sd">        </span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a><span class="sd">        :param msg: mapf_interfaces/RobotAction.msg - message from the topic /mapf_robot_action_ID</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message received&quot;</span><span class="p">)</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STEP: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;robot_id: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span><span class="p">)</span>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;move x: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_x</span><span class="p">)</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;move y: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_y</span><span class="p">)</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rotate: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">rotate</span><span class="p">)</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>        
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a>        <span class="c1">#skip message if action not for current step</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a>        <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">():</span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SKIP MESSAGE, WRONG STEP&quot;</span><span class="p">)</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robot ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span><span class="p">))</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Msg step: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">))</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current step: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">()))</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>            <span class="k">return</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a>        
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a>        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">move_x</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_y</span><span class="p">,</span> <span class="s1">&#39;move&#39;</span><span class="p">)</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_action</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_future_path</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_ready</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>     
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a><span class="k">class</span> <span class="nc">CheckpointROS</span><span class="p">(</span><span class="n">VisualizerGraphicItem</span><span class="p">):</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a><span class="sd">    This class represents a Checkpoint.</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a><span class="sd">    **Attributes**:</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a><span class="sd">    -   **_kind_name**:     str                 -   The name of this kind of item. This is always &#39;checkpoint_ros&#39;.</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a><span class="sd">    -   **_graphics_item**: QGraphicsRectItem   -   This is the main graphic item of the checkpoint</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a><span class="sd">                                                    and is used for some default functions.</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a><span class="sd">    -   **_text**:          QGraphicsTextItem   -   This is a text item that is drawn on the model view</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a><span class="sd">                                                    and represents primarily the id of the checkpoint.</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a><span class="sd">    -   **_shine**:         bool                -   This is true if the checkpoint should be highlighted. Checkpoints</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a><span class="sd">        :param ID:      int, optional    - The ID of the item</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a><span class="sd">        :param x:       int, optional    - The x coordinate on the grid</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a><span class="sd">        :param y:       int, optional    - The y coordinate on the grid</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a><span class="sd">        :param theta:   int, optional    - Orientation of the item (not used currently)</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a>        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;checkpoint_ros&#39;</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a>        <span class="c1">#self._graphics_item = QGraphicsEllipseItem(self)</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="n">QGraphicsRectItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">QGraphicsTextItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="p">)</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>        <span class="c1">#self._checkpoint_number = 0</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>    
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>    <span class="c1">#GET</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a><span class="sd">        Returns the current rectangle of an item.</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a><span class="sd">        :return: QtCore.QRect   -   The current rectangle of this item</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>    <span class="k">def</span> <span class="nf">get_visit_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a><span class="sd">        Returns whether the item was visited by a roboter or not.</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a><span class="sd">        :return: bool   -   True or False</span>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>    <span class="c1">#VISUAL</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a><span class="sd">        Determines the color of the checkpoint.</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a><span class="sd">        </span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">calculate_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">)(</span><span class="n">number</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">)</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a>        <span class="c1">#color = QColor(255,255,255) #white</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a>        
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a>        <span class="c1">#if self._shine:</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a>        <span class="c1">#    color = QColor(51,255,0)</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">QBrush</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;    </span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a><span class="sd">        Sets the rectangle that a checkpoint can use to draw things in.</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a><span class="sd">        This function defines the appearance of the checkpoint</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="sd">        on the grid.</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="sd">        :param rect: QtCore.QRect   - The rectangle that a checkpoint can use to draw things in.</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a>        <span class="n">scale</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_scale&#39;</span><span class="p">)</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a>        <span class="n">bold</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_bold&#39;</span><span class="p">)</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a>        
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a>        <span class="c1">#SET FONTSIZE, TEXT POSITION AND DEFAULT TEXT COLOR</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.3</span><span class="o">*</span><span class="n">scale</span><span class="p">))</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setDefaultTextColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_color&#39;</span><span class="p">)))</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a>        <span class="c1">#SET DISPLAY MODE</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>            <span class="k">if</span> <span class="n">bold</span><span class="p">:</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">))</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>        <span class="c1">#SET POSITION AND SIZE OF GRAPHICS ITEM INSIDE THE CELL </span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">()</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">,</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a>        <span class="c1">#IF HIGHLIGHTED</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>        
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a>            <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">,</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.2</span><span class="p">)</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a>        <span class="c1">#IF SHINE</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span><span class="p">:</span>    
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a>        
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a>        <span class="c1">#SAVE </span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>        
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="p">)</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a>     
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a>    <span class="c1">#ACTIONS</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a><span class="sd">        Resets the shine value at every time step.</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a><span class="sd">        :param time_step:   int     -   Not used.</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a>        <span class="k">return</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a><span class="sd">        Resets the shine value at every time step.</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a><span class="sd">        :param time_step:   int     -   Not used.</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a>        <span class="k">return</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>    <span class="k">def</span> <span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a><span class="sd">        Sets the shine value to True.</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a><span class="sd">        &quot;&quot;&quot;</span>    
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a>    <span class="k">def</span> <span class="nf">unvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a><span class="sd">        Sets the shine value to False.</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a><span class="sd">    VisualizerGraphicItem</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a><span class="sd">    def to_occurs_str(self):</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a><span class="sd">        This function returns a list of strings that represents all</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a><span class="sd">        actions of an item.        </span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a><span class="sd">        actions = []</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a><span class="sd">        count = 0</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a><span class="sd">        for action in self._actions:</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a><span class="sd">            if action is None:</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a><span class="sd">                actions.append(None)</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a><span class="sd">            else:</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a><span class="sd">                actions.append(&#39;occurs(object(&#39;</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a><span class="sd">                    + self._kind_name + &#39;, &#39;</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a><span class="sd">                    + str(self._id) + &#39;), &#39;</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a><span class="sd">                    + str(action) + &#39;, &#39;</span>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a><span class="sd">                    + str(count) + &#39;).\n&#39;)</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a><span class="sd">            count = count + 1</span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a><span class="sd">        return actions</span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a><span class="sd">    def parse_init_value(self, name, value):</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a><span class="sd">        This function handels the input phrases for every item.</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a><span class="sd">        This is called for every phrase the model receives with the</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a><span class="sd">        following syntax: </span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a><span class="sd">        init(object([object type], [object ID]), value([value name], [value])).</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a><span class="sd">        While [object type] is the same as self._kind_name and [object ID]</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a><span class="sd">        is the ID of the object and is the same as self._id.</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a><span class="sd">        The model decides based on this value the object that receives</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a><span class="sd">        the phrase.</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a><span class="sd">        Parameters:</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a><span class="sd">        name: str</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a><span class="sd">            This is the name of the value.</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a><span class="sd">            This is the actual value. It contains the [value]</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a><span class="sd">            part of the phrase.        </span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a><span class="sd">        Returns 1 if the phrase cannot be parsed, -1 if one parameter is</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a><span class="sd">        invalid and 0 if the function succeeded.</span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a><span class="sd">        if value is None or name is None:</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a><span class="sd">            return -1</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a><span class="sd">        if name == &#39;at&#39;:</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a><span class="sd">            pos = (value.arguments[0].number, value.arguments[1].number)</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a><span class="sd">            self.set_starting_position(pos[0], pos[1])</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a><span class="sd">            self.set_position(pos[0], pos[1])</span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a><span class="sd">            return 0</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a><span class="sd">        return 1</span>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a><span class="sd">    def to_init_str(self):</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a><span class="sd">        Converts the item to a string that represents the items values.</span>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a><span class="sd">        This function is used to send the whole model to a solver</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a><span class="sd">        and to save an instance to a file.</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a><span class="sd">        return (&#39;init(object(&#39;</span>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a><span class="sd">                + self._kind_name + &#39;,&#39;</span>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a><span class="sd">                + str(self._id) + &#39;), value(at,(&#39;</span>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a><span class="sd">                + str(self._position[0]) + &#39;,&#39;</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a><span class="sd">                + str(self._position[1]) + &#39;))).&#39;)</span>
</span><span id="L-1475"><a href="#L-1475"><span class="linenos">1475</span></a>
</span><span id="L-1476"><a href="#L-1476"><span class="linenos">1476</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1477"><a href="#L-1477"><span class="linenos">1477</span></a>
</span><span id="L-1478"><a href="#L-1478"><span class="linenos">1478</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1479"><a href="#L-1479"><span class="linenos">1479</span></a><span class="sd">    RobotROS</span>
</span><span id="L-1480"><a href="#L-1480"><span class="linenos">1480</span></a>
</span><span id="L-1481"><a href="#L-1481"><span class="linenos">1481</span></a><span class="sd">    self._position_history = [] #list of pairs of x, y and theta</span>
</span><span id="L-1482"><a href="#L-1482"><span class="linenos">1482</span></a><span class="sd">     </span>
</span><span id="L-1483"><a href="#L-1483"><span class="linenos">1483</span></a><span class="sd">    </span>
</span><span id="L-1484"><a href="#L-1484"><span class="linenos">1484</span></a><span class="sd">    from set_rect():</span>
</span><span id="L-1485"><a href="#L-1485"><span class="linenos">1485</span></a><span class="sd">         </span>
</span><span id="L-1486"><a href="#L-1486"><span class="linenos">1486</span></a><span class="sd">        rect2 = QRectF(rect.x() + 0.25*rect.width(), </span>
</span><span id="L-1487"><a href="#L-1487"><span class="linenos">1487</span></a><span class="sd">                        rect.y() + 0.25*rect.height(),</span>
</span><span id="L-1488"><a href="#L-1488"><span class="linenos">1488</span></a><span class="sd">                        rect.width()*0.5,</span>
</span><span id="L-1489"><a href="#L-1489"><span class="linenos">1489</span></a><span class="sd">                        rect.height()*0.5)</span>
</span><span id="L-1490"><a href="#L-1490"><span class="linenos">1490</span></a><span class="sd">        #draw pose of the robot</span>
</span><span id="L-1491"><a href="#L-1491"><span class="linenos">1491</span></a><span class="sd">        self._graphics_line_item.setLine(rect2.x()+rect2.width()*0.5, rect2.y()+rect2.height()*0.5,  </span>
</span><span id="L-1492"><a href="#L-1492"><span class="linenos">1492</span></a><span class="sd">                                         rect2.x()+rect2.width(),      </span>
</span><span id="L-1493"><a href="#L-1493"><span class="linenos">1493</span></a><span class="sd">                                         rect2.y()+rect2.height()*0.5)</span>
</span><span id="L-1494"><a href="#L-1494"><span class="linenos">1494</span></a>
</span><span id="L-1495"><a href="#L-1495"><span class="linenos">1495</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1496"><a href="#L-1496"><span class="linenos">1496</span></a><span class="sd">    from def edit_position_to(self, x, y):</span>
</span><span id="L-1497"><a href="#L-1497"><span class="linenos">1497</span></a>
</span><span id="L-1498"><a href="#L-1498"><span class="linenos">1498</span></a><span class="sd">        shelf = self._model.filter_items(&#39;shelf&#39;,</span>
</span><span id="L-1499"><a href="#L-1499"><span class="linenos">1499</span></a><span class="sd">                                        position = self._position,</span>
</span><span id="L-1500"><a href="#L-1500"><span class="linenos">1500</span></a><span class="sd">                                        return_first = True)[0]</span>
</span><span id="L-1501"><a href="#L-1501"><span class="linenos">1501</span></a><span class="sd">        shelf2 = self._model.filter_items(&#39;shelf&#39;,</span>
</span><span id="L-1502"><a href="#L-1502"><span class="linenos">1502</span></a><span class="sd">                                        position = (x,y),</span>
</span><span id="L-1503"><a href="#L-1503"><span class="linenos">1503</span></a><span class="sd">                                        return_first = True)[0]</span>
</span><span id="L-1504"><a href="#L-1504"><span class="linenos">1504</span></a>
</span><span id="L-1505"><a href="#L-1505"><span class="linenos">1505</span></a><span class="sd">        if shelf2 is not None and shelf is not None:</span>
</span><span id="L-1506"><a href="#L-1506"><span class="linenos">1506</span></a><span class="sd">            if shelf.get_carried() is not None or shelf2.get_carried() is not None:</span>
</span><span id="L-1507"><a href="#L-1507"><span class="linenos">1507</span></a><span class="sd">                shelf.set_position(x,y)</span>
</span><span id="L-1508"><a href="#L-1508"><span class="linenos">1508</span></a><span class="sd">                shelf.set_starting_position(x,y)</span>
</span><span id="L-1509"><a href="#L-1509"><span class="linenos">1509</span></a><span class="sd">                shelf2.set_position(self._position[0], self._position[1])</span>
</span><span id="L-1510"><a href="#L-1510"><span class="linenos">1510</span></a><span class="sd">                shelf2.set_starting_position(self._position, self._position[1])</span>
</span><span id="L-1511"><a href="#L-1511"><span class="linenos">1511</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1512"><a href="#L-1512"><span class="linenos">1512</span></a>
</span><span id="L-1513"><a href="#L-1513"><span class="linenos">1513</span></a><span class="sd">    #delete this functions later</span>
</span><span id="L-1514"><a href="#L-1514"><span class="linenos">1514</span></a><span class="sd">    def parse_init_value(self, name, value):</span>
</span><span id="L-1515"><a href="#L-1515"><span class="linenos">1515</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1516"><a href="#L-1516"><span class="linenos">1516</span></a><span class="sd">        This function handels the input phrases for robots.</span>
</span><span id="L-1517"><a href="#L-1517"><span class="linenos">1517</span></a><span class="sd">        This is called for every phrase the model receives with the</span>
</span><span id="L-1518"><a href="#L-1518"><span class="linenos">1518</span></a><span class="sd">        following syntax: </span>
</span><span id="L-1519"><a href="#L-1519"><span class="linenos">1519</span></a><span class="sd">        init(object(robot, [robot ID]), value([value name], [value])).</span>
</span><span id="L-1520"><a href="#L-1520"><span class="linenos">1520</span></a>
</span><span id="L-1521"><a href="#L-1521"><span class="linenos">1521</span></a><span class="sd">        Parameters:</span>
</span><span id="L-1522"><a href="#L-1522"><span class="linenos">1522</span></a><span class="sd">        name: str</span>
</span><span id="L-1523"><a href="#L-1523"><span class="linenos">1523</span></a><span class="sd">            This is the name of the value.</span>
</span><span id="L-1524"><a href="#L-1524"><span class="linenos">1524</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-1525"><a href="#L-1525"><span class="linenos">1525</span></a><span class="sd">            This is the actual value. It contains the [value]</span>
</span><span id="L-1526"><a href="#L-1526"><span class="linenos">1526</span></a><span class="sd">            part of the phrase.        </span>
</span><span id="L-1527"><a href="#L-1527"><span class="linenos">1527</span></a>
</span><span id="L-1528"><a href="#L-1528"><span class="linenos">1528</span></a><span class="sd">        Returns 1 if the phrase cannot be parsed, -1 if one parameter is</span>
</span><span id="L-1529"><a href="#L-1529"><span class="linenos">1529</span></a><span class="sd">        invalid and 0 if the function succeeded.   </span>
</span><span id="L-1530"><a href="#L-1530"><span class="linenos">1530</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1531"><a href="#L-1531"><span class="linenos">1531</span></a>
</span><span id="L-1532"><a href="#L-1532"><span class="linenos">1532</span></a><span class="sd">        result = super(self.__class__, self).parse_init_value(name, value)</span>
</span><span id="L-1533"><a href="#L-1533"><span class="linenos">1533</span></a><span class="sd">        if result &lt;= 0: return result</span>
</span><span id="L-1534"><a href="#L-1534"><span class="linenos">1534</span></a><span class="sd">        if name == &#39;carries&#39;:</span>
</span><span id="L-1535"><a href="#L-1535"><span class="linenos">1535</span></a><span class="sd">            shelf = self._model.get_item(&#39;shelf&#39;, value, True, True)</span>
</span><span id="L-1536"><a href="#L-1536"><span class="linenos">1536</span></a><span class="sd">            self.set_initial_carries(shelf)</span>
</span><span id="L-1537"><a href="#L-1537"><span class="linenos">1537</span></a><span class="sd">            self.set_carries(shelf)</span>
</span><span id="L-1538"><a href="#L-1538"><span class="linenos">1538</span></a><span class="sd">            return 0</span>
</span><span id="L-1539"><a href="#L-1539"><span class="linenos">1539</span></a><span class="sd">        elif name == &#39;energy&#39;:</span>
</span><span id="L-1540"><a href="#L-1540"><span class="linenos">1540</span></a><span class="sd">            self.set_current_energy(value.number)</span>
</span><span id="L-1541"><a href="#L-1541"><span class="linenos">1541</span></a><span class="sd">            self.set_initial_energy(value.number)</span>
</span><span id="L-1542"><a href="#L-1542"><span class="linenos">1542</span></a><span class="sd">            return 0</span>
</span><span id="L-1543"><a href="#L-1543"><span class="linenos">1543</span></a><span class="sd">        elif name == &#39;max_energy&#39;:</span>
</span><span id="L-1544"><a href="#L-1544"><span class="linenos">1544</span></a><span class="sd">            self.set_max_energy(value.number)</span>
</span><span id="L-1545"><a href="#L-1545"><span class="linenos">1545</span></a><span class="sd">            return 0</span>
</span><span id="L-1546"><a href="#L-1546"><span class="linenos">1546</span></a><span class="sd">        elif name == &#39;energy_cost&#39;:</span>
</span><span id="L-1547"><a href="#L-1547"><span class="linenos">1547</span></a><span class="sd">            self._energy_costs[value.arguments[0].name] = value.arguments[1].number</span>
</span><span id="L-1548"><a href="#L-1548"><span class="linenos">1548</span></a><span class="sd">            return 0</span>
</span><span id="L-1549"><a href="#L-1549"><span class="linenos">1549</span></a><span class="sd">        return 1</span>
</span><span id="L-1550"><a href="#L-1550"><span class="linenos">1550</span></a>
</span><span id="L-1551"><a href="#L-1551"><span class="linenos">1551</span></a><span class="sd">    def to_init_str(self):</span>
</span><span id="L-1552"><a href="#L-1552"><span class="linenos">1552</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1553"><a href="#L-1553"><span class="linenos">1553</span></a><span class="sd">        Converts the robot to a string that represents the robots values.</span>
</span><span id="L-1554"><a href="#L-1554"><span class="linenos">1554</span></a><span class="sd">        This function is used to send robots to a solver</span>
</span><span id="L-1555"><a href="#L-1555"><span class="linenos">1555</span></a><span class="sd">        and to save robots to a file.</span>
</span><span id="L-1556"><a href="#L-1556"><span class="linenos">1556</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1557"><a href="#L-1557"><span class="linenos">1557</span></a>
</span><span id="L-1558"><a href="#L-1558"><span class="linenos">1558</span></a><span class="sd">        s = super(self.__class__, self).to_init_str()</span>
</span><span id="L-1559"><a href="#L-1559"><span class="linenos">1559</span></a><span class="sd">        if self._initial_carries is not None:</span>
</span><span id="L-1560"><a href="#L-1560"><span class="linenos">1560</span></a><span class="sd">            s += (&quot;init(object(robot,&quot;</span>
</span><span id="L-1561"><a href="#L-1561"><span class="linenos">1561</span></a><span class="sd">                    + str(self._id) + &quot;),value(carries,&quot;</span>
</span><span id="L-1562"><a href="#L-1562"><span class="linenos">1562</span></a><span class="sd">                    + str(self._initial_carries.get_id())</span>
</span><span id="L-1563"><a href="#L-1563"><span class="linenos">1563</span></a><span class="sd">                    + &quot;)).&quot;)</span>
</span><span id="L-1564"><a href="#L-1564"><span class="linenos">1564</span></a><span class="sd">        s += (&quot;init(object(robot,&quot; </span>
</span><span id="L-1565"><a href="#L-1565"><span class="linenos">1565</span></a><span class="sd">                + str(self._id) + &quot;), value(max_energy,&quot;</span>
</span><span id="L-1566"><a href="#L-1566"><span class="linenos">1566</span></a><span class="sd">                + str(self._max_energy)</span>
</span><span id="L-1567"><a href="#L-1567"><span class="linenos">1567</span></a><span class="sd">                + &quot;)).&quot;)</span>
</span><span id="L-1568"><a href="#L-1568"><span class="linenos">1568</span></a><span class="sd">        s += (&quot;init(object(robot,&quot; </span>
</span><span id="L-1569"><a href="#L-1569"><span class="linenos">1569</span></a><span class="sd">                + str(self._id) + &quot;), value(energy,&quot;</span>
</span><span id="L-1570"><a href="#L-1570"><span class="linenos">1570</span></a><span class="sd">                + str(self._current_energy)</span>
</span><span id="L-1571"><a href="#L-1571"><span class="linenos">1571</span></a><span class="sd">                + &quot;)).&quot;)</span>
</span><span id="L-1572"><a href="#L-1572"><span class="linenos">1572</span></a><span class="sd">        for key in self._energy_costs:</span>
</span><span id="L-1573"><a href="#L-1573"><span class="linenos">1573</span></a><span class="sd">            s += (&quot;init(object(robot,&quot;</span>
</span><span id="L-1574"><a href="#L-1574"><span class="linenos">1574</span></a><span class="sd">                    + str(self._id) + &quot;),value(energy_cost, (&quot;</span>
</span><span id="L-1575"><a href="#L-1575"><span class="linenos">1575</span></a><span class="sd">                    + key + &quot;, &quot; + str(self._energy_costs[key]) + &quot;))).&quot;)</span>
</span><span id="L-1576"><a href="#L-1576"><span class="linenos">1576</span></a><span class="sd">        return s</span>
</span><span id="L-1577"><a href="#L-1577"><span class="linenos">1577</span></a>
</span><span id="L-1578"><a href="#L-1578"><span class="linenos">1578</span></a><span class="sd">    def to_occurs_str(self):</span>
</span><span id="L-1579"><a href="#L-1579"><span class="linenos">1579</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1580"><a href="#L-1580"><span class="linenos">1580</span></a><span class="sd">        This function returns a list of strings that represents all</span>
</span><span id="L-1581"><a href="#L-1581"><span class="linenos">1581</span></a><span class="sd">        actions of a robot.        </span>
</span><span id="L-1582"><a href="#L-1582"><span class="linenos">1582</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1583"><a href="#L-1583"><span class="linenos">1583</span></a>
</span><span id="L-1584"><a href="#L-1584"><span class="linenos">1584</span></a><span class="sd">        actions = []</span>
</span><span id="L-1585"><a href="#L-1585"><span class="linenos">1585</span></a><span class="sd">        count = 0</span>
</span><span id="L-1586"><a href="#L-1586"><span class="linenos">1586</span></a><span class="sd">        for action in self._actions:</span>
</span><span id="L-1587"><a href="#L-1587"><span class="linenos">1587</span></a><span class="sd">            str_out = &#39;&#39;</span>
</span><span id="L-1588"><a href="#L-1588"><span class="linenos">1588</span></a><span class="sd">            if action is None:</span>
</span><span id="L-1589"><a href="#L-1589"><span class="linenos">1589</span></a><span class="sd">                actions.append(None)</span>
</span><span id="L-1590"><a href="#L-1590"><span class="linenos">1590</span></a><span class="sd">            else:</span>
</span><span id="L-1591"><a href="#L-1591"><span class="linenos">1591</span></a><span class="sd">                str_out = &#39;&#39;</span>
</span><span id="L-1592"><a href="#L-1592"><span class="linenos">1592</span></a><span class="sd">                if action is not None:</span>
</span><span id="L-1593"><a href="#L-1593"><span class="linenos">1593</span></a><span class="sd">                    str_out = (&#39;occurs(object(&#39;</span>
</span><span id="L-1594"><a href="#L-1594"><span class="linenos">1594</span></a><span class="sd">                        + self._kind_name + &#39;, &#39;</span>
</span><span id="L-1595"><a href="#L-1595"><span class="linenos">1595</span></a><span class="sd">                        + str(self._id) + &#39;), &#39;</span>
</span><span id="L-1596"><a href="#L-1596"><span class="linenos">1596</span></a><span class="sd">                        + str(action) + &#39;, &#39;</span>
</span><span id="L-1597"><a href="#L-1597"><span class="linenos">1597</span></a><span class="sd">                        + str(count) + &#39;).\n&#39;)</span>
</span><span id="L-1598"><a href="#L-1598"><span class="linenos">1598</span></a><span class="sd">                actions.append(str_out)</span>
</span><span id="L-1599"><a href="#L-1599"><span class="linenos">1599</span></a><span class="sd">            count = count + 1</span>
</span><span id="L-1600"><a href="#L-1600"><span class="linenos">1600</span></a><span class="sd">        return actions</span>
</span><span id="L-1601"><a href="#L-1601"><span class="linenos">1601</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1602"><a href="#L-1602"><span class="linenos">1602</span></a>
</span><span id="L-1603"><a href="#L-1603"><span class="linenos">1603</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1604"><a href="#L-1604"><span class="linenos">1604</span></a><span class="sd">    CheckpointROS</span>
</span><span id="L-1605"><a href="#L-1605"><span class="linenos">1605</span></a>
</span><span id="L-1606"><a href="#L-1606"><span class="linenos">1606</span></a><span class="sd">    in def set_rect:</span>
</span><span id="L-1607"><a href="#L-1607"><span class="linenos">1607</span></a><span class="sd">        #pen.setStyle(Qt.DashLine)</span>
</span><span id="L-1608"><a href="#L-1608"><span class="linenos">1608</span></a><span class="sd">        #pen.setStyle(Qt.DotLine)</span>
</span><span id="L-1609"><a href="#L-1609"><span class="linenos">1609</span></a><span class="sd">        #space = 4</span>
</span><span id="L-1610"><a href="#L-1610"><span class="linenos">1610</span></a><span class="sd">        #dashes = [1, space]</span>
</span><span id="L-1611"><a href="#L-1611"><span class="linenos">1611</span></a><span class="sd">        #pen.setDashPattern(dashes)</span>
</span><span id="L-1612"><a href="#L-1612"><span class="linenos">1612</span></a>
</span><span id="L-1613"><a href="#L-1613"><span class="linenos">1613</span></a>
</span><span id="L-1614"><a href="#L-1614"><span class="linenos">1614</span></a><span class="sd">    self._name = &quot;&quot;</span>
</span><span id="L-1615"><a href="#L-1615"><span class="linenos">1615</span></a>
</span><span id="L-1616"><a href="#L-1616"><span class="linenos">1616</span></a>
</span><span id="L-1617"><a href="#L-1617"><span class="linenos">1617</span></a>
</span><span id="L-1618"><a href="#L-1618"><span class="linenos">1618</span></a><span class="sd">    def set_name(self, name = &quot;&quot;):</span>
</span><span id="L-1619"><a href="#L-1619"><span class="linenos">1619</span></a><span class="sd">        self._name = name</span>
</span><span id="L-1620"><a href="#L-1620"><span class="linenos">1620</span></a>
</span><span id="L-1621"><a href="#L-1621"><span class="linenos">1621</span></a><span class="sd">    </span>
</span><span id="L-1622"><a href="#L-1622"><span class="linenos">1622</span></a><span class="sd">    </span>
</span><span id="L-1623"><a href="#L-1623"><span class="linenos">1623</span></a>
</span><span id="L-1624"><a href="#L-1624"><span class="linenos">1624</span></a><span class="sd">    def get_name(self):</span>
</span><span id="L-1625"><a href="#L-1625"><span class="linenos">1625</span></a><span class="sd">        return self._name</span>
</span><span id="L-1626"><a href="#L-1626"><span class="linenos">1626</span></a>
</span><span id="L-1627"><a href="#L-1627"><span class="linenos">1627</span></a><span class="sd">    def set_position(self, x, y):</span>
</span><span id="L-1628"><a href="#L-1628"><span class="linenos">1628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1629"><a href="#L-1629"><span class="linenos">1629</span></a><span class="sd">        Sets the current position of the checkpoint.</span>
</span><span id="L-1630"><a href="#L-1630"><span class="linenos">1630</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1631"><a href="#L-1631"><span class="linenos">1631</span></a><span class="sd">        self._position = (x, y)</span>
</span><span id="L-1632"><a href="#L-1632"><span class="linenos">1632</span></a><span class="sd">        #super(self.__class__, self).set_position(x, y)</span>
</span><span id="L-1633"><a href="#L-1633"><span class="linenos">1633</span></a><span class="sd">        </span>
</span><span id="L-1634"><a href="#L-1634"><span class="linenos">1634</span></a><span class="sd">    def set_starting_position(self, x, y):</span>
</span><span id="L-1635"><a href="#L-1635"><span class="linenos">1635</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1636"><a href="#L-1636"><span class="linenos">1636</span></a><span class="sd">        Sets the starting position of the robot.</span>
</span><span id="L-1637"><a href="#L-1637"><span class="linenos">1637</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1638"><a href="#L-1638"><span class="linenos">1638</span></a><span class="sd">        self._start_position = (x, y)</span>
</span><span id="L-1639"><a href="#L-1639"><span class="linenos">1639</span></a><span class="sd">        #super(self.__class__, self).set_starting_position(x, y)</span>
</span><span id="L-1640"><a href="#L-1640"><span class="linenos">1640</span></a>
</span><span id="L-1641"><a href="#L-1641"><span class="linenos">1641</span></a><span class="sd">    #delete this function later</span>
</span><span id="L-1642"><a href="#L-1642"><span class="linenos">1642</span></a><span class="sd">    def parse_init_value(self, name, value):</span>
</span><span id="L-1643"><a href="#L-1643"><span class="linenos">1643</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1644"><a href="#L-1644"><span class="linenos">1644</span></a><span class="sd">        This function handels the input phrases for checkpoints.</span>
</span><span id="L-1645"><a href="#L-1645"><span class="linenos">1645</span></a><span class="sd">        This is called for every phrase the model receives with the</span>
</span><span id="L-1646"><a href="#L-1646"><span class="linenos">1646</span></a><span class="sd">        following syntax: </span>
</span><span id="L-1647"><a href="#L-1647"><span class="linenos">1647</span></a><span class="sd">        init(object(checkpoint, [checkpoint ID]), value([value name], [value])).</span>
</span><span id="L-1648"><a href="#L-1648"><span class="linenos">1648</span></a>
</span><span id="L-1649"><a href="#L-1649"><span class="linenos">1649</span></a><span class="sd">        Parameters:</span>
</span><span id="L-1650"><a href="#L-1650"><span class="linenos">1650</span></a><span class="sd">        name: str</span>
</span><span id="L-1651"><a href="#L-1651"><span class="linenos">1651</span></a><span class="sd">            This is the name of the value.</span>
</span><span id="L-1652"><a href="#L-1652"><span class="linenos">1652</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-1653"><a href="#L-1653"><span class="linenos">1653</span></a><span class="sd">            This is the actual value. It contains the [value]</span>
</span><span id="L-1654"><a href="#L-1654"><span class="linenos">1654</span></a><span class="sd">            part of the phrase.</span>
</span><span id="L-1655"><a href="#L-1655"><span class="linenos">1655</span></a>
</span><span id="L-1656"><a href="#L-1656"><span class="linenos">1656</span></a><span class="sd">        Returns 1 if the phrase cannot be parsed, -1 if one parameter is</span>
</span><span id="L-1657"><a href="#L-1657"><span class="linenos">1657</span></a><span class="sd">        invalid and 0 if the function succeeded.   </span>
</span><span id="L-1658"><a href="#L-1658"><span class="linenos">1658</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1659"><a href="#L-1659"><span class="linenos">1659</span></a>
</span><span id="L-1660"><a href="#L-1660"><span class="linenos">1660</span></a><span class="sd">        result = super(self.__class__, self).parse_init_value(name, value)</span>
</span><span id="L-1661"><a href="#L-1661"><span class="linenos">1661</span></a><span class="sd">        if result != 1:</span>
</span><span id="L-1662"><a href="#L-1662"><span class="linenos">1662</span></a><span class="sd">            return result</span>
</span><span id="L-1663"><a href="#L-1663"><span class="linenos">1663</span></a>
</span><span id="L-1664"><a href="#L-1664"><span class="linenos">1664</span></a><span class="sd">        if name == &#39;checkpoint&#39; and len(value.arguments) == 3:</span>
</span><span id="L-1665"><a href="#L-1665"><span class="linenos">1665</span></a><span class="sd">            if str(value.arguments[0]) not in self._ids:</span>
</span><span id="L-1666"><a href="#L-1666"><span class="linenos">1666</span></a><span class="sd">                self._ids[str(value.arguments[0])] = []</span>
</span><span id="L-1667"><a href="#L-1667"><span class="linenos">1667</span></a><span class="sd">            self._ids[str(value.arguments[0])].append((str(value.arguments[1]), value.arguments[2].number))</span>
</span><span id="L-1668"><a href="#L-1668"><span class="linenos">1668</span></a><span class="sd">            return 0</span>
</span><span id="L-1669"><a href="#L-1669"><span class="linenos">1669</span></a><span class="sd">        return 1</span>
</span><span id="L-1670"><a href="#L-1670"><span class="linenos">1670</span></a>
</span><span id="L-1671"><a href="#L-1671"><span class="linenos">1671</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1672"><a href="#L-1672"><span class="linenos">1672</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-1673"><a href="#L-1673"><span class="linenos">1673</span></a><span class="sd">class Shelf(VisualizerGraphicItem):</span>
</span><span id="L-1674"><a href="#L-1674"><span class="linenos">1674</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1675"><a href="#L-1675"><span class="linenos">1675</span></a><span class="sd">    This class represents a shelf.</span>
</span><span id="L-1676"><a href="#L-1676"><span class="linenos">1676</span></a>
</span><span id="L-1677"><a href="#L-1677"><span class="linenos">1677</span></a><span class="sd">    Attributes:</span>
</span><span id="L-1678"><a href="#L-1678"><span class="linenos">1678</span></a><span class="sd">    _kind_name: str</span>
</span><span id="L-1679"><a href="#L-1679"><span class="linenos">1679</span></a><span class="sd">        The name of this kind of item. This is always &#39;shelf&#39;.</span>
</span><span id="L-1680"><a href="#L-1680"><span class="linenos">1680</span></a><span class="sd">    _carried: Robot</span>
</span><span id="L-1681"><a href="#L-1681"><span class="linenos">1681</span></a><span class="sd">        The robot that carries this shelf.</span>
</span><span id="L-1682"><a href="#L-1682"><span class="linenos">1682</span></a><span class="sd">    _products: list</span>
</span><span id="L-1683"><a href="#L-1683"><span class="linenos">1683</span></a><span class="sd">        This is a list of products. Every product is a triple.</span>
</span><span id="L-1684"><a href="#L-1684"><span class="linenos">1684</span></a><span class="sd">        (product id, product amount, removed product amount)</span>
</span><span id="L-1685"><a href="#L-1685"><span class="linenos">1685</span></a><span class="sd">    _graphics_item: QGraphicsEllipseItem</span>
</span><span id="L-1686"><a href="#L-1686"><span class="linenos">1686</span></a><span class="sd">        This is the main graphic item of the shelf</span>
</span><span id="L-1687"><a href="#L-1687"><span class="linenos">1687</span></a><span class="sd">        and is used for some default functions.</span>
</span><span id="L-1688"><a href="#L-1688"><span class="linenos">1688</span></a><span class="sd">    _graphics_carried: QGraphicsEllipseItem</span>
</span><span id="L-1689"><a href="#L-1689"><span class="linenos">1689</span></a><span class="sd">        This is a circle appearing on a carried shelf.</span>
</span><span id="L-1690"><a href="#L-1690"><span class="linenos">1690</span></a><span class="sd">    _text: QGraphicsTextItem</span>
</span><span id="L-1691"><a href="#L-1691"><span class="linenos">1691</span></a><span class="sd">        This is a text item that is drawn </span>
</span><span id="L-1692"><a href="#L-1692"><span class="linenos">1692</span></a><span class="sd">        on the model view and represents primarily the id of the shelf.</span>
</span><span id="L-1693"><a href="#L-1693"><span class="linenos">1693</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1694"><a href="#L-1694"><span class="linenos">1694</span></a>
</span><span id="L-1695"><a href="#L-1695"><span class="linenos">1695</span></a><span class="sd">    def __init__(self, ID = 0, x = 0, y = 0):</span>
</span><span id="L-1696"><a href="#L-1696"><span class="linenos">1696</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1697"><a href="#L-1697"><span class="linenos">1697</span></a><span class="sd">        Parameters:</span>
</span><span id="L-1698"><a href="#L-1698"><span class="linenos">1698</span></a><span class="sd">        ID : int, optional</span>
</span><span id="L-1699"><a href="#L-1699"><span class="linenos">1699</span></a><span class="sd">            The ID of the shelf</span>
</span><span id="L-1700"><a href="#L-1700"><span class="linenos">1700</span></a><span class="sd">        x: int, optional</span>
</span><span id="L-1701"><a href="#L-1701"><span class="linenos">1701</span></a><span class="sd">            The x coordinate on the grid</span>
</span><span id="L-1702"><a href="#L-1702"><span class="linenos">1702</span></a><span class="sd">        y: int, optional</span>
</span><span id="L-1703"><a href="#L-1703"><span class="linenos">1703</span></a><span class="sd">            The y coordinate on the grid</span>
</span><span id="L-1704"><a href="#L-1704"><span class="linenos">1704</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1705"><a href="#L-1705"><span class="linenos">1705</span></a>
</span><span id="L-1706"><a href="#L-1706"><span class="linenos">1706</span></a><span class="sd">        super(self.__class__, self).__init__(ID, x, y)</span>
</span><span id="L-1707"><a href="#L-1707"><span class="linenos">1707</span></a><span class="sd">        self._kind_name = &#39;shelf&#39;</span>
</span><span id="L-1708"><a href="#L-1708"><span class="linenos">1708</span></a><span class="sd">        self._carried = None</span>
</span><span id="L-1709"><a href="#L-1709"><span class="linenos">1709</span></a><span class="sd">        self._products   = []</span>
</span><span id="L-1710"><a href="#L-1710"><span class="linenos">1710</span></a><span class="sd">        self._graphics_item = QGraphicsEllipseItem(self)</span>
</span><span id="L-1711"><a href="#L-1711"><span class="linenos">1711</span></a><span class="sd">        self._graphics_carried = QGraphicsEllipseItem()</span>
</span><span id="L-1712"><a href="#L-1712"><span class="linenos">1712</span></a><span class="sd">        self._text = QGraphicsTextItem(self)</span>
</span><span id="L-1713"><a href="#L-1713"><span class="linenos">1713</span></a><span class="sd">        self.setZValue(2.0)</span>
</span><span id="L-1714"><a href="#L-1714"><span class="linenos">1714</span></a><span class="sd">        self.update_tooltip()</span>
</span><span id="L-1715"><a href="#L-1715"><span class="linenos">1715</span></a>
</span><span id="L-1716"><a href="#L-1716"><span class="linenos">1716</span></a><span class="sd">    def set_rect(self, rect):</span>
</span><span id="L-1717"><a href="#L-1717"><span class="linenos">1717</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1718"><a href="#L-1718"><span class="linenos">1718</span></a><span class="sd">        Sets the rectangle that a shelf can use to draw things in.</span>
</span><span id="L-1719"><a href="#L-1719"><span class="linenos">1719</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="L-1720"><a href="#L-1720"><span class="linenos">1720</span></a><span class="sd">        This function defines the appearance of the shelf</span>
</span><span id="L-1721"><a href="#L-1721"><span class="linenos">1721</span></a><span class="sd">        on the grid.</span>
</span><span id="L-1722"><a href="#L-1722"><span class="linenos">1722</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1723"><a href="#L-1723"><span class="linenos">1723</span></a>
</span><span id="L-1724"><a href="#L-1724"><span class="linenos">1724</span></a><span class="sd">        if self._carried is not None:</span>
</span><span id="L-1725"><a href="#L-1725"><span class="linenos">1725</span></a><span class="sd">            rect = self._carried.get_rect()</span>
</span><span id="L-1726"><a href="#L-1726"><span class="linenos">1726</span></a>
</span><span id="L-1727"><a href="#L-1727"><span class="linenos">1727</span></a><span class="sd">        scale = config.get(&#39;display&#39;, &#39;id_font_scale&#39;)</span>
</span><span id="L-1728"><a href="#L-1728"><span class="linenos">1728</span></a><span class="sd">        bold = config.get(&#39;display&#39;, &#39;id_font_bold&#39;)</span>
</span><span id="L-1729"><a href="#L-1729"><span class="linenos">1729</span></a><span class="sd">        self._text.setFont(QFont(&#39;&#39;, rect.width()*0.08*scale))</span>
</span><span id="L-1730"><a href="#L-1730"><span class="linenos">1730</span></a><span class="sd">        self._text.setPos(rect.x(), rect.y() + 0.4*rect.height())</span>
</span><span id="L-1731"><a href="#L-1731"><span class="linenos">1731</span></a><span class="sd">        self._text.setDefaultTextColor(</span>
</span><span id="L-1732"><a href="#L-1732"><span class="linenos">1732</span></a><span class="sd">            QColor(config.get(&#39;display&#39;, &#39;id_font_color&#39;)))</span>
</span><span id="L-1733"><a href="#L-1733"><span class="linenos">1733</span></a>
</span><span id="L-1734"><a href="#L-1734"><span class="linenos">1734</span></a><span class="sd">        if self._display_mode == 0:</span>
</span><span id="L-1735"><a href="#L-1735"><span class="linenos">1735</span></a><span class="sd">            if bold:</span>
</span><span id="L-1736"><a href="#L-1736"><span class="linenos">1736</span></a><span class="sd">                self._text.setHtml(&#39;&lt;b&gt;S(&#39; + str(self._id) + &#39;)&lt;/b&gt;&#39;)</span>
</span><span id="L-1737"><a href="#L-1737"><span class="linenos">1737</span></a><span class="sd">            else:</span>
</span><span id="L-1738"><a href="#L-1738"><span class="linenos">1738</span></a><span class="sd">                self._text.setHtml(&#39;S(&#39; + str(self._id) + &#39;)&#39;)</span>
</span><span id="L-1739"><a href="#L-1739"><span class="linenos">1739</span></a><span class="sd">            self._graphics_item.setRect(rect.x() + 0.25*rect.width(), </span>
</span><span id="L-1740"><a href="#L-1740"><span class="linenos">1740</span></a><span class="sd">                                        rect.y() + 0.25*rect.height(),</span>
</span><span id="L-1741"><a href="#L-1741"><span class="linenos">1741</span></a><span class="sd">                                        rect.width()*0.5,</span>
</span><span id="L-1742"><a href="#L-1742"><span class="linenos">1742</span></a><span class="sd">                                        rect.height()*0.5)</span>
</span><span id="L-1743"><a href="#L-1743"><span class="linenos">1743</span></a>
</span><span id="L-1744"><a href="#L-1744"><span class="linenos">1744</span></a><span class="sd">            self._graphics_carried.setRect(rect.x() + 0.325*rect.width(), </span>
</span><span id="L-1745"><a href="#L-1745"><span class="linenos">1745</span></a><span class="sd">                                        rect.y() + 0.325*rect.height(),</span>
</span><span id="L-1746"><a href="#L-1746"><span class="linenos">1746</span></a><span class="sd">                                        rect.width()*0.35,</span>
</span><span id="L-1747"><a href="#L-1747"><span class="linenos">1747</span></a><span class="sd">                                        rect.height()*0.35)</span>
</span><span id="L-1748"><a href="#L-1748"><span class="linenos">1748</span></a><span class="sd">        elif self._display_mode == 1:</span>
</span><span id="L-1749"><a href="#L-1749"><span class="linenos">1749</span></a><span class="sd">            self._text.setPlainText(&#39;&#39;)</span>
</span><span id="L-1750"><a href="#L-1750"><span class="linenos">1750</span></a><span class="sd">            self._graphics_item.setRect(rect.x() + 0.05*rect.width(),</span>
</span><span id="L-1751"><a href="#L-1751"><span class="linenos">1751</span></a><span class="sd">                                        rect.y() + 0.05*rect.height(),</span>
</span><span id="L-1752"><a href="#L-1752"><span class="linenos">1752</span></a><span class="sd">                                        rect.width()*0.9,</span>
</span><span id="L-1753"><a href="#L-1753"><span class="linenos">1753</span></a><span class="sd">                                        rect.height()*0.9)</span>
</span><span id="L-1754"><a href="#L-1754"><span class="linenos">1754</span></a><span class="sd">            self._graphics_carried.setRect(rect.x() + 0.125*rect.width(),</span>
</span><span id="L-1755"><a href="#L-1755"><span class="linenos">1755</span></a><span class="sd">                                        rect.y() + 0.125*rect.height(),</span>
</span><span id="L-1756"><a href="#L-1756"><span class="linenos">1756</span></a><span class="sd">                                        rect.width()*0.75,</span>
</span><span id="L-1757"><a href="#L-1757"><span class="linenos">1757</span></a><span class="sd">                                        rect.height()*0.75)</span>
</span><span id="L-1758"><a href="#L-1758"><span class="linenos">1758</span></a>
</span><span id="L-1759"><a href="#L-1759"><span class="linenos">1759</span></a>
</span><span id="L-1760"><a href="#L-1760"><span class="linenos">1760</span></a><span class="sd">    def set_carried(self, robot):</span>
</span><span id="L-1761"><a href="#L-1761"><span class="linenos">1761</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1762"><a href="#L-1762"><span class="linenos">1762</span></a><span class="sd">        Sets the robot that carries this shelf at the current time step.</span>
</span><span id="L-1763"><a href="#L-1763"><span class="linenos">1763</span></a><span class="sd">        Sets also the shelf that is carried by the robot to this.</span>
</span><span id="L-1764"><a href="#L-1764"><span class="linenos">1764</span></a><span class="sd">        If the shelf is already carried by another robot the carried </span>
</span><span id="L-1765"><a href="#L-1765"><span class="linenos">1765</span></a><span class="sd">        shelf of this robot will be set to None.</span>
</span><span id="L-1766"><a href="#L-1766"><span class="linenos">1766</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1767"><a href="#L-1767"><span class="linenos">1767</span></a>
</span><span id="L-1768"><a href="#L-1768"><span class="linenos">1768</span></a><span class="sd">        #Checks if the shelf is already carried by the robot </span>
</span><span id="L-1769"><a href="#L-1769"><span class="linenos">1769</span></a><span class="sd">        #to prevent an infinite loop.</span>
</span><span id="L-1770"><a href="#L-1770"><span class="linenos">1770</span></a><span class="sd">        if robot == self._carried:</span>
</span><span id="L-1771"><a href="#L-1771"><span class="linenos">1771</span></a><span class="sd">            return</span>
</span><span id="L-1772"><a href="#L-1772"><span class="linenos">1772</span></a><span class="sd">        temp = self._carried</span>
</span><span id="L-1773"><a href="#L-1773"><span class="linenos">1773</span></a><span class="sd">        self._carried = robot</span>
</span><span id="L-1774"><a href="#L-1774"><span class="linenos">1774</span></a><span class="sd">        if temp is not None:</span>
</span><span id="L-1775"><a href="#L-1775"><span class="linenos">1775</span></a><span class="sd">            temp.set_carries(None)</span>
</span><span id="L-1776"><a href="#L-1776"><span class="linenos">1776</span></a><span class="sd">        if self._carried is not None:</span>
</span><span id="L-1777"><a href="#L-1777"><span class="linenos">1777</span></a><span class="sd">            self._graphics_carried.setParentItem(self._graphics_item)</span>
</span><span id="L-1778"><a href="#L-1778"><span class="linenos">1778</span></a><span class="sd">            self._carried.set_carries(self)</span>
</span><span id="L-1779"><a href="#L-1779"><span class="linenos">1779</span></a><span class="sd">        else:</span>
</span><span id="L-1780"><a href="#L-1780"><span class="linenos">1780</span></a><span class="sd">            self._graphics_carried.setParentItem(None)</span>
</span><span id="L-1781"><a href="#L-1781"><span class="linenos">1781</span></a>
</span><span id="L-1782"><a href="#L-1782"><span class="linenos">1782</span></a><span class="sd">    def restart(self):</span>
</span><span id="L-1783"><a href="#L-1783"><span class="linenos">1783</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1784"><a href="#L-1784"><span class="linenos">1784</span></a><span class="sd">        Reset the products in the shelf.</span>
</span><span id="L-1785"><a href="#L-1785"><span class="linenos">1785</span></a><span class="sd">        Sets the shelf to its starting position.</span>
</span><span id="L-1786"><a href="#L-1786"><span class="linenos">1786</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1787"><a href="#L-1787"><span class="linenos">1787</span></a>
</span><span id="L-1788"><a href="#L-1788"><span class="linenos">1788</span></a><span class="sd">        super(self.__class__, self).restart()</span>
</span><span id="L-1789"><a href="#L-1789"><span class="linenos">1789</span></a><span class="sd">        products = []</span>
</span><span id="L-1790"><a href="#L-1790"><span class="linenos">1790</span></a><span class="sd">        for product in self._products:</span>
</span><span id="L-1791"><a href="#L-1791"><span class="linenos">1791</span></a><span class="sd">            products.append((product[0], product[1], 0))</span>
</span><span id="L-1792"><a href="#L-1792"><span class="linenos">1792</span></a><span class="sd">        self._products = products</span>
</span><span id="L-1793"><a href="#L-1793"><span class="linenos">1793</span></a>
</span><span id="L-1794"><a href="#L-1794"><span class="linenos">1794</span></a><span class="sd">    def to_init_str(self):</span>
</span><span id="L-1795"><a href="#L-1795"><span class="linenos">1795</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1796"><a href="#L-1796"><span class="linenos">1796</span></a><span class="sd">        Converts the shelf to a string that represents the shelfs values.</span>
</span><span id="L-1797"><a href="#L-1797"><span class="linenos">1797</span></a><span class="sd">        This function is used to send shelves to a solver</span>
</span><span id="L-1798"><a href="#L-1798"><span class="linenos">1798</span></a><span class="sd">        and to save shelves to a file.</span>
</span><span id="L-1799"><a href="#L-1799"><span class="linenos">1799</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1800"><a href="#L-1800"><span class="linenos">1800</span></a>
</span><span id="L-1801"><a href="#L-1801"><span class="linenos">1801</span></a><span class="sd">        s = super(self.__class__, self).to_init_str()</span>
</span><span id="L-1802"><a href="#L-1802"><span class="linenos">1802</span></a><span class="sd">        for product in self._products:</span>
</span><span id="L-1803"><a href="#L-1803"><span class="linenos">1803</span></a><span class="sd">            s += (&#39;init(object(product,&#39; </span>
</span><span id="L-1804"><a href="#L-1804"><span class="linenos">1804</span></a><span class="sd">                    + str(product[0]) + &#39;),value(on,(&#39;</span>
</span><span id="L-1805"><a href="#L-1805"><span class="linenos">1805</span></a><span class="sd">                    + str(self._id) + &#39;,&#39; </span>
</span><span id="L-1806"><a href="#L-1806"><span class="linenos">1806</span></a><span class="sd">                    + str(product[1]) + &#39;))).&#39;)</span>
</span><span id="L-1807"><a href="#L-1807"><span class="linenos">1807</span></a><span class="sd">        return s</span>
</span><span id="L-1808"><a href="#L-1808"><span class="linenos">1808</span></a>
</span><span id="L-1809"><a href="#L-1809"><span class="linenos">1809</span></a><span class="sd">    def update_tooltip(self):</span>
</span><span id="L-1810"><a href="#L-1810"><span class="linenos">1810</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1811"><a href="#L-1811"><span class="linenos">1811</span></a><span class="sd">        Updates the tooltip for the shelf.</span>
</span><span id="L-1812"><a href="#L-1812"><span class="linenos">1812</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1813"><a href="#L-1813"><span class="linenos">1813</span></a>
</span><span id="L-1814"><a href="#L-1814"><span class="linenos">1814</span></a><span class="sd">        tooltip = &quot;shelf(&quot; + str(self._id) + &quot;)\nproducts:\n&quot;</span>
</span><span id="L-1815"><a href="#L-1815"><span class="linenos">1815</span></a><span class="sd">        for product in self._products:</span>
</span><span id="L-1816"><a href="#L-1816"><span class="linenos">1816</span></a><span class="sd">            tooltip = tooltip + str(product) + &quot;\n&quot;</span>
</span><span id="L-1817"><a href="#L-1817"><span class="linenos">1817</span></a><span class="sd">        self.setToolTip(tooltip)</span>
</span><span id="L-1818"><a href="#L-1818"><span class="linenos">1818</span></a>
</span><span id="L-1819"><a href="#L-1819"><span class="linenos">1819</span></a><span class="sd">    def find_product(self, product_id):</span>
</span><span id="L-1820"><a href="#L-1820"><span class="linenos">1820</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1821"><a href="#L-1821"><span class="linenos">1821</span></a><span class="sd">        Returns a product with the given product id.</span>
</span><span id="L-1822"><a href="#L-1822"><span class="linenos">1822</span></a><span class="sd">        If no product with the given id is on the shelf it returns None.</span>
</span><span id="L-1823"><a href="#L-1823"><span class="linenos">1823</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1824"><a href="#L-1824"><span class="linenos">1824</span></a>
</span><span id="L-1825"><a href="#L-1825"><span class="linenos">1825</span></a><span class="sd">        for product in self._products:</span>
</span><span id="L-1826"><a href="#L-1826"><span class="linenos">1826</span></a><span class="sd">            if str(product_id) == str(product[0]):</span>
</span><span id="L-1827"><a href="#L-1827"><span class="linenos">1827</span></a><span class="sd">                return product</span>
</span><span id="L-1828"><a href="#L-1828"><span class="linenos">1828</span></a><span class="sd">        return None</span>
</span><span id="L-1829"><a href="#L-1829"><span class="linenos">1829</span></a>
</span><span id="L-1830"><a href="#L-1830"><span class="linenos">1830</span></a>
</span><span id="L-1831"><a href="#L-1831"><span class="linenos">1831</span></a><span class="sd">    def set_product_amount(self, product_id, amount):</span>
</span><span id="L-1832"><a href="#L-1832"><span class="linenos">1832</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1833"><a href="#L-1833"><span class="linenos">1833</span></a><span class="sd">        Sets the carried amount of a product on this shelf.</span>
</span><span id="L-1834"><a href="#L-1834"><span class="linenos">1834</span></a><span class="sd">        If the shelf already contains products with the </span>
</span><span id="L-1835"><a href="#L-1835"><span class="linenos">1835</span></a><span class="sd">        given id the amount of products will be overriden.</span>
</span><span id="L-1836"><a href="#L-1836"><span class="linenos">1836</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1837"><a href="#L-1837"><span class="linenos">1837</span></a>
</span><span id="L-1838"><a href="#L-1838"><span class="linenos">1838</span></a><span class="sd">        product = self.find_product(product_id)</span>
</span><span id="L-1839"><a href="#L-1839"><span class="linenos">1839</span></a><span class="sd">        if product is None:</span>
</span><span id="L-1840"><a href="#L-1840"><span class="linenos">1840</span></a><span class="sd">            self._products.append((product_id, amount, 0))</span>
</span><span id="L-1841"><a href="#L-1841"><span class="linenos">1841</span></a><span class="sd">        else:</span>
</span><span id="L-1842"><a href="#L-1842"><span class="linenos">1842</span></a><span class="sd">            self._products.remove(product)</span>
</span><span id="L-1843"><a href="#L-1843"><span class="linenos">1843</span></a><span class="sd">            self._products.append((product_id, amount, product[2]))</span>
</span><span id="L-1844"><a href="#L-1844"><span class="linenos">1844</span></a><span class="sd">        self.update_tooltip()</span>
</span><span id="L-1845"><a href="#L-1845"><span class="linenos">1845</span></a>
</span><span id="L-1846"><a href="#L-1846"><span class="linenos">1846</span></a><span class="sd">    def add_product(self, product_id, amount):</span>
</span><span id="L-1847"><a href="#L-1847"><span class="linenos">1847</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1848"><a href="#L-1848"><span class="linenos">1848</span></a><span class="sd">        Adds to the carried amount of a product on this shelf.</span>
</span><span id="L-1849"><a href="#L-1849"><span class="linenos">1849</span></a><span class="sd">        If amount is 0 and the shelf already contains products</span>
</span><span id="L-1850"><a href="#L-1850"><span class="linenos">1850</span></a><span class="sd">        with the given amount it will be set to 0.</span>
</span><span id="L-1851"><a href="#L-1851"><span class="linenos">1851</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1852"><a href="#L-1852"><span class="linenos">1852</span></a>
</span><span id="L-1853"><a href="#L-1853"><span class="linenos">1853</span></a><span class="sd">        product = self.find_product(product_id)</span>
</span><span id="L-1854"><a href="#L-1854"><span class="linenos">1854</span></a><span class="sd">        if product is None:</span>
</span><span id="L-1855"><a href="#L-1855"><span class="linenos">1855</span></a><span class="sd">            self._products.append((product_id, amount, 0))</span>
</span><span id="L-1856"><a href="#L-1856"><span class="linenos">1856</span></a><span class="sd">        else: </span>
</span><span id="L-1857"><a href="#L-1857"><span class="linenos">1857</span></a><span class="sd">            if amount == 0:</span>
</span><span id="L-1858"><a href="#L-1858"><span class="linenos">1858</span></a><span class="sd">                self._products.append((product_id, 0, 0))</span>
</span><span id="L-1859"><a href="#L-1859"><span class="linenos">1859</span></a><span class="sd">            else:</span>
</span><span id="L-1860"><a href="#L-1860"><span class="linenos">1860</span></a><span class="sd">                self._products.append((product_id, product[1] + amount, 0))</span>
</span><span id="L-1861"><a href="#L-1861"><span class="linenos">1861</span></a><span class="sd">            self._products.remove(product)</span>
</span><span id="L-1862"><a href="#L-1862"><span class="linenos">1862</span></a><span class="sd">        self.update_tooltip()</span>
</span><span id="L-1863"><a href="#L-1863"><span class="linenos">1863</span></a>
</span><span id="L-1864"><a href="#L-1864"><span class="linenos">1864</span></a><span class="sd">    def remove_product(self, product_id, amount):</span>
</span><span id="L-1865"><a href="#L-1865"><span class="linenos">1865</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1866"><a href="#L-1866"><span class="linenos">1866</span></a><span class="sd">        Increases the removed amount counter of a product on the shelf.</span>
</span><span id="L-1867"><a href="#L-1867"><span class="linenos">1867</span></a><span class="sd">        If the shelf does not contain a product with the </span>
</span><span id="L-1868"><a href="#L-1868"><span class="linenos">1868</span></a><span class="sd">        given id nothing happens.</span>
</span><span id="L-1869"><a href="#L-1869"><span class="linenos">1869</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1870"><a href="#L-1870"><span class="linenos">1870</span></a>
</span><span id="L-1871"><a href="#L-1871"><span class="linenos">1871</span></a><span class="sd">        product = self.find_product(product_id)</span>
</span><span id="L-1872"><a href="#L-1872"><span class="linenos">1872</span></a><span class="sd">        if product is not None:</span>
</span><span id="L-1873"><a href="#L-1873"><span class="linenos">1873</span></a><span class="sd">            self._products.append((product_id, product[1], product[2] + amount))</span>
</span><span id="L-1874"><a href="#L-1874"><span class="linenos">1874</span></a><span class="sd">            self._products.remove(product)</span>
</span><span id="L-1875"><a href="#L-1875"><span class="linenos">1875</span></a>
</span><span id="L-1876"><a href="#L-1876"><span class="linenos">1876</span></a><span class="sd">    def delete_product(self, product_id):</span>
</span><span id="L-1877"><a href="#L-1877"><span class="linenos">1877</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1878"><a href="#L-1878"><span class="linenos">1878</span></a><span class="sd">        Deletes a product from a shelf.</span>
</span><span id="L-1879"><a href="#L-1879"><span class="linenos">1879</span></a><span class="sd">        If the shelf does not contain a product with the </span>
</span><span id="L-1880"><a href="#L-1880"><span class="linenos">1880</span></a><span class="sd">        given id nothing happens.</span>
</span><span id="L-1881"><a href="#L-1881"><span class="linenos">1881</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1882"><a href="#L-1882"><span class="linenos">1882</span></a>
</span><span id="L-1883"><a href="#L-1883"><span class="linenos">1883</span></a><span class="sd">        product = self.find_product(product_id)</span>
</span><span id="L-1884"><a href="#L-1884"><span class="linenos">1884</span></a><span class="sd">        if product is not None:</span>
</span><span id="L-1885"><a href="#L-1885"><span class="linenos">1885</span></a><span class="sd">            self._products.remove(product)</span>
</span><span id="L-1886"><a href="#L-1886"><span class="linenos">1886</span></a><span class="sd">        self.update_tooltip()</span>
</span><span id="L-1887"><a href="#L-1887"><span class="linenos">1887</span></a>
</span><span id="L-1888"><a href="#L-1888"><span class="linenos">1888</span></a><span class="sd">    def determine_color(self, number, count, pattern = None):</span>
</span><span id="L-1889"><a href="#L-1889"><span class="linenos">1889</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1890"><a href="#L-1890"><span class="linenos">1890</span></a><span class="sd">        Determines the color of the picking station.</span>
</span><span id="L-1891"><a href="#L-1891"><span class="linenos">1891</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1892"><a href="#L-1892"><span class="linenos">1892</span></a><span class="sd">        </span>
</span><span id="L-1893"><a href="#L-1893"><span class="linenos">1893</span></a><span class="sd">        color = calculate_color(self._colors[0], self._colors[1], (float)(number)/count)</span>
</span><span id="L-1894"><a href="#L-1894"><span class="linenos">1894</span></a><span class="sd">        brush = QBrush(color)</span>
</span><span id="L-1895"><a href="#L-1895"><span class="linenos">1895</span></a><span class="sd">        self._graphics_item.setBrush(brush)</span>
</span><span id="L-1896"><a href="#L-1896"><span class="linenos">1896</span></a><span class="sd">        self._graphics_carried.setBrush(QBrush(self._colors[2]))</span>
</span><span id="L-1897"><a href="#L-1897"><span class="linenos">1897</span></a>
</span><span id="L-1898"><a href="#L-1898"><span class="linenos">1898</span></a><span class="sd">    def get_product_amount(self, product_id):</span>
</span><span id="L-1899"><a href="#L-1899"><span class="linenos">1899</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1900"><a href="#L-1900"><span class="linenos">1900</span></a><span class="sd">        Returns the current amount of a specific product on a shelf.</span>
</span><span id="L-1901"><a href="#L-1901"><span class="linenos">1901</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1902"><a href="#L-1902"><span class="linenos">1902</span></a>
</span><span id="L-1903"><a href="#L-1903"><span class="linenos">1903</span></a><span class="sd">        product = self.find_product(product_id)</span>
</span><span id="L-1904"><a href="#L-1904"><span class="linenos">1904</span></a><span class="sd">        if product is None:</span>
</span><span id="L-1905"><a href="#L-1905"><span class="linenos">1905</span></a><span class="sd">            return 0</span>
</span><span id="L-1906"><a href="#L-1906"><span class="linenos">1906</span></a><span class="sd">        return product[1] - product[2]</span>
</span><span id="L-1907"><a href="#L-1907"><span class="linenos">1907</span></a>
</span><span id="L-1908"><a href="#L-1908"><span class="linenos">1908</span></a><span class="sd">    def get_rect(self):</span>
</span><span id="L-1909"><a href="#L-1909"><span class="linenos">1909</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1910"><a href="#L-1910"><span class="linenos">1910</span></a><span class="sd">        Returns the current rectangle of the shelf.</span>
</span><span id="L-1911"><a href="#L-1911"><span class="linenos">1911</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1912"><a href="#L-1912"><span class="linenos">1912</span></a>
</span><span id="L-1913"><a href="#L-1913"><span class="linenos">1913</span></a><span class="sd">        if self._display_mode == 0:</span>
</span><span id="L-1914"><a href="#L-1914"><span class="linenos">1914</span></a><span class="sd">            rect = self._graphics_item.rect()</span>
</span><span id="L-1915"><a href="#L-1915"><span class="linenos">1915</span></a><span class="sd">            width = rect.width()*2</span>
</span><span id="L-1916"><a href="#L-1916"><span class="linenos">1916</span></a><span class="sd">            height = rect.height()*2</span>
</span><span id="L-1917"><a href="#L-1917"><span class="linenos">1917</span></a><span class="sd">            rect.setLeft(rect.x() - 0.25*width)</span>
</span><span id="L-1918"><a href="#L-1918"><span class="linenos">1918</span></a><span class="sd">            rect.setTop(rect.y() - 0.25*height)</span>
</span><span id="L-1919"><a href="#L-1919"><span class="linenos">1919</span></a><span class="sd">            rect.setWidth(width)</span>
</span><span id="L-1920"><a href="#L-1920"><span class="linenos">1920</span></a><span class="sd">            rect.setHeight(height)</span>
</span><span id="L-1921"><a href="#L-1921"><span class="linenos">1921</span></a><span class="sd">            return rect</span>
</span><span id="L-1922"><a href="#L-1922"><span class="linenos">1922</span></a><span class="sd">        elif self._display_mode == 1:</span>
</span><span id="L-1923"><a href="#L-1923"><span class="linenos">1923</span></a><span class="sd">            rect = self._graphics_item.rect()</span>
</span><span id="L-1924"><a href="#L-1924"><span class="linenos">1924</span></a><span class="sd">            width = rect.width()/0.9</span>
</span><span id="L-1925"><a href="#L-1925"><span class="linenos">1925</span></a><span class="sd">            height = rect.height()/0.9</span>
</span><span id="L-1926"><a href="#L-1926"><span class="linenos">1926</span></a><span class="sd">            rect.setLeft(rect.x() - 0.05*width)</span>
</span><span id="L-1927"><a href="#L-1927"><span class="linenos">1927</span></a><span class="sd">            rect.setTop(rect.y() - 0.05*height)</span>
</span><span id="L-1928"><a href="#L-1928"><span class="linenos">1928</span></a><span class="sd">            rect.setWidth(width)</span>
</span><span id="L-1929"><a href="#L-1929"><span class="linenos">1929</span></a><span class="sd">            rect.setHeight(height)</span>
</span><span id="L-1930"><a href="#L-1930"><span class="linenos">1930</span></a><span class="sd">            return rect</span>
</span><span id="L-1931"><a href="#L-1931"><span class="linenos">1931</span></a>
</span><span id="L-1932"><a href="#L-1932"><span class="linenos">1932</span></a>
</span><span id="L-1933"><a href="#L-1933"><span class="linenos">1933</span></a><span class="sd">    def get_carried(self):</span>
</span><span id="L-1934"><a href="#L-1934"><span class="linenos">1934</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1935"><a href="#L-1935"><span class="linenos">1935</span></a><span class="sd">        Returns the robot that carries the shelf at the current </span>
</span><span id="L-1936"><a href="#L-1936"><span class="linenos">1936</span></a><span class="sd">        time step. This can be None.</span>
</span><span id="L-1937"><a href="#L-1937"><span class="linenos">1937</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1938"><a href="#L-1938"><span class="linenos">1938</span></a>
</span><span id="L-1939"><a href="#L-1939"><span class="linenos">1939</span></a><span class="sd">        return self._carried</span>
</span><span id="L-1940"><a href="#L-1940"><span class="linenos">1940</span></a>
</span><span id="L-1941"><a href="#L-1941"><span class="linenos">1941</span></a><span class="sd">    def iterate_products(self):</span>
</span><span id="L-1942"><a href="#L-1942"><span class="linenos">1942</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1943"><a href="#L-1943"><span class="linenos">1943</span></a><span class="sd">        Iterates through every product on the shelf.</span>
</span><span id="L-1944"><a href="#L-1944"><span class="linenos">1944</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1945"><a href="#L-1945"><span class="linenos">1945</span></a>
</span><span id="L-1946"><a href="#L-1946"><span class="linenos">1946</span></a><span class="sd">        for product in self._products:</span>
</span><span id="L-1947"><a href="#L-1947"><span class="linenos">1947</span></a><span class="sd">            yield product</span>
</span><span id="L-1948"><a href="#L-1948"><span class="linenos">1948</span></a>
</span><span id="L-1949"><a href="#L-1949"><span class="linenos">1949</span></a><span class="sd">    def edit_position_to(self, x, y):</span>
</span><span id="L-1950"><a href="#L-1950"><span class="linenos">1950</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1951"><a href="#L-1951"><span class="linenos">1951</span></a><span class="sd">        Sets a new starting position and new current position for the </span>
</span><span id="L-1952"><a href="#L-1952"><span class="linenos">1952</span></a><span class="sd">        shelf. If another shelf is already on the same position</span>
</span><span id="L-1953"><a href="#L-1953"><span class="linenos">1953</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="L-1954"><a href="#L-1954"><span class="linenos">1954</span></a><span class="sd">        the drag and drop feature. Only shelf that are currently not carried </span>
</span><span id="L-1955"><a href="#L-1955"><span class="linenos">1955</span></a><span class="sd">        can be moved.        </span>
</span><span id="L-1956"><a href="#L-1956"><span class="linenos">1956</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1957"><a href="#L-1957"><span class="linenos">1957</span></a>
</span><span id="L-1958"><a href="#L-1958"><span class="linenos">1958</span></a><span class="sd">        if (x, y) == self._position:</span>
</span><span id="L-1959"><a href="#L-1959"><span class="linenos">1959</span></a><span class="sd">            return</span>
</span><span id="L-1960"><a href="#L-1960"><span class="linenos">1960</span></a><span class="sd">        if self._carried is not None:</span>
</span><span id="L-1961"><a href="#L-1961"><span class="linenos">1961</span></a><span class="sd">            return</span>
</span><span id="L-1962"><a href="#L-1962"><span class="linenos">1962</span></a><span class="sd">        item2 = self._model.filter_items(item_kind = self._kind_name,</span>
</span><span id="L-1963"><a href="#L-1963"><span class="linenos">1963</span></a><span class="sd">                                        position = (x,y),</span>
</span><span id="L-1964"><a href="#L-1964"><span class="linenos">1964</span></a><span class="sd">                                        return_first = True)[0]</span>
</span><span id="L-1965"><a href="#L-1965"><span class="linenos">1965</span></a><span class="sd">        if item2 is not None:</span>
</span><span id="L-1966"><a href="#L-1966"><span class="linenos">1966</span></a><span class="sd">            if item2.get_carried() is not None:</span>
</span><span id="L-1967"><a href="#L-1967"><span class="linenos">1967</span></a><span class="sd">                return</span>
</span><span id="L-1968"><a href="#L-1968"><span class="linenos">1968</span></a><span class="sd">            item2.set_position(self._position[0], self._position[1])</span>
</span><span id="L-1969"><a href="#L-1969"><span class="linenos">1969</span></a><span class="sd">            item2.set_starting_position(self._position[0], self._position[1])</span>
</span><span id="L-1970"><a href="#L-1970"><span class="linenos">1970</span></a><span class="sd">        self.set_position(x,y)</span>
</span><span id="L-1971"><a href="#L-1971"><span class="linenos">1971</span></a><span class="sd">        self.set_starting_position(x, y)</span>
</span><span id="L-1972"><a href="#L-1972"><span class="linenos">1972</span></a>
</span><span id="L-1973"><a href="#L-1973"><span class="linenos">1973</span></a><span class="sd">    def mousePressEvent(self, event):</span>
</span><span id="L-1974"><a href="#L-1974"><span class="linenos">1974</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1975"><a href="#L-1975"><span class="linenos">1975</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-1976"><a href="#L-1976"><span class="linenos">1976</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1977"><a href="#L-1977"><span class="linenos">1977</span></a>
</span><span id="L-1978"><a href="#L-1978"><span class="linenos">1978</span></a><span class="sd">        if self._carried is not None:</span>
</span><span id="L-1979"><a href="#L-1979"><span class="linenos">1979</span></a><span class="sd">            self._carried.mousePressEvent(event)</span>
</span><span id="L-1980"><a href="#L-1980"><span class="linenos">1980</span></a><span class="sd">        else:</span>
</span><span id="L-1981"><a href="#L-1981"><span class="linenos">1981</span></a><span class="sd">            super(self.__class__, self).mousePressEvent(event)</span>
</span><span id="L-1982"><a href="#L-1982"><span class="linenos">1982</span></a>
</span><span id="L-1983"><a href="#L-1983"><span class="linenos">1983</span></a><span class="sd">    def mouseMoveEvent(self, event):</span>
</span><span id="L-1984"><a href="#L-1984"><span class="linenos">1984</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1985"><a href="#L-1985"><span class="linenos">1985</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-1986"><a href="#L-1986"><span class="linenos">1986</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1987"><a href="#L-1987"><span class="linenos">1987</span></a>
</span><span id="L-1988"><a href="#L-1988"><span class="linenos">1988</span></a><span class="sd">        if self._carried is not None:</span>
</span><span id="L-1989"><a href="#L-1989"><span class="linenos">1989</span></a><span class="sd">            self._carried.mouseMoveEvent(event)</span>
</span><span id="L-1990"><a href="#L-1990"><span class="linenos">1990</span></a><span class="sd">        else:</span>
</span><span id="L-1991"><a href="#L-1991"><span class="linenos">1991</span></a><span class="sd">            super(self.__class__, self).mouseMoveEvent(event)</span>
</span><span id="L-1992"><a href="#L-1992"><span class="linenos">1992</span></a>
</span><span id="L-1993"><a href="#L-1993"><span class="linenos">1993</span></a><span class="sd">    def mouseReleaseEvent(self, event):</span>
</span><span id="L-1994"><a href="#L-1994"><span class="linenos">1994</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1995"><a href="#L-1995"><span class="linenos">1995</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="L-1996"><a href="#L-1996"><span class="linenos">1996</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1997"><a href="#L-1997"><span class="linenos">1997</span></a>
</span><span id="L-1998"><a href="#L-1998"><span class="linenos">1998</span></a><span class="sd">        if self._carried is not None:</span>
</span><span id="L-1999"><a href="#L-1999"><span class="linenos">1999</span></a><span class="sd">            self._carried.mouseReleaseEvent(event)</span>
</span><span id="L-2000"><a href="#L-2000"><span class="linenos">2000</span></a><span class="sd">        else:</span>
</span><span id="L-2001"><a href="#L-2001"><span class="linenos">2001</span></a><span class="sd">            super(self.__class__, self).mouseReleaseEvent(event)</span>
</span><span id="L-2002"><a href="#L-2002"><span class="linenos">2002</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-2003"><a href="#L-2003"><span class="linenos">2003</span></a>
</span><span id="L-2004"><a href="#L-2004"><span class="linenos">2004</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-2005"><a href="#L-2005"><span class="linenos">2005</span></a><span class="sd">class Checkpoint(VisualizerGraphicItem):</span>
</span><span id="L-2006"><a href="#L-2006"><span class="linenos">2006</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2007"><a href="#L-2007"><span class="linenos">2007</span></a><span class="sd">    This class represents a Checkpoint.</span>
</span><span id="L-2008"><a href="#L-2008"><span class="linenos">2008</span></a>
</span><span id="L-2009"><a href="#L-2009"><span class="linenos">2009</span></a><span class="sd">    Attributes:</span>
</span><span id="L-2010"><a href="#L-2010"><span class="linenos">2010</span></a><span class="sd">    _kind_name: str</span>
</span><span id="L-2011"><a href="#L-2011"><span class="linenos">2011</span></a><span class="sd">        The name of this kind of item. This is always &#39;checkpoint&#39;.</span>
</span><span id="L-2012"><a href="#L-2012"><span class="linenos">2012</span></a><span class="sd">    _ids: dictionary</span>
</span><span id="L-2013"><a href="#L-2013"><span class="linenos">2013</span></a><span class="sd">        A dictionary that contains all ids of this checkpoint.</span>
</span><span id="L-2014"><a href="#L-2014"><span class="linenos">2014</span></a><span class="sd">        One checkpoint can be the destination of different kinds</span>
</span><span id="L-2015"><a href="#L-2015"><span class="linenos">2015</span></a><span class="sd">        of waypoints like a goal and start node.</span>
</span><span id="L-2016"><a href="#L-2016"><span class="linenos">2016</span></a><span class="sd">    _graphics_item: QGraphicsRectItem</span>
</span><span id="L-2017"><a href="#L-2017"><span class="linenos">2017</span></a><span class="sd">        This is the main graphic item of the checkpoint</span>
</span><span id="L-2018"><a href="#L-2018"><span class="linenos">2018</span></a><span class="sd">        and is used for some default functions.</span>
</span><span id="L-2019"><a href="#L-2019"><span class="linenos">2019</span></a><span class="sd">    _text: QGraphicsTextItem</span>
</span><span id="L-2020"><a href="#L-2020"><span class="linenos">2020</span></a><span class="sd">        This is a text item that is drawn on the model view</span>
</span><span id="L-2021"><a href="#L-2021"><span class="linenos">2021</span></a><span class="sd">        and represents primarily the id of the checkpoint.</span>
</span><span id="L-2022"><a href="#L-2022"><span class="linenos">2022</span></a><span class="sd">    _shine: bool</span>
</span><span id="L-2023"><a href="#L-2023"><span class="linenos">2023</span></a><span class="sd">        This is true if the checkpoint should be highlighted. Checkpoints</span>
</span><span id="L-2024"><a href="#L-2024"><span class="linenos">2024</span></a><span class="sd">        are highlighted when they were visited.</span>
</span><span id="L-2025"><a href="#L-2025"><span class="linenos">2025</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2026"><a href="#L-2026"><span class="linenos">2026</span></a>
</span><span id="L-2027"><a href="#L-2027"><span class="linenos">2027</span></a><span class="sd">    def __init__(self, ID = 0, x = 0, y = 0):</span>
</span><span id="L-2028"><a href="#L-2028"><span class="linenos">2028</span></a><span class="sd">        super(self.__class__, self).__init__(ID, x, y)</span>
</span><span id="L-2029"><a href="#L-2029"><span class="linenos">2029</span></a><span class="sd">        self._kind_name = &#39;checkpoint&#39;</span>
</span><span id="L-2030"><a href="#L-2030"><span class="linenos">2030</span></a>
</span><span id="L-2031"><a href="#L-2031"><span class="linenos">2031</span></a><span class="sd">        self._ids = {}</span>
</span><span id="L-2032"><a href="#L-2032"><span class="linenos">2032</span></a>
</span><span id="L-2033"><a href="#L-2033"><span class="linenos">2033</span></a><span class="sd">        self._graphics_item = QGraphicsRectItem(self)</span>
</span><span id="L-2034"><a href="#L-2034"><span class="linenos">2034</span></a><span class="sd">        self._text = QGraphicsTextItem(self._graphics_item)</span>
</span><span id="L-2035"><a href="#L-2035"><span class="linenos">2035</span></a><span class="sd">        self._shine = False</span>
</span><span id="L-2036"><a href="#L-2036"><span class="linenos">2036</span></a>
</span><span id="L-2037"><a href="#L-2037"><span class="linenos">2037</span></a><span class="sd">    def set_rect(self, rect):</span>
</span><span id="L-2038"><a href="#L-2038"><span class="linenos">2038</span></a><span class="sd">        &quot;&quot;&quot;    </span>
</span><span id="L-2039"><a href="#L-2039"><span class="linenos">2039</span></a><span class="sd">        Sets the rectangle that a checkpoint can use to draw things in.</span>
</span><span id="L-2040"><a href="#L-2040"><span class="linenos">2040</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="L-2041"><a href="#L-2041"><span class="linenos">2041</span></a><span class="sd">        This function defines the appearance of the checkpoint</span>
</span><span id="L-2042"><a href="#L-2042"><span class="linenos">2042</span></a><span class="sd">        on the grid.</span>
</span><span id="L-2043"><a href="#L-2043"><span class="linenos">2043</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2044"><a href="#L-2044"><span class="linenos">2044</span></a>
</span><span id="L-2045"><a href="#L-2045"><span class="linenos">2045</span></a><span class="sd">        scale = config.get(&#39;display&#39;, &#39;id_font_scale&#39;)</span>
</span><span id="L-2046"><a href="#L-2046"><span class="linenos">2046</span></a><span class="sd">        bold = config.get(&#39;display&#39;, &#39;id_font_bold&#39;)</span>
</span><span id="L-2047"><a href="#L-2047"><span class="linenos">2047</span></a><span class="sd">        font = QFont(&#39;&#39;, rect.width()*0.08*scale)</span>
</span><span id="L-2048"><a href="#L-2048"><span class="linenos">2048</span></a><span class="sd">        self._text.setFont(font)</span>
</span><span id="L-2049"><a href="#L-2049"><span class="linenos">2049</span></a><span class="sd">        self._text.setPos(rect.x(), rect.y() + 0.6*rect.height())</span>
</span><span id="L-2050"><a href="#L-2050"><span class="linenos">2050</span></a><span class="sd">        self._text.setDefaultTextColor(QColor(config.get(&#39;display&#39;, &#39;id_font_color&#39;)))</span>
</span><span id="L-2051"><a href="#L-2051"><span class="linenos">2051</span></a>
</span><span id="L-2052"><a href="#L-2052"><span class="linenos">2052</span></a><span class="sd">        if self._display_mode == 0:            </span>
</span><span id="L-2053"><a href="#L-2053"><span class="linenos">2053</span></a><span class="sd">            ss = &#39;&#39;</span>
</span><span id="L-2054"><a href="#L-2054"><span class="linenos">2054</span></a><span class="sd">            if bold:</span>
</span><span id="L-2055"><a href="#L-2055"><span class="linenos">2055</span></a><span class="sd">                ss = &#39;&lt;b&gt;&#39;</span>
</span><span id="L-2056"><a href="#L-2056"><span class="linenos">2056</span></a><span class="sd">            for key in self._ids:</span>
</span><span id="L-2057"><a href="#L-2057"><span class="linenos">2057</span></a><span class="sd">                count = 0</span>
</span><span id="L-2058"><a href="#L-2058"><span class="linenos">2058</span></a><span class="sd">                for ii in self._ids[key]:</span>
</span><span id="L-2059"><a href="#L-2059"><span class="linenos">2059</span></a><span class="sd">                    if count == 0:</span>
</span><span id="L-2060"><a href="#L-2060"><span class="linenos">2060</span></a><span class="sd">                        ss = ss + &#39;(&#39; + key + &#39;: &#39; + ii[0]</span>
</span><span id="L-2061"><a href="#L-2061"><span class="linenos">2061</span></a><span class="sd">                    else:</span>
</span><span id="L-2062"><a href="#L-2062"><span class="linenos">2062</span></a><span class="sd">                        ss = ss + &#39;, &#39; + ii[0]</span>
</span><span id="L-2063"><a href="#L-2063"><span class="linenos">2063</span></a><span class="sd">                    count += 1</span>
</span><span id="L-2064"><a href="#L-2064"><span class="linenos">2064</span></a><span class="sd">                ss = ss + &#39;)\n&#39;</span>
</span><span id="L-2065"><a href="#L-2065"><span class="linenos">2065</span></a>
</span><span id="L-2066"><a href="#L-2066"><span class="linenos">2066</span></a><span class="sd">            if bold:</span>
</span><span id="L-2067"><a href="#L-2067"><span class="linenos">2067</span></a><span class="sd">                ss += &#39;&lt;/b&gt;&#39;</span>
</span><span id="L-2068"><a href="#L-2068"><span class="linenos">2068</span></a>
</span><span id="L-2069"><a href="#L-2069"><span class="linenos">2069</span></a><span class="sd">            self._text.setHtml(ss)</span>
</span><span id="L-2070"><a href="#L-2070"><span class="linenos">2070</span></a><span class="sd">            self._graphics_item.setRect(rect.x(), rect.y(), rect.width(), rect.height())</span>
</span><span id="L-2071"><a href="#L-2071"><span class="linenos">2071</span></a>
</span><span id="L-2072"><a href="#L-2072"><span class="linenos">2072</span></a><span class="sd">        elif self._display_mode == 1:</span>
</span><span id="L-2073"><a href="#L-2073"><span class="linenos">2073</span></a><span class="sd">            self._text.setPlainText(&#39;&#39;)</span>
</span><span id="L-2074"><a href="#L-2074"><span class="linenos">2074</span></a><span class="sd">            self._graphics_item.setRect(rect.x(), rect.y(), rect.width(), rect.height())        </span>
</span><span id="L-2075"><a href="#L-2075"><span class="linenos">2075</span></a>
</span><span id="L-2076"><a href="#L-2076"><span class="linenos">2076</span></a><span class="sd">    def do_action(self, time_step):</span>
</span><span id="L-2077"><a href="#L-2077"><span class="linenos">2077</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2078"><a href="#L-2078"><span class="linenos">2078</span></a><span class="sd">        Rests the shine value at every time step.</span>
</span><span id="L-2079"><a href="#L-2079"><span class="linenos">2079</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2080"><a href="#L-2080"><span class="linenos">2080</span></a>
</span><span id="L-2081"><a href="#L-2081"><span class="linenos">2081</span></a><span class="sd">        self._shine = False</span>
</span><span id="L-2082"><a href="#L-2082"><span class="linenos">2082</span></a><span class="sd">        return</span>
</span><span id="L-2083"><a href="#L-2083"><span class="linenos">2083</span></a>
</span><span id="L-2084"><a href="#L-2084"><span class="linenos">2084</span></a><span class="sd">    def undo_action(self, time_step):</span>
</span><span id="L-2085"><a href="#L-2085"><span class="linenos">2085</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2086"><a href="#L-2086"><span class="linenos">2086</span></a><span class="sd">        Rests the shine value at every time step.</span>
</span><span id="L-2087"><a href="#L-2087"><span class="linenos">2087</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2088"><a href="#L-2088"><span class="linenos">2088</span></a>
</span><span id="L-2089"><a href="#L-2089"><span class="linenos">2089</span></a><span class="sd">        self._shine = False</span>
</span><span id="L-2090"><a href="#L-2090"><span class="linenos">2090</span></a><span class="sd">        return</span>
</span><span id="L-2091"><a href="#L-2091"><span class="linenos">2091</span></a>
</span><span id="L-2092"><a href="#L-2092"><span class="linenos">2092</span></a><span class="sd">    def visit(self):</span>
</span><span id="L-2093"><a href="#L-2093"><span class="linenos">2093</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2094"><a href="#L-2094"><span class="linenos">2094</span></a><span class="sd">        Sets the shine value to true.</span>
</span><span id="L-2095"><a href="#L-2095"><span class="linenos">2095</span></a><span class="sd">        &quot;&quot;&quot;    </span>
</span><span id="L-2096"><a href="#L-2096"><span class="linenos">2096</span></a>
</span><span id="L-2097"><a href="#L-2097"><span class="linenos">2097</span></a><span class="sd">        self._shine = True</span>
</span><span id="L-2098"><a href="#L-2098"><span class="linenos">2098</span></a>
</span><span id="L-2099"><a href="#L-2099"><span class="linenos">2099</span></a><span class="sd">    def determine_color(self, number, count, pattern = None):</span>
</span><span id="L-2100"><a href="#L-2100"><span class="linenos">2100</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2101"><a href="#L-2101"><span class="linenos">2101</span></a><span class="sd">        Determines the color of the checkpoint.</span>
</span><span id="L-2102"><a href="#L-2102"><span class="linenos">2102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2103"><a href="#L-2103"><span class="linenos">2103</span></a>
</span><span id="L-2104"><a href="#L-2104"><span class="linenos">2104</span></a><span class="sd">        color = None</span>
</span><span id="L-2105"><a href="#L-2105"><span class="linenos">2105</span></a><span class="sd">        if len(self._ids) == 1:</span>
</span><span id="L-2106"><a href="#L-2106"><span class="linenos">2106</span></a><span class="sd">            for key in self._ids:</span>
</span><span id="L-2107"><a href="#L-2107"><span class="linenos">2107</span></a><span class="sd">                color_id = self._ids[key][0][1] + 1</span>
</span><span id="L-2108"><a href="#L-2108"><span class="linenos">2108</span></a><span class="sd">                if color_id &lt; len(self._colors):</span>
</span><span id="L-2109"><a href="#L-2109"><span class="linenos">2109</span></a><span class="sd">                    color = self._colors[color_id]    </span>
</span><span id="L-2110"><a href="#L-2110"><span class="linenos">2110</span></a><span class="sd">                        </span>
</span><span id="L-2111"><a href="#L-2111"><span class="linenos">2111</span></a><span class="sd">        if color is None:</span>
</span><span id="L-2112"><a href="#L-2112"><span class="linenos">2112</span></a><span class="sd">            color = self._colors[0]</span>
</span><span id="L-2113"><a href="#L-2113"><span class="linenos">2113</span></a>
</span><span id="L-2114"><a href="#L-2114"><span class="linenos">2114</span></a><span class="sd">        if self._shine:</span>
</span><span id="L-2115"><a href="#L-2115"><span class="linenos">2115</span></a><span class="sd">            color = calculate_color(color, QColor(255,255,255), 0.4)</span>
</span><span id="L-2116"><a href="#L-2116"><span class="linenos">2116</span></a><span class="sd">        self._graphics_item.setBrush(QBrush(color))</span>
</span><span id="L-2117"><a href="#L-2117"><span class="linenos">2117</span></a>
</span><span id="L-2118"><a href="#L-2118"><span class="linenos">2118</span></a><span class="sd">    def parse_init_value(self, name, value):</span>
</span><span id="L-2119"><a href="#L-2119"><span class="linenos">2119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2120"><a href="#L-2120"><span class="linenos">2120</span></a><span class="sd">        This function handels the input phrases for checkpoints.</span>
</span><span id="L-2121"><a href="#L-2121"><span class="linenos">2121</span></a><span class="sd">        This is called for every phrase the model receives with the</span>
</span><span id="L-2122"><a href="#L-2122"><span class="linenos">2122</span></a><span class="sd">        following syntax: </span>
</span><span id="L-2123"><a href="#L-2123"><span class="linenos">2123</span></a><span class="sd">        init(object(checkpoint, [checkpoint ID]), value([value name], [value])).</span>
</span><span id="L-2124"><a href="#L-2124"><span class="linenos">2124</span></a>
</span><span id="L-2125"><a href="#L-2125"><span class="linenos">2125</span></a><span class="sd">        Parameters:</span>
</span><span id="L-2126"><a href="#L-2126"><span class="linenos">2126</span></a><span class="sd">        name: str</span>
</span><span id="L-2127"><a href="#L-2127"><span class="linenos">2127</span></a><span class="sd">            This is the name of the value.</span>
</span><span id="L-2128"><a href="#L-2128"><span class="linenos">2128</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-2129"><a href="#L-2129"><span class="linenos">2129</span></a><span class="sd">            This is the actual value. It contains the [value]</span>
</span><span id="L-2130"><a href="#L-2130"><span class="linenos">2130</span></a><span class="sd">            part of the phrase.</span>
</span><span id="L-2131"><a href="#L-2131"><span class="linenos">2131</span></a>
</span><span id="L-2132"><a href="#L-2132"><span class="linenos">2132</span></a><span class="sd">        Returns 1 if the phrase cannot be parsed, -1 if one parameter is</span>
</span><span id="L-2133"><a href="#L-2133"><span class="linenos">2133</span></a><span class="sd">        invalid and 0 if the function succeeded.   </span>
</span><span id="L-2134"><a href="#L-2134"><span class="linenos">2134</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2135"><a href="#L-2135"><span class="linenos">2135</span></a>
</span><span id="L-2136"><a href="#L-2136"><span class="linenos">2136</span></a><span class="sd">        result = super(self.__class__, self).parse_init_value(name, value)</span>
</span><span id="L-2137"><a href="#L-2137"><span class="linenos">2137</span></a><span class="sd">        if result != 1:</span>
</span><span id="L-2138"><a href="#L-2138"><span class="linenos">2138</span></a><span class="sd">            return result</span>
</span><span id="L-2139"><a href="#L-2139"><span class="linenos">2139</span></a>
</span><span id="L-2140"><a href="#L-2140"><span class="linenos">2140</span></a><span class="sd">        if name == &#39;checkpoint&#39; and len(value.arguments) == 3:</span>
</span><span id="L-2141"><a href="#L-2141"><span class="linenos">2141</span></a><span class="sd">            if str(value.arguments[0]) not in self._ids:</span>
</span><span id="L-2142"><a href="#L-2142"><span class="linenos">2142</span></a><span class="sd">                self._ids[str(value.arguments[0])] = []</span>
</span><span id="L-2143"><a href="#L-2143"><span class="linenos">2143</span></a><span class="sd">            self._ids[str(value.arguments[0])].append((str(value.arguments[1]), value.arguments[2].number))</span>
</span><span id="L-2144"><a href="#L-2144"><span class="linenos">2144</span></a><span class="sd">            return 0</span>
</span><span id="L-2145"><a href="#L-2145"><span class="linenos">2145</span></a><span class="sd">        return 1</span>
</span><span id="L-2146"><a href="#L-2146"><span class="linenos">2146</span></a>
</span><span id="L-2147"><a href="#L-2147"><span class="linenos">2147</span></a><span class="sd">    def get_rect(self):</span>
</span><span id="L-2148"><a href="#L-2148"><span class="linenos">2148</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2149"><a href="#L-2149"><span class="linenos">2149</span></a><span class="sd">        Returns the current rectangle of the checkpoint.</span>
</span><span id="L-2150"><a href="#L-2150"><span class="linenos">2150</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2151"><a href="#L-2151"><span class="linenos">2151</span></a>
</span><span id="L-2152"><a href="#L-2152"><span class="linenos">2152</span></a><span class="sd">        return self._graphics_item.rect()</span>
</span><span id="L-2153"><a href="#L-2153"><span class="linenos">2153</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-2154"><a href="#L-2154"><span class="linenos">2154</span></a>
</span><span id="L-2155"><a href="#L-2155"><span class="linenos">2155</span></a><span class="sd">&#39;&#39;&#39;</span>
</span><span id="L-2156"><a href="#L-2156"><span class="linenos">2156</span></a><span class="sd">class Robot(VisualizerGraphicItem):</span>
</span><span id="L-2157"><a href="#L-2157"><span class="linenos">2157</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2158"><a href="#L-2158"><span class="linenos">2158</span></a><span class="sd">    This class represents a robot.</span>
</span><span id="L-2159"><a href="#L-2159"><span class="linenos">2159</span></a>
</span><span id="L-2160"><a href="#L-2160"><span class="linenos">2160</span></a><span class="sd">    Attributes:</span>
</span><span id="L-2161"><a href="#L-2161"><span class="linenos">2161</span></a><span class="sd">    _kind_name: str</span>
</span><span id="L-2162"><a href="#L-2162"><span class="linenos">2162</span></a><span class="sd">        The name of this kind of item. This is always &#39;robot&#39;.</span>
</span><span id="L-2163"><a href="#L-2163"><span class="linenos">2163</span></a><span class="sd">    _carried: Shelf</span>
</span><span id="L-2164"><a href="#L-2164"><span class="linenos">2164</span></a><span class="sd">        The shelf that is carried by the robot.</span>
</span><span id="L-2165"><a href="#L-2165"><span class="linenos">2165</span></a><span class="sd">    _initial_carries: Shelf</span>
</span><span id="L-2166"><a href="#L-2166"><span class="linenos">2166</span></a><span class="sd">        The shelf that is carried by the robot at time step 0.</span>
</span><span id="L-2167"><a href="#L-2167"><span class="linenos">2167</span></a><span class="sd">    _tasks: list</span>
</span><span id="L-2168"><a href="#L-2168"><span class="linenos">2168</span></a><span class="sd">        The list of tasks of the robot</span>
</span><span id="L-2169"><a href="#L-2169"><span class="linenos">2169</span></a><span class="sd">    _graphics_item: QGraphicsRectItem</span>
</span><span id="L-2170"><a href="#L-2170"><span class="linenos">2170</span></a><span class="sd">        This is the main graphic item of the robot</span>
</span><span id="L-2171"><a href="#L-2171"><span class="linenos">2171</span></a><span class="sd">        and is used for some default functions.</span>
</span><span id="L-2172"><a href="#L-2172"><span class="linenos">2172</span></a><span class="sd">    _energy_bar_full: QGraphicsRectItem</span>
</span><span id="L-2173"><a href="#L-2173"><span class="linenos">2173</span></a><span class="sd">        This graphic item represents a full energy bar.</span>
</span><span id="L-2174"><a href="#L-2174"><span class="linenos">2174</span></a><span class="sd">    _energy_bar_empty: QGraphicsRectItem</span>
</span><span id="L-2175"><a href="#L-2175"><span class="linenos">2175</span></a><span class="sd">        This graphic item represents a empty energy bar.</span>
</span><span id="L-2176"><a href="#L-2176"><span class="linenos">2176</span></a><span class="sd">    _text: QGraphicsTextItem</span>
</span><span id="L-2177"><a href="#L-2177"><span class="linenos">2177</span></a><span class="sd">        This is a text item that is drawn </span>
</span><span id="L-2178"><a href="#L-2178"><span class="linenos">2178</span></a><span class="sd">        on the model view and represents primarily the id of the robot.</span>
</span><span id="L-2179"><a href="#L-2179"><span class="linenos">2179</span></a><span class="sd">    _initial_energy: int</span>
</span><span id="L-2180"><a href="#L-2180"><span class="linenos">2180</span></a><span class="sd">        The robots energy at time step 0.</span>
</span><span id="L-2181"><a href="#L-2181"><span class="linenos">2181</span></a><span class="sd">    _max_energy: int</span>
</span><span id="L-2182"><a href="#L-2182"><span class="linenos">2182</span></a><span class="sd">        The robots maximal energy</span>
</span><span id="L-2183"><a href="#L-2183"><span class="linenos">2183</span></a><span class="sd">    _current_energy: int</span>
</span><span id="L-2184"><a href="#L-2184"><span class="linenos">2184</span></a><span class="sd">        The current energy of the robot</span>
</span><span id="L-2185"><a href="#L-2185"><span class="linenos">2185</span></a><span class="sd">    _energy_costs: dictionary</span>
</span><span id="L-2186"><a href="#L-2186"><span class="linenos">2186</span></a><span class="sd">        A dictionary that contains energy costs for actions.</span>
</span><span id="L-2187"><a href="#L-2187"><span class="linenos">2187</span></a><span class="sd">        The cost should be an integer. The dictionary keys</span>
</span><span id="L-2188"><a href="#L-2188"><span class="linenos">2188</span></a><span class="sd">        are the name of the actions.</span>
</span><span id="L-2189"><a href="#L-2189"><span class="linenos">2189</span></a><span class="sd">    _parallel_delivers: dictionary</span>
</span><span id="L-2190"><a href="#L-2190"><span class="linenos">2190</span></a><span class="sd">        A dictionary that contains deliver actions that are </span>
</span><span id="L-2191"><a href="#L-2191"><span class="linenos">2191</span></a><span class="sd">        processed simultaneously to other actions. The deliver actions</span>
</span><span id="L-2192"><a href="#L-2192"><span class="linenos">2192</span></a><span class="sd">        are stored in lists to allow multiple deliveries at the same time</span>
</span><span id="L-2193"><a href="#L-2193"><span class="linenos">2193</span></a><span class="sd">        step.</span>
</span><span id="L-2194"><a href="#L-2194"><span class="linenos">2194</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2195"><a href="#L-2195"><span class="linenos">2195</span></a>
</span><span id="L-2196"><a href="#L-2196"><span class="linenos">2196</span></a><span class="sd">    def __init__(self, ID = 0, x = 0, y = 0):</span>
</span><span id="L-2197"><a href="#L-2197"><span class="linenos">2197</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2198"><a href="#L-2198"><span class="linenos">2198</span></a><span class="sd">        Parameters:</span>
</span><span id="L-2199"><a href="#L-2199"><span class="linenos">2199</span></a><span class="sd">        ID : int, optional</span>
</span><span id="L-2200"><a href="#L-2200"><span class="linenos">2200</span></a><span class="sd">            The ID of the robot</span>
</span><span id="L-2201"><a href="#L-2201"><span class="linenos">2201</span></a><span class="sd">        x: int, optional</span>
</span><span id="L-2202"><a href="#L-2202"><span class="linenos">2202</span></a><span class="sd">            The x coordinate on the grid</span>
</span><span id="L-2203"><a href="#L-2203"><span class="linenos">2203</span></a><span class="sd">        y: int, optional</span>
</span><span id="L-2204"><a href="#L-2204"><span class="linenos">2204</span></a><span class="sd">            The y coordinate on the grid</span>
</span><span id="L-2205"><a href="#L-2205"><span class="linenos">2205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2206"><a href="#L-2206"><span class="linenos">2206</span></a>
</span><span id="L-2207"><a href="#L-2207"><span class="linenos">2207</span></a><span class="sd">        super(self.__class__, self).__init__(ID, x, y)</span>
</span><span id="L-2208"><a href="#L-2208"><span class="linenos">2208</span></a><span class="sd">        self._kind_name = &#39;robot&#39;</span>
</span><span id="L-2209"><a href="#L-2209"><span class="linenos">2209</span></a><span class="sd">        self._carries = None</span>
</span><span id="L-2210"><a href="#L-2210"><span class="linenos">2210</span></a><span class="sd">        self._initial_carries = None</span>
</span><span id="L-2211"><a href="#L-2211"><span class="linenos">2211</span></a><span class="sd">        self._tasks = []</span>
</span><span id="L-2212"><a href="#L-2212"><span class="linenos">2212</span></a><span class="sd">        self._graphics_item = QGraphicsRectItem(self)</span>
</span><span id="L-2213"><a href="#L-2213"><span class="linenos">2213</span></a><span class="sd">        self._energy_bar_full = QGraphicsRectItem(self)</span>
</span><span id="L-2214"><a href="#L-2214"><span class="linenos">2214</span></a><span class="sd">        self._energy_bar_empty = QGraphicsRectItem(self)</span>
</span><span id="L-2215"><a href="#L-2215"><span class="linenos">2215</span></a><span class="sd">        self._text = QGraphicsTextItem(self)</span>
</span><span id="L-2216"><a href="#L-2216"><span class="linenos">2216</span></a><span class="sd">        self.setZValue(1.0)</span>
</span><span id="L-2217"><a href="#L-2217"><span class="linenos">2217</span></a>
</span><span id="L-2218"><a href="#L-2218"><span class="linenos">2218</span></a><span class="sd">        self._energy_bar_empty.setBrush(QBrush(QColor(200,0,0)))</span>
</span><span id="L-2219"><a href="#L-2219"><span class="linenos">2219</span></a><span class="sd">        self._energy_bar_full.setBrush(QBrush(QColor(0,200,0)))</span>
</span><span id="L-2220"><a href="#L-2220"><span class="linenos">2220</span></a>
</span><span id="L-2221"><a href="#L-2221"><span class="linenos">2221</span></a><span class="sd">        self._initial_energy = 0</span>
</span><span id="L-2222"><a href="#L-2222"><span class="linenos">2222</span></a><span class="sd">        self._max_energy = 0</span>
</span><span id="L-2223"><a href="#L-2223"><span class="linenos">2223</span></a><span class="sd">        self._current_energy = 0</span>
</span><span id="L-2224"><a href="#L-2224"><span class="linenos">2224</span></a><span class="sd">        self._energy_costs = {}</span>
</span><span id="L-2225"><a href="#L-2225"><span class="linenos">2225</span></a>
</span><span id="L-2226"><a href="#L-2226"><span class="linenos">2226</span></a><span class="sd">        self._parallel_delivers = {}</span>
</span><span id="L-2227"><a href="#L-2227"><span class="linenos">2227</span></a>
</span><span id="L-2228"><a href="#L-2228"><span class="linenos">2228</span></a><span class="sd">    def set_position(self, x, y):</span>
</span><span id="L-2229"><a href="#L-2229"><span class="linenos">2229</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2230"><a href="#L-2230"><span class="linenos">2230</span></a><span class="sd">        Sets the current position of the robot.</span>
</span><span id="L-2231"><a href="#L-2231"><span class="linenos">2231</span></a><span class="sd">        Sets also the current position of a carried shelf to the same position.</span>
</span><span id="L-2232"><a href="#L-2232"><span class="linenos">2232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2233"><a href="#L-2233"><span class="linenos">2233</span></a><span class="sd">        super(self.__class__, self).set_position(x, y)</span>
</span><span id="L-2234"><a href="#L-2234"><span class="linenos">2234</span></a><span class="sd">        if self._carries is not None:</span>
</span><span id="L-2235"><a href="#L-2235"><span class="linenos">2235</span></a><span class="sd">           self._carries.set_position(x, y)</span>
</span><span id="L-2236"><a href="#L-2236"><span class="linenos">2236</span></a>
</span><span id="L-2237"><a href="#L-2237"><span class="linenos">2237</span></a>
</span><span id="L-2238"><a href="#L-2238"><span class="linenos">2238</span></a><span class="sd">    def set_starting_position(self, x, y):</span>
</span><span id="L-2239"><a href="#L-2239"><span class="linenos">2239</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2240"><a href="#L-2240"><span class="linenos">2240</span></a><span class="sd">        Sets the starting position of the robot.</span>
</span><span id="L-2241"><a href="#L-2241"><span class="linenos">2241</span></a><span class="sd">        Sets also the starting position of a carried shelf to the same position.</span>
</span><span id="L-2242"><a href="#L-2242"><span class="linenos">2242</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2243"><a href="#L-2243"><span class="linenos">2243</span></a>
</span><span id="L-2244"><a href="#L-2244"><span class="linenos">2244</span></a><span class="sd">        super(self.__class__, self).set_starting_position(x, y)</span>
</span><span id="L-2245"><a href="#L-2245"><span class="linenos">2245</span></a><span class="sd">        if self._initial_carries is not None:</span>
</span><span id="L-2246"><a href="#L-2246"><span class="linenos">2246</span></a><span class="sd">           self._initial_carries.set_starting_position(x, y)</span>
</span><span id="L-2247"><a href="#L-2247"><span class="linenos">2247</span></a>
</span><span id="L-2248"><a href="#L-2248"><span class="linenos">2248</span></a><span class="sd">    def set_carries(self, shelf):</span>
</span><span id="L-2249"><a href="#L-2249"><span class="linenos">2249</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2250"><a href="#L-2250"><span class="linenos">2250</span></a><span class="sd">        Sets the shelf that is carried by this robot the at current time step.</span>
</span><span id="L-2251"><a href="#L-2251"><span class="linenos">2251</span></a><span class="sd">        Sets also the robot that carries the given shelf.</span>
</span><span id="L-2252"><a href="#L-2252"><span class="linenos">2252</span></a><span class="sd">        If the robot already carries another shelf the other shelves </span>
</span><span id="L-2253"><a href="#L-2253"><span class="linenos">2253</span></a><span class="sd">        carried value will be set to None.</span>
</span><span id="L-2254"><a href="#L-2254"><span class="linenos">2254</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2255"><a href="#L-2255"><span class="linenos">2255</span></a>
</span><span id="L-2256"><a href="#L-2256"><span class="linenos">2256</span></a><span class="sd">        #Checks whether the shelf is already carried by the robot </span>
</span><span id="L-2257"><a href="#L-2257"><span class="linenos">2257</span></a><span class="sd">        #to prevent a infinite loop.</span>
</span><span id="L-2258"><a href="#L-2258"><span class="linenos">2258</span></a><span class="sd">        if shelf == self._carries:</span>
</span><span id="L-2259"><a href="#L-2259"><span class="linenos">2259</span></a><span class="sd">            return</span>
</span><span id="L-2260"><a href="#L-2260"><span class="linenos">2260</span></a><span class="sd">        old = self._carries</span>
</span><span id="L-2261"><a href="#L-2261"><span class="linenos">2261</span></a><span class="sd">        self._carries = shelf</span>
</span><span id="L-2262"><a href="#L-2262"><span class="linenos">2262</span></a><span class="sd">        if old != None: old.set_carried(None)</span>
</span><span id="L-2263"><a href="#L-2263"><span class="linenos">2263</span></a><span class="sd">        if self._carries != None: self._carries.set_carried(self)</span>
</span><span id="L-2264"><a href="#L-2264"><span class="linenos">2264</span></a>
</span><span id="L-2265"><a href="#L-2265"><span class="linenos">2265</span></a><span class="sd">    def set_initial_carries(self, shelf):</span>
</span><span id="L-2266"><a href="#L-2266"><span class="linenos">2266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2267"><a href="#L-2267"><span class="linenos">2267</span></a><span class="sd">        Sets a shelf that is carried at the begin.</span>
</span><span id="L-2268"><a href="#L-2268"><span class="linenos">2268</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2269"><a href="#L-2269"><span class="linenos">2269</span></a><span class="sd">        self._initial_carries = shelf</span>
</span><span id="L-2270"><a href="#L-2270"><span class="linenos">2270</span></a>
</span><span id="L-2271"><a href="#L-2271"><span class="linenos">2271</span></a><span class="sd">    def set_rect(self, rect):</span>
</span><span id="L-2272"><a href="#L-2272"><span class="linenos">2272</span></a><span class="sd">        &quot;&quot;&quot;    </span>
</span><span id="L-2273"><a href="#L-2273"><span class="linenos">2273</span></a><span class="sd">        Sets the rectangle that a robot can use to draw things in.</span>
</span><span id="L-2274"><a href="#L-2274"><span class="linenos">2274</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="L-2275"><a href="#L-2275"><span class="linenos">2275</span></a><span class="sd">        This function defines the appearance of the robot</span>
</span><span id="L-2276"><a href="#L-2276"><span class="linenos">2276</span></a><span class="sd">        on the grid.</span>
</span><span id="L-2277"><a href="#L-2277"><span class="linenos">2277</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2278"><a href="#L-2278"><span class="linenos">2278</span></a>
</span><span id="L-2279"><a href="#L-2279"><span class="linenos">2279</span></a><span class="sd">        scale = config.get(&#39;display&#39;, &#39;id_font_scale&#39;)</span>
</span><span id="L-2280"><a href="#L-2280"><span class="linenos">2280</span></a><span class="sd">        bold = config.get(&#39;display&#39;, &#39;id_font_bold&#39;)</span>
</span><span id="L-2281"><a href="#L-2281"><span class="linenos">2281</span></a><span class="sd">        self._text.setFont(QFont(&#39;&#39;, rect.width()*0.08*scale))</span>
</span><span id="L-2282"><a href="#L-2282"><span class="linenos">2282</span></a><span class="sd">        self._text.setPos(rect.x(), rect.y() + 0.2*rect.height())</span>
</span><span id="L-2283"><a href="#L-2283"><span class="linenos">2283</span></a><span class="sd">        self._text.setDefaultTextColor(QColor(config.get(&#39;display&#39;, &#39;id_font_color&#39;)))</span>
</span><span id="L-2284"><a href="#L-2284"><span class="linenos">2284</span></a><span class="sd">        rect2 = QRectF()</span>
</span><span id="L-2285"><a href="#L-2285"><span class="linenos">2285</span></a>
</span><span id="L-2286"><a href="#L-2286"><span class="linenos">2286</span></a><span class="sd">        if self._display_mode == 0:</span>
</span><span id="L-2287"><a href="#L-2287"><span class="linenos">2287</span></a><span class="sd">            if bold:</span>
</span><span id="L-2288"><a href="#L-2288"><span class="linenos">2288</span></a><span class="sd">                self._text.setHtml(&#39;&lt;b&gt;R(&#39; + str(self._id) + &#39;)&lt;/b&gt;&#39;)</span>
</span><span id="L-2289"><a href="#L-2289"><span class="linenos">2289</span></a><span class="sd">            else:</span>
</span><span id="L-2290"><a href="#L-2290"><span class="linenos">2290</span></a><span class="sd">                self._text.setHtml(&#39;R(&#39; + str(self._id) + &#39;)&#39;)</span>
</span><span id="L-2291"><a href="#L-2291"><span class="linenos">2291</span></a><span class="sd">            if not self._highlighted:</span>
</span><span id="L-2292"><a href="#L-2292"><span class="linenos">2292</span></a><span class="sd">                rect2 = QRectF(rect.x() + 0.25*rect.width(), </span>
</span><span id="L-2293"><a href="#L-2293"><span class="linenos">2293</span></a><span class="sd">                               rect.y() + 0.25*rect.height(),</span>
</span><span id="L-2294"><a href="#L-2294"><span class="linenos">2294</span></a><span class="sd">                               rect.width()*0.5,</span>
</span><span id="L-2295"><a href="#L-2295"><span class="linenos">2295</span></a><span class="sd">                               rect.height()*0.5)</span>
</span><span id="L-2296"><a href="#L-2296"><span class="linenos">2296</span></a><span class="sd">            else:</span>
</span><span id="L-2297"><a href="#L-2297"><span class="linenos">2297</span></a><span class="sd">                rect2 = QRectF(rect.x() + 0.05*rect.width(), </span>
</span><span id="L-2298"><a href="#L-2298"><span class="linenos">2298</span></a><span class="sd">                               rect.y() + 0.05*rect.height(),</span>
</span><span id="L-2299"><a href="#L-2299"><span class="linenos">2299</span></a><span class="sd">                               rect.width()*0.9,</span>
</span><span id="L-2300"><a href="#L-2300"><span class="linenos">2300</span></a><span class="sd">                               rect.height()*0.9,)</span>
</span><span id="L-2301"><a href="#L-2301"><span class="linenos">2301</span></a>
</span><span id="L-2302"><a href="#L-2302"><span class="linenos">2302</span></a><span class="sd">        else:</span>
</span><span id="L-2303"><a href="#L-2303"><span class="linenos">2303</span></a><span class="sd">            self._text.setPlainText(&#39;&#39;)</span>
</span><span id="L-2304"><a href="#L-2304"><span class="linenos">2304</span></a><span class="sd">            if not self._highlighted:</span>
</span><span id="L-2305"><a href="#L-2305"><span class="linenos">2305</span></a><span class="sd">                rect2 = QRectF(rect.x() + 0.05*rect.width(), </span>
</span><span id="L-2306"><a href="#L-2306"><span class="linenos">2306</span></a><span class="sd">                               rect.y() + 0.05*rect.height(),</span>
</span><span id="L-2307"><a href="#L-2307"><span class="linenos">2307</span></a><span class="sd">                               rect.width()*0.9,</span>
</span><span id="L-2308"><a href="#L-2308"><span class="linenos">2308</span></a><span class="sd">                               rect.height()*0.9)</span>
</span><span id="L-2309"><a href="#L-2309"><span class="linenos">2309</span></a><span class="sd">            else:</span>
</span><span id="L-2310"><a href="#L-2310"><span class="linenos">2310</span></a><span class="sd">                rect2 = QRectF(rect.x() - 0.15*rect.width(), </span>
</span><span id="L-2311"><a href="#L-2311"><span class="linenos">2311</span></a><span class="sd">                               rect.y() - 0.15*rect.height(),</span>
</span><span id="L-2312"><a href="#L-2312"><span class="linenos">2312</span></a><span class="sd">                               rect.width()*1.3,</span>
</span><span id="L-2313"><a href="#L-2313"><span class="linenos">2313</span></a><span class="sd">                               rect.height()*1.3,)</span>
</span><span id="L-2314"><a href="#L-2314"><span class="linenos">2314</span></a>
</span><span id="L-2315"><a href="#L-2315"><span class="linenos">2315</span></a><span class="sd">        self._graphics_item.setRect(rect2)</span>
</span><span id="L-2316"><a href="#L-2316"><span class="linenos">2316</span></a><span class="sd">        #draw energy bar if max energy &gt; 0</span>
</span><span id="L-2317"><a href="#L-2317"><span class="linenos">2317</span></a><span class="sd">        if self._max_energy &gt; 0:</span>
</span><span id="L-2318"><a href="#L-2318"><span class="linenos">2318</span></a><span class="sd">            per_energy = max(0.0, min(1.0, float(self._current_energy) / self._max_energy))</span>
</span><span id="L-2319"><a href="#L-2319"><span class="linenos">2319</span></a><span class="sd">            rect2.setLeft(rect2.x() + rect2.width()*0.7)</span>
</span><span id="L-2320"><a href="#L-2320"><span class="linenos">2320</span></a><span class="sd">            rect2.setWidth(rect2.width()*0.5)</span>
</span><span id="L-2321"><a href="#L-2321"><span class="linenos">2321</span></a>
</span><span id="L-2322"><a href="#L-2322"><span class="linenos">2322</span></a><span class="sd">            self._energy_bar_empty.setRect(rect2.x(), </span>
</span><span id="L-2323"><a href="#L-2323"><span class="linenos">2323</span></a><span class="sd">                                           rect2.y(),</span>
</span><span id="L-2324"><a href="#L-2324"><span class="linenos">2324</span></a><span class="sd">                                           rect2.width(),</span>
</span><span id="L-2325"><a href="#L-2325"><span class="linenos">2325</span></a><span class="sd">                                           rect2.height() * (1.0 - per_energy))</span>
</span><span id="L-2326"><a href="#L-2326"><span class="linenos">2326</span></a><span class="sd">            self._energy_bar_full.setRect(rect2.x(), </span>
</span><span id="L-2327"><a href="#L-2327"><span class="linenos">2327</span></a><span class="sd">                                          rect2.y() + rect2.height() * (1.0 - per_energy), </span>
</span><span id="L-2328"><a href="#L-2328"><span class="linenos">2328</span></a><span class="sd">                                          rect2.width(), </span>
</span><span id="L-2329"><a href="#L-2329"><span class="linenos">2329</span></a><span class="sd">                                          rect2.height() * per_energy)</span>
</span><span id="L-2330"><a href="#L-2330"><span class="linenos">2330</span></a>
</span><span id="L-2331"><a href="#L-2331"><span class="linenos">2331</span></a><span class="sd">        if self._carries is not None:</span>
</span><span id="L-2332"><a href="#L-2332"><span class="linenos">2332</span></a><span class="sd">            self._carries.set_rect(rect)</span>
</span><span id="L-2333"><a href="#L-2333"><span class="linenos">2333</span></a><span class="sd">        self.update_tooltip()</span>
</span><span id="L-2334"><a href="#L-2334"><span class="linenos">2334</span></a>
</span><span id="L-2335"><a href="#L-2335"><span class="linenos">2335</span></a><span class="sd">    def set_initial_energy(self, energy):</span>
</span><span id="L-2336"><a href="#L-2336"><span class="linenos">2336</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2337"><a href="#L-2337"><span class="linenos">2337</span></a><span class="sd">        Sets the initial energy of the robot.</span>
</span><span id="L-2338"><a href="#L-2338"><span class="linenos">2338</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2339"><a href="#L-2339"><span class="linenos">2339</span></a>
</span><span id="L-2340"><a href="#L-2340"><span class="linenos">2340</span></a><span class="sd">        self._initial_energy = energy</span>
</span><span id="L-2341"><a href="#L-2341"><span class="linenos">2341</span></a>
</span><span id="L-2342"><a href="#L-2342"><span class="linenos">2342</span></a><span class="sd">    def set_action(self, action, time_step):</span>
</span><span id="L-2343"><a href="#L-2343"><span class="linenos">2343</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2344"><a href="#L-2344"><span class="linenos">2344</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="L-2345"><a href="#L-2345"><span class="linenos">2345</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="L-2346"><a href="#L-2346"><span class="linenos">2346</span></a><span class="sd">        a warning since this should never happen. Accepts deliver</span>
</span><span id="L-2347"><a href="#L-2347"><span class="linenos">2347</span></a><span class="sd">        actions simultaneously to other actions.</span>
</span><span id="L-2348"><a href="#L-2348"><span class="linenos">2348</span></a>
</span><span id="L-2349"><a href="#L-2349"><span class="linenos">2349</span></a><span class="sd">        Parameters:</span>
</span><span id="L-2350"><a href="#L-2350"><span class="linenos">2350</span></a><span class="sd">        action: clingo.symbol.Symbol</span>
</span><span id="L-2351"><a href="#L-2351"><span class="linenos">2351</span></a><span class="sd">            This is the action that will be performed.</span>
</span><span id="L-2352"><a href="#L-2352"><span class="linenos">2352</span></a><span class="sd">        time_step: int</span>
</span><span id="L-2353"><a href="#L-2353"><span class="linenos">2353</span></a><span class="sd">            This is the time step at which the action</span>
</span><span id="L-2354"><a href="#L-2354"><span class="linenos">2354</span></a><span class="sd">        shold be performed.</span>
</span><span id="L-2355"><a href="#L-2355"><span class="linenos">2355</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2356"><a href="#L-2356"><span class="linenos">2356</span></a>
</span><span id="L-2357"><a href="#L-2357"><span class="linenos">2357</span></a><span class="sd">        if time_step &lt; 0:</span>
</span><span id="L-2358"><a href="#L-2358"><span class="linenos">2358</span></a><span class="sd">            print((&#39;Warning: invalid time step in occurs(object(&#39;</span>
</span><span id="L-2359"><a href="#L-2359"><span class="linenos">2359</span></a><span class="sd">                    + str(self._kind_name) + &#39;,&#39;</span>
</span><span id="L-2360"><a href="#L-2360"><span class="linenos">2360</span></a><span class="sd">                    + str(self._ID) + &#39;),&#39; + str(action)</span>
</span><span id="L-2361"><a href="#L-2361"><span class="linenos">2361</span></a><span class="sd">                    + &#39;,&#39; + str(time_step) + &#39;)&#39;))</span>
</span><span id="L-2362"><a href="#L-2362"><span class="linenos">2362</span></a><span class="sd">            print(&#39;time step is less than 0&#39;)</span>
</span><span id="L-2363"><a href="#L-2363"><span class="linenos">2363</span></a><span class="sd">            return</span>
</span><span id="L-2364"><a href="#L-2364"><span class="linenos">2364</span></a><span class="sd">        for ii in range((time_step + 1) - len(self._actions)):</span>
</span><span id="L-2365"><a href="#L-2365"><span class="linenos">2365</span></a><span class="sd">            self._actions.append(None)</span>
</span><span id="L-2366"><a href="#L-2366"><span class="linenos">2366</span></a>
</span><span id="L-2367"><a href="#L-2367"><span class="linenos">2367</span></a><span class="sd">        action_name = action.arguments[0].name</span>
</span><span id="L-2368"><a href="#L-2368"><span class="linenos">2368</span></a>
</span><span id="L-2369"><a href="#L-2369"><span class="linenos">2369</span></a><span class="sd">        if action_name == &#39;deliver&#39; and time_step in self._parallel_delivers:</span>
</span><span id="L-2370"><a href="#L-2370"><span class="linenos">2370</span></a><span class="sd">            deliver_list = self._parallel_delivers[time_step]</span>
</span><span id="L-2371"><a href="#L-2371"><span class="linenos">2371</span></a><span class="sd">            deliver_list.append(action)</span>
</span><span id="L-2372"><a href="#L-2372"><span class="linenos">2372</span></a><span class="sd">            return</span>
</span><span id="L-2373"><a href="#L-2373"><span class="linenos">2373</span></a>
</span><span id="L-2374"><a href="#L-2374"><span class="linenos">2374</span></a><span class="sd">        elif self._actions[time_step] is not None:</span>
</span><span id="L-2375"><a href="#L-2375"><span class="linenos">2375</span></a>
</span><span id="L-2376"><a href="#L-2376"><span class="linenos">2376</span></a><span class="sd">            action_name2 = self._actions[time_step].arguments[0].name</span>
</span><span id="L-2377"><a href="#L-2377"><span class="linenos">2377</span></a>
</span><span id="L-2378"><a href="#L-2378"><span class="linenos">2378</span></a><span class="sd">            if action_name == &#39;deliver&#39;:</span>
</span><span id="L-2379"><a href="#L-2379"><span class="linenos">2379</span></a><span class="sd">                if not ll_config.get(&#39;features&#39;, &#39;domainc&#39;):</span>
</span><span id="L-2380"><a href="#L-2380"><span class="linenos">2380</span></a><span class="sd">                    print((&#39;Warning: for object(&#39; + str(self._kind_name)</span>
</span><span id="L-2381"><a href="#L-2381"><span class="linenos">2381</span></a><span class="sd">                        + &#39;, &#39; + str(self._id)</span>
</span><span id="L-2382"><a href="#L-2382"><span class="linenos">2382</span></a><span class="sd">                        + &#39;) multiple actions are defined at time step &#39;</span>
</span><span id="L-2383"><a href="#L-2383"><span class="linenos">2383</span></a><span class="sd">                        + str(time_step)))</span>
</span><span id="L-2384"><a href="#L-2384"><span class="linenos">2384</span></a>
</span><span id="L-2385"><a href="#L-2385"><span class="linenos">2385</span></a><span class="sd">                if not time_step in self._parallel_delivers:</span>
</span><span id="L-2386"><a href="#L-2386"><span class="linenos">2386</span></a><span class="sd">                    self._parallel_delivers[time_step] = []</span>
</span><span id="L-2387"><a href="#L-2387"><span class="linenos">2387</span></a><span class="sd">                self._parallel_delivers[time_step].append(action)</span>
</span><span id="L-2388"><a href="#L-2388"><span class="linenos">2388</span></a><span class="sd">                if action_name2 == &#39;deliver&#39;:</span>
</span><span id="L-2389"><a href="#L-2389"><span class="linenos">2389</span></a><span class="sd">                    self._parallel_delivers[time_step].append(</span>
</span><span id="L-2390"><a href="#L-2390"><span class="linenos">2390</span></a><span class="sd">                        self._actions[time_step])</span>
</span><span id="L-2391"><a href="#L-2391"><span class="linenos">2391</span></a><span class="sd">                    self._actions[time_step] = None</span>
</span><span id="L-2392"><a href="#L-2392"><span class="linenos">2392</span></a><span class="sd">                return</span>
</span><span id="L-2393"><a href="#L-2393"><span class="linenos">2393</span></a>
</span><span id="L-2394"><a href="#L-2394"><span class="linenos">2394</span></a><span class="sd">            elif action_name2 == &#39;deliver&#39;:</span>
</span><span id="L-2395"><a href="#L-2395"><span class="linenos">2395</span></a><span class="sd">                if not ll_config.get(&#39;features&#39;, &#39;domainc&#39;):</span>
</span><span id="L-2396"><a href="#L-2396"><span class="linenos">2396</span></a><span class="sd">                    print((&#39;Warning: for object(&#39; + str(self._kind_name)</span>
</span><span id="L-2397"><a href="#L-2397"><span class="linenos">2397</span></a><span class="sd">                        + &#39;, &#39; + str(self._id)</span>
</span><span id="L-2398"><a href="#L-2398"><span class="linenos">2398</span></a><span class="sd">                        + &#39;) multiple actions are defined at time step &#39;</span>
</span><span id="L-2399"><a href="#L-2399"><span class="linenos">2399</span></a><span class="sd">                        + str(time_step)))</span>
</span><span id="L-2400"><a href="#L-2400"><span class="linenos">2400</span></a>
</span><span id="L-2401"><a href="#L-2401"><span class="linenos">2401</span></a><span class="sd">                if not time_step in self._parallel_delivers:</span>
</span><span id="L-2402"><a href="#L-2402"><span class="linenos">2402</span></a><span class="sd">                    self._parallel_delivers[time_step] = []</span>
</span><span id="L-2403"><a href="#L-2403"><span class="linenos">2403</span></a><span class="sd">                self._parallel_delivers[time_step].append(</span>
</span><span id="L-2404"><a href="#L-2404"><span class="linenos">2404</span></a><span class="sd">                    self._actions[time_step])</span>
</span><span id="L-2405"><a href="#L-2405"><span class="linenos">2405</span></a><span class="sd">                self._actions[time_step] = action</span>
</span><span id="L-2406"><a href="#L-2406"><span class="linenos">2406</span></a><span class="sd">                return</span>
</span><span id="L-2407"><a href="#L-2407"><span class="linenos">2407</span></a>
</span><span id="L-2408"><a href="#L-2408"><span class="linenos">2408</span></a><span class="sd">            else:</span>
</span><span id="L-2409"><a href="#L-2409"><span class="linenos">2409</span></a><span class="sd">                print((&#39;Warning: for object(&#39; + str(self._kind_name)</span>
</span><span id="L-2410"><a href="#L-2410"><span class="linenos">2410</span></a><span class="sd">                    + &#39;, &#39; + str(self._id)</span>
</span><span id="L-2411"><a href="#L-2411"><span class="linenos">2411</span></a><span class="sd">                    + &#39;) multiple actions are defined at time step &#39;</span>
</span><span id="L-2412"><a href="#L-2412"><span class="linenos">2412</span></a><span class="sd">                    + str(time_step)))</span>
</span><span id="L-2413"><a href="#L-2413"><span class="linenos">2413</span></a><span class="sd">        self._actions[time_step] = action</span>
</span><span id="L-2414"><a href="#L-2414"><span class="linenos">2414</span></a>
</span><span id="L-2415"><a href="#L-2415"><span class="linenos">2415</span></a><span class="sd">    def set_current_energy(self, energy):</span>
</span><span id="L-2416"><a href="#L-2416"><span class="linenos">2416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2417"><a href="#L-2417"><span class="linenos">2417</span></a><span class="sd">        Sets the current energy of the robot.</span>
</span><span id="L-2418"><a href="#L-2418"><span class="linenos">2418</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2419"><a href="#L-2419"><span class="linenos">2419</span></a>
</span><span id="L-2420"><a href="#L-2420"><span class="linenos">2420</span></a><span class="sd">        self._current_energy = energy</span>
</span><span id="L-2421"><a href="#L-2421"><span class="linenos">2421</span></a>
</span><span id="L-2422"><a href="#L-2422"><span class="linenos">2422</span></a><span class="sd">    def set_max_energy(self, energy):</span>
</span><span id="L-2423"><a href="#L-2423"><span class="linenos">2423</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2424"><a href="#L-2424"><span class="linenos">2424</span></a><span class="sd">        Sets the maximal energy of the robot.</span>
</span><span id="L-2425"><a href="#L-2425"><span class="linenos">2425</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2426"><a href="#L-2426"><span class="linenos">2426</span></a>
</span><span id="L-2427"><a href="#L-2427"><span class="linenos">2427</span></a><span class="sd">        self._max_energy = energy</span>
</span><span id="L-2428"><a href="#L-2428"><span class="linenos">2428</span></a>
</span><span id="L-2429"><a href="#L-2429"><span class="linenos">2429</span></a><span class="sd">    def add_energy(self, energy):</span>
</span><span id="L-2430"><a href="#L-2430"><span class="linenos">2430</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2431"><a href="#L-2431"><span class="linenos">2431</span></a><span class="sd">        Adds energy to or removes energy from the robot.</span>
</span><span id="L-2432"><a href="#L-2432"><span class="linenos">2432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2433"><a href="#L-2433"><span class="linenos">2433</span></a>
</span><span id="L-2434"><a href="#L-2434"><span class="linenos">2434</span></a><span class="sd">        self._current_energy = self._current_energy + energy</span>
</span><span id="L-2435"><a href="#L-2435"><span class="linenos">2435</span></a>
</span><span id="L-2436"><a href="#L-2436"><span class="linenos">2436</span></a><span class="sd">    def add_task(self, task):</span>
</span><span id="L-2437"><a href="#L-2437"><span class="linenos">2437</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2438"><a href="#L-2438"><span class="linenos">2438</span></a><span class="sd">        Adds a task to the robot.</span>
</span><span id="L-2439"><a href="#L-2439"><span class="linenos">2439</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2440"><a href="#L-2440"><span class="linenos">2440</span></a>
</span><span id="L-2441"><a href="#L-2441"><span class="linenos">2441</span></a><span class="sd">        if task is None:</span>
</span><span id="L-2442"><a href="#L-2442"><span class="linenos">2442</span></a><span class="sd">            return</span>
</span><span id="L-2443"><a href="#L-2443"><span class="linenos">2443</span></a><span class="sd">        if task in self._tasks:</span>
</span><span id="L-2444"><a href="#L-2444"><span class="linenos">2444</span></a><span class="sd">            return</span>
</span><span id="L-2445"><a href="#L-2445"><span class="linenos">2445</span></a><span class="sd">        self._tasks.append(task)</span>
</span><span id="L-2446"><a href="#L-2446"><span class="linenos">2446</span></a><span class="sd">        task.set_robot(self)</span>
</span><span id="L-2447"><a href="#L-2447"><span class="linenos">2447</span></a>
</span><span id="L-2448"><a href="#L-2448"><span class="linenos">2448</span></a><span class="sd">    def parse_init_value(self, name, value):</span>
</span><span id="L-2449"><a href="#L-2449"><span class="linenos">2449</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2450"><a href="#L-2450"><span class="linenos">2450</span></a><span class="sd">        This function handels the input phrases for robots.</span>
</span><span id="L-2451"><a href="#L-2451"><span class="linenos">2451</span></a><span class="sd">        This is called for every phrase the model receives with the</span>
</span><span id="L-2452"><a href="#L-2452"><span class="linenos">2452</span></a><span class="sd">        following syntax: </span>
</span><span id="L-2453"><a href="#L-2453"><span class="linenos">2453</span></a><span class="sd">        init(object(robot, [robot ID]), value([value name], [value])).</span>
</span><span id="L-2454"><a href="#L-2454"><span class="linenos">2454</span></a>
</span><span id="L-2455"><a href="#L-2455"><span class="linenos">2455</span></a><span class="sd">        Parameters:</span>
</span><span id="L-2456"><a href="#L-2456"><span class="linenos">2456</span></a><span class="sd">        name: str</span>
</span><span id="L-2457"><a href="#L-2457"><span class="linenos">2457</span></a><span class="sd">            This is the name of the value.</span>
</span><span id="L-2458"><a href="#L-2458"><span class="linenos">2458</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-2459"><a href="#L-2459"><span class="linenos">2459</span></a><span class="sd">            This is the actual value. It contains the [value]</span>
</span><span id="L-2460"><a href="#L-2460"><span class="linenos">2460</span></a><span class="sd">            part of the phrase.        </span>
</span><span id="L-2461"><a href="#L-2461"><span class="linenos">2461</span></a>
</span><span id="L-2462"><a href="#L-2462"><span class="linenos">2462</span></a><span class="sd">        Returns 1 if the phrase cannot be parsed, -1 if one parameter is</span>
</span><span id="L-2463"><a href="#L-2463"><span class="linenos">2463</span></a><span class="sd">        invalid and 0 if the function succeeded.   </span>
</span><span id="L-2464"><a href="#L-2464"><span class="linenos">2464</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2465"><a href="#L-2465"><span class="linenos">2465</span></a>
</span><span id="L-2466"><a href="#L-2466"><span class="linenos">2466</span></a><span class="sd">        result = super(self.__class__, self).parse_init_value(name, value)</span>
</span><span id="L-2467"><a href="#L-2467"><span class="linenos">2467</span></a><span class="sd">        if result &lt;= 0: return result</span>
</span><span id="L-2468"><a href="#L-2468"><span class="linenos">2468</span></a><span class="sd">        if name == &#39;carries&#39;:</span>
</span><span id="L-2469"><a href="#L-2469"><span class="linenos">2469</span></a><span class="sd">            shelf = self._model.get_item(&#39;shelf&#39;, value, True, True)</span>
</span><span id="L-2470"><a href="#L-2470"><span class="linenos">2470</span></a><span class="sd">            self.set_initial_carries(shelf)</span>
</span><span id="L-2471"><a href="#L-2471"><span class="linenos">2471</span></a><span class="sd">            self.set_carries(shelf)</span>
</span><span id="L-2472"><a href="#L-2472"><span class="linenos">2472</span></a><span class="sd">            return 0</span>
</span><span id="L-2473"><a href="#L-2473"><span class="linenos">2473</span></a><span class="sd">        elif name == &#39;energy&#39;:</span>
</span><span id="L-2474"><a href="#L-2474"><span class="linenos">2474</span></a><span class="sd">            self.set_current_energy(value.number)</span>
</span><span id="L-2475"><a href="#L-2475"><span class="linenos">2475</span></a><span class="sd">            self.set_initial_energy(value.number)</span>
</span><span id="L-2476"><a href="#L-2476"><span class="linenos">2476</span></a><span class="sd">            return 0</span>
</span><span id="L-2477"><a href="#L-2477"><span class="linenos">2477</span></a><span class="sd">        elif name == &#39;max_energy&#39;:</span>
</span><span id="L-2478"><a href="#L-2478"><span class="linenos">2478</span></a><span class="sd">            self.set_max_energy(value.number)</span>
</span><span id="L-2479"><a href="#L-2479"><span class="linenos">2479</span></a><span class="sd">            return 0</span>
</span><span id="L-2480"><a href="#L-2480"><span class="linenos">2480</span></a><span class="sd">        elif name == &#39;energy_cost&#39;:</span>
</span><span id="L-2481"><a href="#L-2481"><span class="linenos">2481</span></a><span class="sd">            self._energy_costs[value.arguments[0].name] = value.arguments[1].number</span>
</span><span id="L-2482"><a href="#L-2482"><span class="linenos">2482</span></a><span class="sd">            return 0</span>
</span><span id="L-2483"><a href="#L-2483"><span class="linenos">2483</span></a><span class="sd">        return 1</span>
</span><span id="L-2484"><a href="#L-2484"><span class="linenos">2484</span></a>
</span><span id="L-2485"><a href="#L-2485"><span class="linenos">2485</span></a><span class="sd">    def update_tooltip(self):</span>
</span><span id="L-2486"><a href="#L-2486"><span class="linenos">2486</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2487"><a href="#L-2487"><span class="linenos">2487</span></a><span class="sd">        Updates the tooltip for the robot.</span>
</span><span id="L-2488"><a href="#L-2488"><span class="linenos">2488</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2489"><a href="#L-2489"><span class="linenos">2489</span></a>
</span><span id="L-2490"><a href="#L-2490"><span class="linenos">2490</span></a><span class="sd">        tooltip = (&quot;robot(&quot; + str(self._id) + &quot;)\nenergy: &quot; + </span>
</span><span id="L-2491"><a href="#L-2491"><span class="linenos">2491</span></a><span class="sd">                   str(self._current_energy) + &quot;/&quot; + </span>
</span><span id="L-2492"><a href="#L-2492"><span class="linenos">2492</span></a><span class="sd">                   str(self._max_energy))</span>
</span><span id="L-2493"><a href="#L-2493"><span class="linenos">2493</span></a><span class="sd">        if self._max_energy &gt; 0:</span>
</span><span id="L-2494"><a href="#L-2494"><span class="linenos">2494</span></a><span class="sd">            tooltip += (&quot;(&quot; + </span>
</span><span id="L-2495"><a href="#L-2495"><span class="linenos">2495</span></a><span class="sd">                        str(float(self._current_energy)/self._max_energy*100.0) + </span>
</span><span id="L-2496"><a href="#L-2496"><span class="linenos">2496</span></a><span class="sd">                        &quot;%)&quot;)</span>
</span><span id="L-2497"><a href="#L-2497"><span class="linenos">2497</span></a><span class="sd">        </span>
</span><span id="L-2498"><a href="#L-2498"><span class="linenos">2498</span></a><span class="sd">        self.setToolTip(tooltip)</span>
</span><span id="L-2499"><a href="#L-2499"><span class="linenos">2499</span></a>
</span><span id="L-2500"><a href="#L-2500"><span class="linenos">2500</span></a><span class="sd">    def restart(self):</span>
</span><span id="L-2501"><a href="#L-2501"><span class="linenos">2501</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2502"><a href="#L-2502"><span class="linenos">2502</span></a><span class="sd">        Resets the energy and the carried shelf of the robot.</span>
</span><span id="L-2503"><a href="#L-2503"><span class="linenos">2503</span></a><span class="sd">        Sets the robot to its starting position.</span>
</span><span id="L-2504"><a href="#L-2504"><span class="linenos">2504</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2505"><a href="#L-2505"><span class="linenos">2505</span></a>
</span><span id="L-2506"><a href="#L-2506"><span class="linenos">2506</span></a><span class="sd">        super(self.__class__, self).restart()</span>
</span><span id="L-2507"><a href="#L-2507"><span class="linenos">2507</span></a><span class="sd">        self.set_carries(self._initial_carries)</span>
</span><span id="L-2508"><a href="#L-2508"><span class="linenos">2508</span></a><span class="sd">        self.set_current_energy(self._initial_energy)</span>
</span><span id="L-2509"><a href="#L-2509"><span class="linenos">2509</span></a>
</span><span id="L-2510"><a href="#L-2510"><span class="linenos">2510</span></a><span class="sd">    def clear_actions(self):</span>
</span><span id="L-2511"><a href="#L-2511"><span class="linenos">2511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2512"><a href="#L-2512"><span class="linenos">2512</span></a><span class="sd">        Deletes all actions for an object.</span>
</span><span id="L-2513"><a href="#L-2513"><span class="linenos">2513</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2514"><a href="#L-2514"><span class="linenos">2514</span></a>
</span><span id="L-2515"><a href="#L-2515"><span class="linenos">2515</span></a><span class="sd">        self._actions = []</span>
</span><span id="L-2516"><a href="#L-2516"><span class="linenos">2516</span></a><span class="sd">        self._parallel_delivers = {}</span>
</span><span id="L-2517"><a href="#L-2517"><span class="linenos">2517</span></a>
</span><span id="L-2518"><a href="#L-2518"><span class="linenos">2518</span></a><span class="sd">    def to_init_str(self):</span>
</span><span id="L-2519"><a href="#L-2519"><span class="linenos">2519</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2520"><a href="#L-2520"><span class="linenos">2520</span></a><span class="sd">        Converts the robot to a string that represents the robots values.</span>
</span><span id="L-2521"><a href="#L-2521"><span class="linenos">2521</span></a><span class="sd">        This function is used to send robots to a solver</span>
</span><span id="L-2522"><a href="#L-2522"><span class="linenos">2522</span></a><span class="sd">        and to save robots to a file.</span>
</span><span id="L-2523"><a href="#L-2523"><span class="linenos">2523</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2524"><a href="#L-2524"><span class="linenos">2524</span></a>
</span><span id="L-2525"><a href="#L-2525"><span class="linenos">2525</span></a><span class="sd">        s = super(self.__class__, self).to_init_str()</span>
</span><span id="L-2526"><a href="#L-2526"><span class="linenos">2526</span></a><span class="sd">        if self._initial_carries is not None:</span>
</span><span id="L-2527"><a href="#L-2527"><span class="linenos">2527</span></a><span class="sd">            s += (&quot;init(object(robot,&quot;</span>
</span><span id="L-2528"><a href="#L-2528"><span class="linenos">2528</span></a><span class="sd">                    + str(self._id) + &quot;),value(carries,&quot;</span>
</span><span id="L-2529"><a href="#L-2529"><span class="linenos">2529</span></a><span class="sd">                    + str(self._initial_carries.get_id())</span>
</span><span id="L-2530"><a href="#L-2530"><span class="linenos">2530</span></a><span class="sd">                    + &quot;)).&quot;)</span>
</span><span id="L-2531"><a href="#L-2531"><span class="linenos">2531</span></a><span class="sd">        s += (&quot;init(object(robot,&quot; </span>
</span><span id="L-2532"><a href="#L-2532"><span class="linenos">2532</span></a><span class="sd">                + str(self._id) + &quot;), value(max_energy,&quot;</span>
</span><span id="L-2533"><a href="#L-2533"><span class="linenos">2533</span></a><span class="sd">                + str(self._max_energy)</span>
</span><span id="L-2534"><a href="#L-2534"><span class="linenos">2534</span></a><span class="sd">                + &quot;)).&quot;)</span>
</span><span id="L-2535"><a href="#L-2535"><span class="linenos">2535</span></a><span class="sd">        s += (&quot;init(object(robot,&quot; </span>
</span><span id="L-2536"><a href="#L-2536"><span class="linenos">2536</span></a><span class="sd">                + str(self._id) + &quot;), value(energy,&quot;</span>
</span><span id="L-2537"><a href="#L-2537"><span class="linenos">2537</span></a><span class="sd">                + str(self._current_energy)</span>
</span><span id="L-2538"><a href="#L-2538"><span class="linenos">2538</span></a><span class="sd">                + &quot;)).&quot;)</span>
</span><span id="L-2539"><a href="#L-2539"><span class="linenos">2539</span></a><span class="sd">        for key in self._energy_costs:</span>
</span><span id="L-2540"><a href="#L-2540"><span class="linenos">2540</span></a><span class="sd">            s += (&quot;init(object(robot,&quot;</span>
</span><span id="L-2541"><a href="#L-2541"><span class="linenos">2541</span></a><span class="sd">                    + str(self._id) + &quot;),value(energy_cost, (&quot;</span>
</span><span id="L-2542"><a href="#L-2542"><span class="linenos">2542</span></a><span class="sd">                    + key + &quot;, &quot; + str(self._energy_costs[key]) + &quot;))).&quot;)</span>
</span><span id="L-2543"><a href="#L-2543"><span class="linenos">2543</span></a><span class="sd">        return s</span>
</span><span id="L-2544"><a href="#L-2544"><span class="linenos">2544</span></a>
</span><span id="L-2545"><a href="#L-2545"><span class="linenos">2545</span></a><span class="sd">    def to_occurs_str(self):</span>
</span><span id="L-2546"><a href="#L-2546"><span class="linenos">2546</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2547"><a href="#L-2547"><span class="linenos">2547</span></a><span class="sd">        This function returns a list of strings that represents all</span>
</span><span id="L-2548"><a href="#L-2548"><span class="linenos">2548</span></a><span class="sd">        actions of a robot.        </span>
</span><span id="L-2549"><a href="#L-2549"><span class="linenos">2549</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2550"><a href="#L-2550"><span class="linenos">2550</span></a>
</span><span id="L-2551"><a href="#L-2551"><span class="linenos">2551</span></a><span class="sd">        actions = []</span>
</span><span id="L-2552"><a href="#L-2552"><span class="linenos">2552</span></a><span class="sd">        count = 0</span>
</span><span id="L-2553"><a href="#L-2553"><span class="linenos">2553</span></a><span class="sd">        for action in self._actions:</span>
</span><span id="L-2554"><a href="#L-2554"><span class="linenos">2554</span></a><span class="sd">            str_out = &#39;&#39;</span>
</span><span id="L-2555"><a href="#L-2555"><span class="linenos">2555</span></a><span class="sd">            if action is None and count not in self._parallel_delivers:</span>
</span><span id="L-2556"><a href="#L-2556"><span class="linenos">2556</span></a><span class="sd">                actions.append(None)</span>
</span><span id="L-2557"><a href="#L-2557"><span class="linenos">2557</span></a><span class="sd">            else:</span>
</span><span id="L-2558"><a href="#L-2558"><span class="linenos">2558</span></a><span class="sd">                str_out = &#39;&#39;</span>
</span><span id="L-2559"><a href="#L-2559"><span class="linenos">2559</span></a><span class="sd">                if action is not None:</span>
</span><span id="L-2560"><a href="#L-2560"><span class="linenos">2560</span></a><span class="sd">                    str_out = (&#39;occurs(object(&#39;</span>
</span><span id="L-2561"><a href="#L-2561"><span class="linenos">2561</span></a><span class="sd">                        + self._kind_name + &#39;, &#39;</span>
</span><span id="L-2562"><a href="#L-2562"><span class="linenos">2562</span></a><span class="sd">                        + str(self._id) + &#39;), &#39;</span>
</span><span id="L-2563"><a href="#L-2563"><span class="linenos">2563</span></a><span class="sd">                        + str(action) + &#39;, &#39;</span>
</span><span id="L-2564"><a href="#L-2564"><span class="linenos">2564</span></a><span class="sd">                        + str(count) + &#39;).\n&#39;)</span>
</span><span id="L-2565"><a href="#L-2565"><span class="linenos">2565</span></a><span class="sd">                if count in self._parallel_delivers:</span>
</span><span id="L-2566"><a href="#L-2566"><span class="linenos">2566</span></a><span class="sd">                    for action2 in self._parallel_delivers[count]:</span>
</span><span id="L-2567"><a href="#L-2567"><span class="linenos">2567</span></a><span class="sd">                        str_out += (&#39;occurs(object(&#39;</span>
</span><span id="L-2568"><a href="#L-2568"><span class="linenos">2568</span></a><span class="sd">                            + self._kind_name + &#39;, &#39;</span>
</span><span id="L-2569"><a href="#L-2569"><span class="linenos">2569</span></a><span class="sd">                            + str(self._id) + &#39;), &#39;</span>
</span><span id="L-2570"><a href="#L-2570"><span class="linenos">2570</span></a><span class="sd">                            + str(action2) + &#39;, &#39;</span>
</span><span id="L-2571"><a href="#L-2571"><span class="linenos">2571</span></a><span class="sd">                            + str(count) + &#39;).\n&#39;)</span>
</span><span id="L-2572"><a href="#L-2572"><span class="linenos">2572</span></a><span class="sd">                actions.append(str_out)</span>
</span><span id="L-2573"><a href="#L-2573"><span class="linenos">2573</span></a><span class="sd">            count = count + 1</span>
</span><span id="L-2574"><a href="#L-2574"><span class="linenos">2574</span></a><span class="sd">        return actions</span>
</span><span id="L-2575"><a href="#L-2575"><span class="linenos">2575</span></a>
</span><span id="L-2576"><a href="#L-2576"><span class="linenos">2576</span></a><span class="sd">    def _do_deliver(self, action, value, time_step):</span>
</span><span id="L-2577"><a href="#L-2577"><span class="linenos">2577</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2578"><a href="#L-2578"><span class="linenos">2578</span></a><span class="sd">        Performs the given deliver action.</span>
</span><span id="L-2579"><a href="#L-2579"><span class="linenos">2579</span></a>
</span><span id="L-2580"><a href="#L-2580"><span class="linenos">2580</span></a><span class="sd">        Parameters:</span>
</span><span id="L-2581"><a href="#L-2581"><span class="linenos">2581</span></a><span class="sd">        action: clingo.symbol.Symbol</span>
</span><span id="L-2582"><a href="#L-2582"><span class="linenos">2582</span></a><span class="sd">            This symbol contains the name of the action.</span>
</span><span id="L-2583"><a href="#L-2583"><span class="linenos">2583</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-2584"><a href="#L-2584"><span class="linenos">2584</span></a><span class="sd">            This symbol contains the values of the</span>
</span><span id="L-2585"><a href="#L-2585"><span class="linenos">2585</span></a><span class="sd">            deliver action.</span>
</span><span id="L-2586"><a href="#L-2586"><span class="linenos">2586</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2587"><a href="#L-2587"><span class="linenos">2587</span></a><span class="sd">        #deliver with 3 arguments</span>
</span><span id="L-2588"><a href="#L-2588"><span class="linenos">2588</span></a><span class="sd">        if len(value.arguments) &gt; 2:</span>
</span><span id="L-2589"><a href="#L-2589"><span class="linenos">2589</span></a><span class="sd">            try:</span>
</span><span id="L-2590"><a href="#L-2590"><span class="linenos">2590</span></a><span class="sd">                if self._carries is not None:</span>
</span><span id="L-2591"><a href="#L-2591"><span class="linenos">2591</span></a><span class="sd">                    self._carries.remove_product(value.arguments[1], value.arguments[2].number)</span>
</span><span id="L-2592"><a href="#L-2592"><span class="linenos">2592</span></a><span class="sd">                order = self._model.filter_items(item_kind = &#39;order&#39;, </span>
</span><span id="L-2593"><a href="#L-2593"><span class="linenos">2593</span></a><span class="sd">                            ID = value.arguments[0], </span>
</span><span id="L-2594"><a href="#L-2594"><span class="linenos">2594</span></a><span class="sd">                            return_first = True)[0]</span>
</span><span id="L-2595"><a href="#L-2595"><span class="linenos">2595</span></a><span class="sd">                if order is None:</span>
</span><span id="L-2596"><a href="#L-2596"><span class="linenos">2596</span></a><span class="sd">                    return -2</span>
</span><span id="L-2597"><a href="#L-2597"><span class="linenos">2597</span></a><span class="sd">                order.deliver(value.arguments[1], value.arguments[2].number, time_step)</span>
</span><span id="L-2598"><a href="#L-2598"><span class="linenos">2598</span></a><span class="sd">                self._state = self._state | VIZ_STATE_DELIVERED</span>
</span><span id="L-2599"><a href="#L-2599"><span class="linenos">2599</span></a><span class="sd">            except:</span>
</span><span id="L-2600"><a href="#L-2600"><span class="linenos">2600</span></a><span class="sd">                return -3</span>
</span><span id="L-2601"><a href="#L-2601"><span class="linenos">2601</span></a><span class="sd">            return 4</span>
</span><span id="L-2602"><a href="#L-2602"><span class="linenos">2602</span></a>
</span><span id="L-2603"><a href="#L-2603"><span class="linenos">2603</span></a><span class="sd">        #deliver with 2 arguments</span>
</span><span id="L-2604"><a href="#L-2604"><span class="linenos">2604</span></a><span class="sd">        elif len(value.arguments) &gt; 1:</span>
</span><span id="L-2605"><a href="#L-2605"><span class="linenos">2605</span></a><span class="sd">            try:</span>
</span><span id="L-2606"><a href="#L-2606"><span class="linenos">2606</span></a><span class="sd">                if self._carries is not None:</span>
</span><span id="L-2607"><a href="#L-2607"><span class="linenos">2607</span></a><span class="sd">                    self._carries.remove_product(value.arguments[1], 0)</span>
</span><span id="L-2608"><a href="#L-2608"><span class="linenos">2608</span></a><span class="sd">                order = self._model.filter_items(item_kind = &#39;order&#39;, </span>
</span><span id="L-2609"><a href="#L-2609"><span class="linenos">2609</span></a><span class="sd">                            ID = value.arguments[0], </span>
</span><span id="L-2610"><a href="#L-2610"><span class="linenos">2610</span></a><span class="sd">                            return_first = True)[0]</span>
</span><span id="L-2611"><a href="#L-2611"><span class="linenos">2611</span></a><span class="sd">                if order is None:</span>
</span><span id="L-2612"><a href="#L-2612"><span class="linenos">2612</span></a><span class="sd">                    return -2</span>
</span><span id="L-2613"><a href="#L-2613"><span class="linenos">2613</span></a><span class="sd">                order.deliver(value.arguments[1], 0, time_step)</span>
</span><span id="L-2614"><a href="#L-2614"><span class="linenos">2614</span></a><span class="sd">                self._state = self._state | VIZ_STATE_DELIVERED</span>
</span><span id="L-2615"><a href="#L-2615"><span class="linenos">2615</span></a><span class="sd">            except:</span>
</span><span id="L-2616"><a href="#L-2616"><span class="linenos">2616</span></a><span class="sd">                return -3</span>
</span><span id="L-2617"><a href="#L-2617"><span class="linenos">2617</span></a><span class="sd">            return 5</span>
</span><span id="L-2618"><a href="#L-2618"><span class="linenos">2618</span></a><span class="sd">        return 0</span>
</span><span id="L-2619"><a href="#L-2619"><span class="linenos">2619</span></a>
</span><span id="L-2620"><a href="#L-2620"><span class="linenos">2620</span></a><span class="sd">    def _undo_deliver(self, action, value, time_step):</span>
</span><span id="L-2621"><a href="#L-2621"><span class="linenos">2621</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2622"><a href="#L-2622"><span class="linenos">2622</span></a><span class="sd">        Performs the given deliver action backwards.</span>
</span><span id="L-2623"><a href="#L-2623"><span class="linenos">2623</span></a>
</span><span id="L-2624"><a href="#L-2624"><span class="linenos">2624</span></a><span class="sd">        Parameters:</span>
</span><span id="L-2625"><a href="#L-2625"><span class="linenos">2625</span></a><span class="sd">        action: clingo.symbol.Symbol</span>
</span><span id="L-2626"><a href="#L-2626"><span class="linenos">2626</span></a><span class="sd">            This symbol contains the name of the action.</span>
</span><span id="L-2627"><a href="#L-2627"><span class="linenos">2627</span></a><span class="sd">        value: clingo.symbol.Symbol</span>
</span><span id="L-2628"><a href="#L-2628"><span class="linenos">2628</span></a><span class="sd">            This symbol contains the values of the</span>
</span><span id="L-2629"><a href="#L-2629"><span class="linenos">2629</span></a><span class="sd">            deliver action.</span>
</span><span id="L-2630"><a href="#L-2630"><span class="linenos">2630</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2631"><a href="#L-2631"><span class="linenos">2631</span></a>
</span><span id="L-2632"><a href="#L-2632"><span class="linenos">2632</span></a><span class="sd">        #deliver with 3 arguments</span>
</span><span id="L-2633"><a href="#L-2633"><span class="linenos">2633</span></a><span class="sd">        if len(value.arguments) &gt; 2:</span>
</span><span id="L-2634"><a href="#L-2634"><span class="linenos">2634</span></a><span class="sd">            try:</span>
</span><span id="L-2635"><a href="#L-2635"><span class="linenos">2635</span></a><span class="sd">                if self._carries is not None:</span>
</span><span id="L-2636"><a href="#L-2636"><span class="linenos">2636</span></a><span class="sd">                    self._carries.remove_product(value.arguments[1], -value.arguments[2].number)</span>
</span><span id="L-2637"><a href="#L-2637"><span class="linenos">2637</span></a><span class="sd">                order = self._model.filter_items(item_kind = &#39;order&#39;, </span>
</span><span id="L-2638"><a href="#L-2638"><span class="linenos">2638</span></a><span class="sd">                            ID = value.arguments[0], </span>
</span><span id="L-2639"><a href="#L-2639"><span class="linenos">2639</span></a><span class="sd">                            return_first = True)[0]</span>
</span><span id="L-2640"><a href="#L-2640"><span class="linenos">2640</span></a><span class="sd">                if order is None:</span>
</span><span id="L-2641"><a href="#L-2641"><span class="linenos">2641</span></a><span class="sd">                    return -2</span>
</span><span id="L-2642"><a href="#L-2642"><span class="linenos">2642</span></a><span class="sd">                order.deliver(value.arguments[1], -value.arguments[2].number, time_step)</span>
</span><span id="L-2643"><a href="#L-2643"><span class="linenos">2643</span></a><span class="sd">                self._state = self._state | VIZ_STATE_DELIVERED</span>
</span><span id="L-2644"><a href="#L-2644"><span class="linenos">2644</span></a><span class="sd">            except:</span>
</span><span id="L-2645"><a href="#L-2645"><span class="linenos">2645</span></a><span class="sd">                return -3</span>
</span><span id="L-2646"><a href="#L-2646"><span class="linenos">2646</span></a><span class="sd">            return 4</span>
</span><span id="L-2647"><a href="#L-2647"><span class="linenos">2647</span></a>
</span><span id="L-2648"><a href="#L-2648"><span class="linenos">2648</span></a><span class="sd">        #deliver with 2 arguments</span>
</span><span id="L-2649"><a href="#L-2649"><span class="linenos">2649</span></a><span class="sd">        elif len(value.arguments) &gt; 1:</span>
</span><span id="L-2650"><a href="#L-2650"><span class="linenos">2650</span></a><span class="sd">            try:</span>
</span><span id="L-2651"><a href="#L-2651"><span class="linenos">2651</span></a><span class="sd">                if self._carries is not None:</span>
</span><span id="L-2652"><a href="#L-2652"><span class="linenos">2652</span></a><span class="sd">                    self._carries.remove_product(value.arguments[1], 0)</span>
</span><span id="L-2653"><a href="#L-2653"><span class="linenos">2653</span></a><span class="sd">                order = self._model.filter_items(item_kind = &#39;order&#39;, </span>
</span><span id="L-2654"><a href="#L-2654"><span class="linenos">2654</span></a><span class="sd">                            ID = value.arguments[0], </span>
</span><span id="L-2655"><a href="#L-2655"><span class="linenos">2655</span></a><span class="sd">                            return_first = True)[0]</span>
</span><span id="L-2656"><a href="#L-2656"><span class="linenos">2656</span></a><span class="sd">                if order is None:</span>
</span><span id="L-2657"><a href="#L-2657"><span class="linenos">2657</span></a><span class="sd">                    return -2</span>
</span><span id="L-2658"><a href="#L-2658"><span class="linenos">2658</span></a><span class="sd">                order.deliver(value.arguments[1], 0, time_step)</span>
</span><span id="L-2659"><a href="#L-2659"><span class="linenos">2659</span></a><span class="sd">                self._state = self._state | VIZ_STATE_DELIVERED</span>
</span><span id="L-2660"><a href="#L-2660"><span class="linenos">2660</span></a><span class="sd">            except:</span>
</span><span id="L-2661"><a href="#L-2661"><span class="linenos">2661</span></a><span class="sd">                return -3</span>
</span><span id="L-2662"><a href="#L-2662"><span class="linenos">2662</span></a><span class="sd">            return 5</span>
</span><span id="L-2663"><a href="#L-2663"><span class="linenos">2663</span></a><span class="sd">        return 0</span>
</span><span id="L-2664"><a href="#L-2664"><span class="linenos">2664</span></a>
</span><span id="L-2665"><a href="#L-2665"><span class="linenos">2665</span></a><span class="sd">    def do_action(self, time_step):</span>
</span><span id="L-2666"><a href="#L-2666"><span class="linenos">2666</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2667"><a href="#L-2667"><span class="linenos">2667</span></a><span class="sd">        Performs the actions of the robot.</span>
</span><span id="L-2668"><a href="#L-2668"><span class="linenos">2668</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="L-2669"><a href="#L-2669"><span class="linenos">2669</span></a><span class="sd">        one time step forward.</span>
</span><span id="L-2670"><a href="#L-2670"><span class="linenos">2670</span></a><span class="sd">        Returns 0 if no action was done.</span>
</span><span id="L-2671"><a href="#L-2671"><span class="linenos">2671</span></a><span class="sd">        Returns a negative integer if an error occurred.</span>
</span><span id="L-2672"><a href="#L-2672"><span class="linenos">2672</span></a><span class="sd">        Returns a positive integer if an action was done.</span>
</span><span id="L-2673"><a href="#L-2673"><span class="linenos">2673</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2674"><a href="#L-2674"><span class="linenos">2674</span></a>
</span><span id="L-2675"><a href="#L-2675"><span class="linenos">2675</span></a><span class="sd">        self._state = self._state &amp; ~VIZ_STATE_ACTION</span>
</span><span id="L-2676"><a href="#L-2676"><span class="linenos">2676</span></a>
</span><span id="L-2677"><a href="#L-2677"><span class="linenos">2677</span></a><span class="sd">        #sets the state for the next action</span>
</span><span id="L-2678"><a href="#L-2678"><span class="linenos">2678</span></a><span class="sd">        if time_step + 1 &lt; len(self._actions):</span>
</span><span id="L-2679"><a href="#L-2679"><span class="linenos">2679</span></a><span class="sd">            if self._actions[time_step + 1] is not None:</span>
</span><span id="L-2680"><a href="#L-2680"><span class="linenos">2680</span></a><span class="sd">                action = self._actions[time_step + 1].arguments[0]</span>
</span><span id="L-2681"><a href="#L-2681"><span class="linenos">2681</span></a><span class="sd">                if action.name == &#39;move&#39;:</span>
</span><span id="L-2682"><a href="#L-2682"><span class="linenos">2682</span></a><span class="sd">                    self._state = self._state | VIZ_STATE_MOVE</span>
</span><span id="L-2683"><a href="#L-2683"><span class="linenos">2683</span></a><span class="sd">                elif action.name == &#39;deliver&#39;:</span>
</span><span id="L-2684"><a href="#L-2684"><span class="linenos">2684</span></a><span class="sd">                    self._state = self._state | VIZ_STATE_DELIVER</span>
</span><span id="L-2685"><a href="#L-2685"><span class="linenos">2685</span></a><span class="sd">                elif action.name == &#39;pickup&#39;:</span>
</span><span id="L-2686"><a href="#L-2686"><span class="linenos">2686</span></a><span class="sd">                    self._state = self._state | VIZ_STATE_PICK_UP</span>
</span><span id="L-2687"><a href="#L-2687"><span class="linenos">2687</span></a><span class="sd">                elif action.name == &#39;putdown&#39;:</span>
</span><span id="L-2688"><a href="#L-2688"><span class="linenos">2688</span></a><span class="sd">                    self._state = self._state | VIZ_STATE_PUT_DOWN2</span>
</span><span id="L-2689"><a href="#L-2689"><span class="linenos">2689</span></a><span class="sd">                elif action.name == &#39;charge&#39;:</span>
</span><span id="L-2690"><a href="#L-2690"><span class="linenos">2690</span></a><span class="sd">                    self._state = self._state | VIZ_STATE_CHARGE</span>
</span><span id="L-2691"><a href="#L-2691"><span class="linenos">2691</span></a>
</span><span id="L-2692"><a href="#L-2692"><span class="linenos">2692</span></a>
</span><span id="L-2693"><a href="#L-2693"><span class="linenos">2693</span></a><span class="sd">        if time_step &gt;= len(self._actions):</span>
</span><span id="L-2694"><a href="#L-2694"><span class="linenos">2694</span></a><span class="sd">            return 0  #break, if no action is defined</span>
</span><span id="L-2695"><a href="#L-2695"><span class="linenos">2695</span></a><span class="sd">        if self._actions[time_step] is None:</span>
</span><span id="L-2696"><a href="#L-2696"><span class="linenos">2696</span></a><span class="sd">            return 0  #break, if no action is defined</span>
</span><span id="L-2697"><a href="#L-2697"><span class="linenos">2697</span></a><span class="sd">        if self._model is None:</span>
</span><span id="L-2698"><a href="#L-2698"><span class="linenos">2698</span></a><span class="sd">            return -3</span>
</span><span id="L-2699"><a href="#L-2699"><span class="linenos">2699</span></a>
</span><span id="L-2700"><a href="#L-2700"><span class="linenos">2700</span></a><span class="sd">        try:</span>
</span><span id="L-2701"><a href="#L-2701"><span class="linenos">2701</span></a><span class="sd">            action = self._actions[time_step].arguments[0]</span>
</span><span id="L-2702"><a href="#L-2702"><span class="linenos">2702</span></a><span class="sd">            value = self._actions[time_step].arguments[1]</span>
</span><span id="L-2703"><a href="#L-2703"><span class="linenos">2703</span></a><span class="sd">        except:</span>
</span><span id="L-2704"><a href="#L-2704"><span class="linenos">2704</span></a><span class="sd">            return -1</span>
</span><span id="L-2705"><a href="#L-2705"><span class="linenos">2705</span></a>
</span><span id="L-2706"><a href="#L-2706"><span class="linenos">2706</span></a><span class="sd">        #energy cost</span>
</span><span id="L-2707"><a href="#L-2707"><span class="linenos">2707</span></a><span class="sd">        if str(action.name) in self._energy_costs:</span>
</span><span id="L-2708"><a href="#L-2708"><span class="linenos">2708</span></a><span class="sd">            try:</span>
</span><span id="L-2709"><a href="#L-2709"><span class="linenos">2709</span></a><span class="sd">                self.add_energy(-self._energy_costs[action.name])</span>
</span><span id="L-2710"><a href="#L-2710"><span class="linenos">2710</span></a><span class="sd">            except:</span>
</span><span id="L-2711"><a href="#L-2711"><span class="linenos">2711</span></a><span class="sd">                print(&quot;Energy cost is not an integer.&quot;)</span>
</span><span id="L-2712"><a href="#L-2712"><span class="linenos">2712</span></a><span class="sd">                self._energy_costs[action.name] = None</span>
</span><span id="L-2713"><a href="#L-2713"><span class="linenos">2713</span></a>
</span><span id="L-2714"><a href="#L-2714"><span class="linenos">2714</span></a><span class="sd">        #do actions</span>
</span><span id="L-2715"><a href="#L-2715"><span class="linenos">2715</span></a><span class="sd">        #do deliveries</span>
</span><span id="L-2716"><a href="#L-2716"><span class="linenos">2716</span></a><span class="sd">        if time_step in self._parallel_delivers:</span>
</span><span id="L-2717"><a href="#L-2717"><span class="linenos">2717</span></a><span class="sd">            for action2 in self._parallel_delivers[time_step]:</span>
</span><span id="L-2718"><a href="#L-2718"><span class="linenos">2718</span></a><span class="sd">                self._do_deliver(</span>
</span><span id="L-2719"><a href="#L-2719"><span class="linenos">2719</span></a><span class="sd">                    action2.arguments[0], </span>
</span><span id="L-2720"><a href="#L-2720"><span class="linenos">2720</span></a><span class="sd">                    action2.arguments[1], </span>
</span><span id="L-2721"><a href="#L-2721"><span class="linenos">2721</span></a><span class="sd">                    time_step)</span>
</span><span id="L-2722"><a href="#L-2722"><span class="linenos">2722</span></a>
</span><span id="L-2723"><a href="#L-2723"><span class="linenos">2723</span></a><span class="sd">        #move</span>
</span><span id="L-2724"><a href="#L-2724"><span class="linenos">2724</span></a><span class="sd">        if action.name == &#39;move&#39;:</span>
</span><span id="L-2725"><a href="#L-2725"><span class="linenos">2725</span></a><span class="sd">            if len(value.arguments) != 2: </span>
</span><span id="L-2726"><a href="#L-2726"><span class="linenos">2726</span></a><span class="sd">                return -1</span>
</span><span id="L-2727"><a href="#L-2727"><span class="linenos">2727</span></a><span class="sd">            try:</span>
</span><span id="L-2728"><a href="#L-2728"><span class="linenos">2728</span></a><span class="sd">                move_x = value.arguments[0].number</span>
</span><span id="L-2729"><a href="#L-2729"><span class="linenos">2729</span></a><span class="sd">                move_y = value.arguments[1].number</span>
</span><span id="L-2730"><a href="#L-2730"><span class="linenos">2730</span></a><span class="sd">                self.set_position(self._position[0] + move_x, self._position[1] + move_y)</span>
</span><span id="L-2731"><a href="#L-2731"><span class="linenos">2731</span></a><span class="sd">                self._state = self._state | VIZ_STATE_MOVED</span>
</span><span id="L-2732"><a href="#L-2732"><span class="linenos">2732</span></a><span class="sd">            except:</span>
</span><span id="L-2733"><a href="#L-2733"><span class="linenos">2733</span></a><span class="sd">                self.set_position(self._position[0], self._position[1])</span>
</span><span id="L-2734"><a href="#L-2734"><span class="linenos">2734</span></a>
</span><span id="L-2735"><a href="#L-2735"><span class="linenos">2735</span></a><span class="sd">            for task in self._tasks:</span>
</span><span id="L-2736"><a href="#L-2736"><span class="linenos">2736</span></a><span class="sd">                for checkpoint in task.get_checkpoints():</span>
</span><span id="L-2737"><a href="#L-2737"><span class="linenos">2737</span></a><span class="sd">                    checkpoint = checkpoint[0]</span>
</span><span id="L-2738"><a href="#L-2738"><span class="linenos">2738</span></a><span class="sd">                    pos = checkpoint.get_position()</span>
</span><span id="L-2739"><a href="#L-2739"><span class="linenos">2739</span></a><span class="sd">                    if pos[0] == self._position[0] and pos[1] == self._position[1]:</span>
</span><span id="L-2740"><a href="#L-2740"><span class="linenos">2740</span></a><span class="sd">                        task.visit_checkpoint(checkpoint)</span>
</span><span id="L-2741"><a href="#L-2741"><span class="linenos">2741</span></a><span class="sd">                        break</span>
</span><span id="L-2742"><a href="#L-2742"><span class="linenos">2742</span></a><span class="sd">            return 1</span>
</span><span id="L-2743"><a href="#L-2743"><span class="linenos">2743</span></a>
</span><span id="L-2744"><a href="#L-2744"><span class="linenos">2744</span></a><span class="sd">        #pick up</span>
</span><span id="L-2745"><a href="#L-2745"><span class="linenos">2745</span></a><span class="sd">        elif action.name == &#39;pickup&#39;:</span>
</span><span id="L-2746"><a href="#L-2746"><span class="linenos">2746</span></a><span class="sd">            shelf = self._model.filter_items(item_kind = &#39;shelf&#39;,</span>
</span><span id="L-2747"><a href="#L-2747"><span class="linenos">2747</span></a><span class="sd">                        position = self._position,</span>
</span><span id="L-2748"><a href="#L-2748"><span class="linenos">2748</span></a><span class="sd">                        return_first = True)[0]</span>
</span><span id="L-2749"><a href="#L-2749"><span class="linenos">2749</span></a><span class="sd">            if shelf is None:</span>
</span><span id="L-2750"><a href="#L-2750"><span class="linenos">2750</span></a><span class="sd">                return -2</span>
</span><span id="L-2751"><a href="#L-2751"><span class="linenos">2751</span></a><span class="sd">            self.set_carries(shelf)</span>
</span><span id="L-2752"><a href="#L-2752"><span class="linenos">2752</span></a><span class="sd">            self._state = self._state | VIZ_STATE_PICKED_UP</span>
</span><span id="L-2753"><a href="#L-2753"><span class="linenos">2753</span></a><span class="sd">            return 2</span>
</span><span id="L-2754"><a href="#L-2754"><span class="linenos">2754</span></a>
</span><span id="L-2755"><a href="#L-2755"><span class="linenos">2755</span></a><span class="sd">        #put down</span>
</span><span id="L-2756"><a href="#L-2756"><span class="linenos">2756</span></a><span class="sd">        elif action.name == &#39;putdown&#39;:</span>
</span><span id="L-2757"><a href="#L-2757"><span class="linenos">2757</span></a><span class="sd">            if self._carries == None:</span>
</span><span id="L-2758"><a href="#L-2758"><span class="linenos">2758</span></a><span class="sd">                return -2</span>
</span><span id="L-2759"><a href="#L-2759"><span class="linenos">2759</span></a><span class="sd">            self.set_carries(None)</span>
</span><span id="L-2760"><a href="#L-2760"><span class="linenos">2760</span></a><span class="sd">            self._state = self._state | VIZ_STATE_PUT_DOWN</span>
</span><span id="L-2761"><a href="#L-2761"><span class="linenos">2761</span></a><span class="sd">            return 3</span>
</span><span id="L-2762"><a href="#L-2762"><span class="linenos">2762</span></a>
</span><span id="L-2763"><a href="#L-2763"><span class="linenos">2763</span></a><span class="sd">        #deliver</span>
</span><span id="L-2764"><a href="#L-2764"><span class="linenos">2764</span></a><span class="sd">        elif action.name == &#39;deliver&#39;:</span>
</span><span id="L-2765"><a href="#L-2765"><span class="linenos">2765</span></a><span class="sd">            self._do_deliver(action, value, time_step)</span>
</span><span id="L-2766"><a href="#L-2766"><span class="linenos">2766</span></a><span class="sd">            return 4</span>
</span><span id="L-2767"><a href="#L-2767"><span class="linenos">2767</span></a>
</span><span id="L-2768"><a href="#L-2768"><span class="linenos">2768</span></a><span class="sd">        #charge</span>
</span><span id="L-2769"><a href="#L-2769"><span class="linenos">2769</span></a><span class="sd">        elif action.name == &#39;charge&#39;:</span>
</span><span id="L-2770"><a href="#L-2770"><span class="linenos">2770</span></a><span class="sd">            try:</span>
</span><span id="L-2771"><a href="#L-2771"><span class="linenos">2771</span></a><span class="sd">                self.add_energy(value.number)</span>
</span><span id="L-2772"><a href="#L-2772"><span class="linenos">2772</span></a><span class="sd">            except:</span>
</span><span id="L-2773"><a href="#L-2773"><span class="linenos">2773</span></a><span class="sd">                return -4</span>
</span><span id="L-2774"><a href="#L-2774"><span class="linenos">2774</span></a><span class="sd">            return 6</span>
</span><span id="L-2775"><a href="#L-2775"><span class="linenos">2775</span></a><span class="sd">        return 0</span>
</span><span id="L-2776"><a href="#L-2776"><span class="linenos">2776</span></a>
</span><span id="L-2777"><a href="#L-2777"><span class="linenos">2777</span></a><span class="sd">    def undo_action(self, time_step):</span>
</span><span id="L-2778"><a href="#L-2778"><span class="linenos">2778</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2779"><a href="#L-2779"><span class="linenos">2779</span></a><span class="sd">        Performs the actions of the robot.</span>
</span><span id="L-2780"><a href="#L-2780"><span class="linenos">2780</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="L-2781"><a href="#L-2781"><span class="linenos">2781</span></a><span class="sd">        one time step backwards.</span>
</span><span id="L-2782"><a href="#L-2782"><span class="linenos">2782</span></a><span class="sd">        Returns 0 if no action was done.</span>
</span><span id="L-2783"><a href="#L-2783"><span class="linenos">2783</span></a><span class="sd">        Returns a negative integer if an error occurred.</span>
</span><span id="L-2784"><a href="#L-2784"><span class="linenos">2784</span></a><span class="sd">        Returns a positive integer if an action was done.</span>
</span><span id="L-2785"><a href="#L-2785"><span class="linenos">2785</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2786"><a href="#L-2786"><span class="linenos">2786</span></a>
</span><span id="L-2787"><a href="#L-2787"><span class="linenos">2787</span></a><span class="sd">        self._state = self._state &amp; ~VIZ_STATE_ACTION</span>
</span><span id="L-2788"><a href="#L-2788"><span class="linenos">2788</span></a><span class="sd">        if time_step &gt;= len(self._actions):  </span>
</span><span id="L-2789"><a href="#L-2789"><span class="linenos">2789</span></a><span class="sd">            return 0  #break, if no action is defined</span>
</span><span id="L-2790"><a href="#L-2790"><span class="linenos">2790</span></a><span class="sd">        if self._actions[time_step] == None: </span>
</span><span id="L-2791"><a href="#L-2791"><span class="linenos">2791</span></a><span class="sd">            return 0  #break, if no action is defined</span>
</span><span id="L-2792"><a href="#L-2792"><span class="linenos">2792</span></a><span class="sd">        if self._model is None:</span>
</span><span id="L-2793"><a href="#L-2793"><span class="linenos">2793</span></a><span class="sd">            return -3</span>
</span><span id="L-2794"><a href="#L-2794"><span class="linenos">2794</span></a>
</span><span id="L-2795"><a href="#L-2795"><span class="linenos">2795</span></a><span class="sd">        try:</span>
</span><span id="L-2796"><a href="#L-2796"><span class="linenos">2796</span></a><span class="sd">            action = self._actions[time_step].arguments[0]</span>
</span><span id="L-2797"><a href="#L-2797"><span class="linenos">2797</span></a><span class="sd">            value = self._actions[time_step].arguments[1]</span>
</span><span id="L-2798"><a href="#L-2798"><span class="linenos">2798</span></a><span class="sd">        except:</span>
</span><span id="L-2799"><a href="#L-2799"><span class="linenos">2799</span></a><span class="sd">            return -1</span>
</span><span id="L-2800"><a href="#L-2800"><span class="linenos">2800</span></a>
</span><span id="L-2801"><a href="#L-2801"><span class="linenos">2801</span></a><span class="sd">        #energy cost</span>
</span><span id="L-2802"><a href="#L-2802"><span class="linenos">2802</span></a><span class="sd">        if action.name in self._energy_costs:</span>
</span><span id="L-2803"><a href="#L-2803"><span class="linenos">2803</span></a><span class="sd">            try:</span>
</span><span id="L-2804"><a href="#L-2804"><span class="linenos">2804</span></a><span class="sd">                self.add_energy(self._energy_costs[action.name])</span>
</span><span id="L-2805"><a href="#L-2805"><span class="linenos">2805</span></a><span class="sd">            except:</span>
</span><span id="L-2806"><a href="#L-2806"><span class="linenos">2806</span></a><span class="sd">                print(&quot;Energy cost is not an integer.&quot;)</span>
</span><span id="L-2807"><a href="#L-2807"><span class="linenos">2807</span></a><span class="sd">                self._energy_costs[action.name] = None</span>
</span><span id="L-2808"><a href="#L-2808"><span class="linenos">2808</span></a>
</span><span id="L-2809"><a href="#L-2809"><span class="linenos">2809</span></a><span class="sd">        #undo actions</span>
</span><span id="L-2810"><a href="#L-2810"><span class="linenos">2810</span></a><span class="sd">        #undo deliveries</span>
</span><span id="L-2811"><a href="#L-2811"><span class="linenos">2811</span></a><span class="sd">        if time_step in self._parallel_delivers:</span>
</span><span id="L-2812"><a href="#L-2812"><span class="linenos">2812</span></a><span class="sd">            for action2 in self._parallel_delivers[time_step]:</span>
</span><span id="L-2813"><a href="#L-2813"><span class="linenos">2813</span></a><span class="sd">                self._undo_deliver(</span>
</span><span id="L-2814"><a href="#L-2814"><span class="linenos">2814</span></a><span class="sd">                    action2.arguments[0], </span>
</span><span id="L-2815"><a href="#L-2815"><span class="linenos">2815</span></a><span class="sd">                    action2.arguments[1], </span>
</span><span id="L-2816"><a href="#L-2816"><span class="linenos">2816</span></a><span class="sd">                    time_step)</span>
</span><span id="L-2817"><a href="#L-2817"><span class="linenos">2817</span></a>
</span><span id="L-2818"><a href="#L-2818"><span class="linenos">2818</span></a><span class="sd">        #move</span>
</span><span id="L-2819"><a href="#L-2819"><span class="linenos">2819</span></a><span class="sd">        if action.name == &#39;move&#39;:</span>
</span><span id="L-2820"><a href="#L-2820"><span class="linenos">2820</span></a><span class="sd">            if len(value.arguments) != 2: </span>
</span><span id="L-2821"><a href="#L-2821"><span class="linenos">2821</span></a><span class="sd">                return -1</span>
</span><span id="L-2822"><a href="#L-2822"><span class="linenos">2822</span></a>
</span><span id="L-2823"><a href="#L-2823"><span class="linenos">2823</span></a><span class="sd">            for task in self._tasks:</span>
</span><span id="L-2824"><a href="#L-2824"><span class="linenos">2824</span></a><span class="sd">                for checkpoint in task.get_checkpoints():</span>
</span><span id="L-2825"><a href="#L-2825"><span class="linenos">2825</span></a><span class="sd">                    checkpoint = checkpoint[0]</span>
</span><span id="L-2826"><a href="#L-2826"><span class="linenos">2826</span></a><span class="sd">                    pos = checkpoint.get_position()</span>
</span><span id="L-2827"><a href="#L-2827"><span class="linenos">2827</span></a><span class="sd">                    if pos[0] == self._position[0] and pos[1] == self._position[1]:</span>
</span><span id="L-2828"><a href="#L-2828"><span class="linenos">2828</span></a><span class="sd">                        task.unvisit_checkpoint(checkpoint)</span>
</span><span id="L-2829"><a href="#L-2829"><span class="linenos">2829</span></a><span class="sd">                        break</span>
</span><span id="L-2830"><a href="#L-2830"><span class="linenos">2830</span></a>
</span><span id="L-2831"><a href="#L-2831"><span class="linenos">2831</span></a><span class="sd">            try:</span>
</span><span id="L-2832"><a href="#L-2832"><span class="linenos">2832</span></a><span class="sd">                move_x = value.arguments[0].number</span>
</span><span id="L-2833"><a href="#L-2833"><span class="linenos">2833</span></a><span class="sd">                move_y = value.arguments[1].number</span>
</span><span id="L-2834"><a href="#L-2834"><span class="linenos">2834</span></a><span class="sd">                self.set_position(self._position[0] - move_x, self._position[1] - move_y)</span>
</span><span id="L-2835"><a href="#L-2835"><span class="linenos">2835</span></a><span class="sd">                self._state = self._state | VIZ_STATE_MOVE</span>
</span><span id="L-2836"><a href="#L-2836"><span class="linenos">2836</span></a><span class="sd">            except:</span>
</span><span id="L-2837"><a href="#L-2837"><span class="linenos">2837</span></a><span class="sd">                self.set_position(self._position[0], self._position[1])</span>
</span><span id="L-2838"><a href="#L-2838"><span class="linenos">2838</span></a><span class="sd">            if self._carries is not None: </span>
</span><span id="L-2839"><a href="#L-2839"><span class="linenos">2839</span></a><span class="sd">                self._carries.set_position(self._position[0], self._position[1])</span>
</span><span id="L-2840"><a href="#L-2840"><span class="linenos">2840</span></a><span class="sd">            return 1</span>
</span><span id="L-2841"><a href="#L-2841"><span class="linenos">2841</span></a>
</span><span id="L-2842"><a href="#L-2842"><span class="linenos">2842</span></a><span class="sd">        #put down</span>
</span><span id="L-2843"><a href="#L-2843"><span class="linenos">2843</span></a><span class="sd">        elif action.name == &#39;putdown&#39;:</span>
</span><span id="L-2844"><a href="#L-2844"><span class="linenos">2844</span></a><span class="sd">            shelf = self._model.filter_items(item_kind = &#39;shelf&#39;,</span>
</span><span id="L-2845"><a href="#L-2845"><span class="linenos">2845</span></a><span class="sd">                        position = self._position,</span>
</span><span id="L-2846"><a href="#L-2846"><span class="linenos">2846</span></a><span class="sd">                        return_first = True)[0]</span>
</span><span id="L-2847"><a href="#L-2847"><span class="linenos">2847</span></a><span class="sd">            if shelf is None:</span>
</span><span id="L-2848"><a href="#L-2848"><span class="linenos">2848</span></a><span class="sd">                return -2</span>
</span><span id="L-2849"><a href="#L-2849"><span class="linenos">2849</span></a><span class="sd">            self.set_carries(shelf)</span>
</span><span id="L-2850"><a href="#L-2850"><span class="linenos">2850</span></a><span class="sd">            self._state = self._state | VIZ_STATE_PUT_DOWN2</span>
</span><span id="L-2851"><a href="#L-2851"><span class="linenos">2851</span></a><span class="sd">            return 3</span>
</span><span id="L-2852"><a href="#L-2852"><span class="linenos">2852</span></a>
</span><span id="L-2853"><a href="#L-2853"><span class="linenos">2853</span></a><span class="sd">        #pick up</span>
</span><span id="L-2854"><a href="#L-2854"><span class="linenos">2854</span></a><span class="sd">        elif action.name == &#39;pickup&#39;:</span>
</span><span id="L-2855"><a href="#L-2855"><span class="linenos">2855</span></a><span class="sd">            if self._carries == None:</span>
</span><span id="L-2856"><a href="#L-2856"><span class="linenos">2856</span></a><span class="sd">                return -2</span>
</span><span id="L-2857"><a href="#L-2857"><span class="linenos">2857</span></a><span class="sd">            self.set_carries(None)</span>
</span><span id="L-2858"><a href="#L-2858"><span class="linenos">2858</span></a><span class="sd">            self._state = self._state | VIZ_STATE_PICK_UP</span>
</span><span id="L-2859"><a href="#L-2859"><span class="linenos">2859</span></a><span class="sd">            return 2</span>
</span><span id="L-2860"><a href="#L-2860"><span class="linenos">2860</span></a>
</span><span id="L-2861"><a href="#L-2861"><span class="linenos">2861</span></a><span class="sd">        #deliver</span>
</span><span id="L-2862"><a href="#L-2862"><span class="linenos">2862</span></a><span class="sd">        elif action.name == &#39;deliver&#39;:</span>
</span><span id="L-2863"><a href="#L-2863"><span class="linenos">2863</span></a><span class="sd">            self._undo_deliver(action, value, time_step)</span>
</span><span id="L-2864"><a href="#L-2864"><span class="linenos">2864</span></a><span class="sd">            return 4</span>
</span><span id="L-2865"><a href="#L-2865"><span class="linenos">2865</span></a><span class="sd">            </span>
</span><span id="L-2866"><a href="#L-2866"><span class="linenos">2866</span></a>
</span><span id="L-2867"><a href="#L-2867"><span class="linenos">2867</span></a><span class="sd">        #charge</span>
</span><span id="L-2868"><a href="#L-2868"><span class="linenos">2868</span></a><span class="sd">        elif action.name == &#39;charge&#39;:</span>
</span><span id="L-2869"><a href="#L-2869"><span class="linenos">2869</span></a><span class="sd">            try:</span>
</span><span id="L-2870"><a href="#L-2870"><span class="linenos">2870</span></a><span class="sd">                self.add_energy(-value.number)</span>
</span><span id="L-2871"><a href="#L-2871"><span class="linenos">2871</span></a><span class="sd">            except:</span>
</span><span id="L-2872"><a href="#L-2872"><span class="linenos">2872</span></a><span class="sd">                return -4</span>
</span><span id="L-2873"><a href="#L-2873"><span class="linenos">2873</span></a><span class="sd">            return 6</span>
</span><span id="L-2874"><a href="#L-2874"><span class="linenos">2874</span></a><span class="sd">        return 0</span>
</span><span id="L-2875"><a href="#L-2875"><span class="linenos">2875</span></a>
</span><span id="L-2876"><a href="#L-2876"><span class="linenos">2876</span></a><span class="sd">    </span>
</span><span id="L-2877"><a href="#L-2877"><span class="linenos">2877</span></a><span class="sd">    def determine_color(self, number, count, pattern = None):</span>
</span><span id="L-2878"><a href="#L-2878"><span class="linenos">2878</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2879"><a href="#L-2879"><span class="linenos">2879</span></a><span class="sd">        Determines the color of the robot.</span>
</span><span id="L-2880"><a href="#L-2880"><span class="linenos">2880</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2881"><a href="#L-2881"><span class="linenos">2881</span></a>
</span><span id="L-2882"><a href="#L-2882"><span class="linenos">2882</span></a><span class="sd">        color = calculate_color(self._colors[0], self._colors[1], (float)(number)/count)</span>
</span><span id="L-2883"><a href="#L-2883"><span class="linenos">2883</span></a><span class="sd">        self._color = color</span>
</span><span id="L-2884"><a href="#L-2884"><span class="linenos">2884</span></a><span class="sd">        brush = QBrush(color)</span>
</span><span id="L-2885"><a href="#L-2885"><span class="linenos">2885</span></a><span class="sd">        self._graphics_item.setBrush(brush)</span>
</span><span id="L-2886"><a href="#L-2886"><span class="linenos">2886</span></a>
</span><span id="L-2887"><a href="#L-2887"><span class="linenos">2887</span></a><span class="sd">    def get_rect(self):</span>
</span><span id="L-2888"><a href="#L-2888"><span class="linenos">2888</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2889"><a href="#L-2889"><span class="linenos">2889</span></a><span class="sd">        Returns the current rectangle of the robot.</span>
</span><span id="L-2890"><a href="#L-2890"><span class="linenos">2890</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2891"><a href="#L-2891"><span class="linenos">2891</span></a>
</span><span id="L-2892"><a href="#L-2892"><span class="linenos">2892</span></a><span class="sd">        if self._display_mode == 0:</span>
</span><span id="L-2893"><a href="#L-2893"><span class="linenos">2893</span></a><span class="sd">            rect = self._graphics_item.rect()</span>
</span><span id="L-2894"><a href="#L-2894"><span class="linenos">2894</span></a><span class="sd">            width = rect.width()*2</span>
</span><span id="L-2895"><a href="#L-2895"><span class="linenos">2895</span></a><span class="sd">            height = rect.height()*2</span>
</span><span id="L-2896"><a href="#L-2896"><span class="linenos">2896</span></a><span class="sd">            rect.setLeft(rect.x() - 0.25*width)</span>
</span><span id="L-2897"><a href="#L-2897"><span class="linenos">2897</span></a><span class="sd">            rect.setTop(rect.y() - 0.25*height)</span>
</span><span id="L-2898"><a href="#L-2898"><span class="linenos">2898</span></a><span class="sd">            rect.setWidth(width)</span>
</span><span id="L-2899"><a href="#L-2899"><span class="linenos">2899</span></a><span class="sd">            rect.setHeight(height)</span>
</span><span id="L-2900"><a href="#L-2900"><span class="linenos">2900</span></a><span class="sd">            return rect</span>
</span><span id="L-2901"><a href="#L-2901"><span class="linenos">2901</span></a><span class="sd">        elif self._display_mode == 1:</span>
</span><span id="L-2902"><a href="#L-2902"><span class="linenos">2902</span></a><span class="sd">            rect = self._graphics_item.rect()</span>
</span><span id="L-2903"><a href="#L-2903"><span class="linenos">2903</span></a><span class="sd">            width = rect.width()/0.9</span>
</span><span id="L-2904"><a href="#L-2904"><span class="linenos">2904</span></a><span class="sd">            height = rect.height()/0.9</span>
</span><span id="L-2905"><a href="#L-2905"><span class="linenos">2905</span></a><span class="sd">            rect.setLeft(rect.x() - 0.05*width)</span>
</span><span id="L-2906"><a href="#L-2906"><span class="linenos">2906</span></a><span class="sd">            rect.setTop(rect.y() - 0.05*height)</span>
</span><span id="L-2907"><a href="#L-2907"><span class="linenos">2907</span></a><span class="sd">            rect.setWidth(width)</span>
</span><span id="L-2908"><a href="#L-2908"><span class="linenos">2908</span></a><span class="sd">            rect.setHeight(height)</span>
</span><span id="L-2909"><a href="#L-2909"><span class="linenos">2909</span></a><span class="sd">            return rect</span>
</span><span id="L-2910"><a href="#L-2910"><span class="linenos">2910</span></a>
</span><span id="L-2911"><a href="#L-2911"><span class="linenos">2911</span></a><span class="sd">    def get_carries(self):</span>
</span><span id="L-2912"><a href="#L-2912"><span class="linenos">2912</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2913"><a href="#L-2913"><span class="linenos">2913</span></a><span class="sd">        Returns the shelf that is carried by this robot.</span>
</span><span id="L-2914"><a href="#L-2914"><span class="linenos">2914</span></a><span class="sd">        This value can be None.</span>
</span><span id="L-2915"><a href="#L-2915"><span class="linenos">2915</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2916"><a href="#L-2916"><span class="linenos">2916</span></a>
</span><span id="L-2917"><a href="#L-2917"><span class="linenos">2917</span></a><span class="sd">        return self._carries</span>
</span><span id="L-2918"><a href="#L-2918"><span class="linenos">2918</span></a>
</span><span id="L-2919"><a href="#L-2919"><span class="linenos">2919</span></a><span class="sd">    def get_initial_carries(self):</span>
</span><span id="L-2920"><a href="#L-2920"><span class="linenos">2920</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2921"><a href="#L-2921"><span class="linenos">2921</span></a><span class="sd">        Returns the shelf that is carried by this robot at</span>
</span><span id="L-2922"><a href="#L-2922"><span class="linenos">2922</span></a><span class="sd">        time step 0. This value can be None.</span>
</span><span id="L-2923"><a href="#L-2923"><span class="linenos">2923</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2924"><a href="#L-2924"><span class="linenos">2924</span></a>
</span><span id="L-2925"><a href="#L-2925"><span class="linenos">2925</span></a><span class="sd">        return self._initial_carries</span>
</span><span id="L-2926"><a href="#L-2926"><span class="linenos">2926</span></a>
</span><span id="L-2927"><a href="#L-2927"><span class="linenos">2927</span></a><span class="sd">    def edit_position_to(self, x, y):</span>
</span><span id="L-2928"><a href="#L-2928"><span class="linenos">2928</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2929"><a href="#L-2929"><span class="linenos">2929</span></a><span class="sd">        Sets a new starting position and new current position for the </span>
</span><span id="L-2930"><a href="#L-2930"><span class="linenos">2930</span></a><span class="sd">        robot. If another robot is already on the same position</span>
</span><span id="L-2931"><a href="#L-2931"><span class="linenos">2931</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="L-2932"><a href="#L-2932"><span class="linenos">2932</span></a><span class="sd">        the drag and drop feature. If on the destination node is a</span>
</span><span id="L-2933"><a href="#L-2933"><span class="linenos">2933</span></a><span class="sd">        carried shelf or this robot carries a shelf and the destination</span>
</span><span id="L-2934"><a href="#L-2934"><span class="linenos">2934</span></a><span class="sd">        node is occupied by another shelf the shelfs switch places as well.</span>
</span><span id="L-2935"><a href="#L-2935"><span class="linenos">2935</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2936"><a href="#L-2936"><span class="linenos">2936</span></a>
</span><span id="L-2937"><a href="#L-2937"><span class="linenos">2937</span></a><span class="sd">        if (x, y) == self._position:</span>
</span><span id="L-2938"><a href="#L-2938"><span class="linenos">2938</span></a><span class="sd">            return</span>
</span><span id="L-2939"><a href="#L-2939"><span class="linenos">2939</span></a><span class="sd">        item2 = self._model.filter_items(item_kind = self._kind_name,</span>
</span><span id="L-2940"><a href="#L-2940"><span class="linenos">2940</span></a><span class="sd">                                        position = (x,y),</span>
</span><span id="L-2941"><a href="#L-2941"><span class="linenos">2941</span></a><span class="sd">                                        return_first = True)[0]</span>
</span><span id="L-2942"><a href="#L-2942"><span class="linenos">2942</span></a><span class="sd">        shelf = self._model.filter_items(&#39;shelf&#39;,</span>
</span><span id="L-2943"><a href="#L-2943"><span class="linenos">2943</span></a><span class="sd">                                        position = self._position,</span>
</span><span id="L-2944"><a href="#L-2944"><span class="linenos">2944</span></a><span class="sd">                                        return_first = True)[0]</span>
</span><span id="L-2945"><a href="#L-2945"><span class="linenos">2945</span></a><span class="sd">        shelf2 = self._model.filter_items(&#39;shelf&#39;,</span>
</span><span id="L-2946"><a href="#L-2946"><span class="linenos">2946</span></a><span class="sd">                                        position = (x,y),</span>
</span><span id="L-2947"><a href="#L-2947"><span class="linenos">2947</span></a><span class="sd">                                        return_first = True)[0]</span>
</span><span id="L-2948"><a href="#L-2948"><span class="linenos">2948</span></a>
</span><span id="L-2949"><a href="#L-2949"><span class="linenos">2949</span></a><span class="sd">        if shelf2 is not None and shelf is not None:</span>
</span><span id="L-2950"><a href="#L-2950"><span class="linenos">2950</span></a><span class="sd">            if shelf.get_carried() is not None or shelf2.get_carried() is not None:</span>
</span><span id="L-2951"><a href="#L-2951"><span class="linenos">2951</span></a><span class="sd">                shelf.set_position(x,y)</span>
</span><span id="L-2952"><a href="#L-2952"><span class="linenos">2952</span></a><span class="sd">                shelf.set_starting_position(x,y)</span>
</span><span id="L-2953"><a href="#L-2953"><span class="linenos">2953</span></a><span class="sd">                shelf2.set_position(self._position[0], self._position[1])</span>
</span><span id="L-2954"><a href="#L-2954"><span class="linenos">2954</span></a><span class="sd">                shelf2.set_starting_position(self._position, self._position[1])</span>
</span><span id="L-2955"><a href="#L-2955"><span class="linenos">2955</span></a><span class="sd">        if item2 is not None:</span>
</span><span id="L-2956"><a href="#L-2956"><span class="linenos">2956</span></a><span class="sd">            item2.set_position(self._position[0], self._position[1])</span>
</span><span id="L-2957"><a href="#L-2957"><span class="linenos">2957</span></a><span class="sd">            item2.set_starting_position(self._position[0], self._position[1])</span>
</span><span id="L-2958"><a href="#L-2958"><span class="linenos">2958</span></a><span class="sd">        self.set_position(x,y)</span>
</span><span id="L-2959"><a href="#L-2959"><span class="linenos">2959</span></a><span class="sd">        self.set_starting_position(x, y)</span>
</span><span id="L-2960"><a href="#L-2960"><span class="linenos">2960</span></a>
</span><span id="L-2961"><a href="#L-2961"><span class="linenos">2961</span></a><span class="sd">    def get_current_energy(self):</span>
</span><span id="L-2962"><a href="#L-2962"><span class="linenos">2962</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2963"><a href="#L-2963"><span class="linenos">2963</span></a><span class="sd">        Returns the current energy of the robot.</span>
</span><span id="L-2964"><a href="#L-2964"><span class="linenos">2964</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2965"><a href="#L-2965"><span class="linenos">2965</span></a>
</span><span id="L-2966"><a href="#L-2966"><span class="linenos">2966</span></a><span class="sd">        return self._current_energy</span>
</span><span id="L-2967"><a href="#L-2967"><span class="linenos">2967</span></a>
</span><span id="L-2968"><a href="#L-2968"><span class="linenos">2968</span></a><span class="sd">    def get_max_energy(self):</span>
</span><span id="L-2969"><a href="#L-2969"><span class="linenos">2969</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2970"><a href="#L-2970"><span class="linenos">2970</span></a><span class="sd">        Returns the maximal energy of the robot.</span>
</span><span id="L-2971"><a href="#L-2971"><span class="linenos">2971</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2972"><a href="#L-2972"><span class="linenos">2972</span></a>
</span><span id="L-2973"><a href="#L-2973"><span class="linenos">2973</span></a><span class="sd">        return self._max_energy</span>
</span><span id="L-2974"><a href="#L-2974"><span class="linenos">2974</span></a>
</span><span id="L-2975"><a href="#L-2975"><span class="linenos">2975</span></a><span class="sd">&#39;&#39;&#39;</span>
</span></pre></div>


            </section>
                <section id="VIZ_STATE_MOVED">
                    <div class="attr variable">
            <span class="name">VIZ_STATE_MOVED</span>        =
<span class="default_value">1</span>

        
    </div>
    <a class="headerlink" href="#VIZ_STATE_MOVED"></a>
    
    

                </section>
                <section id="VIZ_STATE_MOVE">
                    <div class="attr variable">
            <span class="name">VIZ_STATE_MOVE</span>        =
<span class="default_value">16</span>

        
    </div>
    <a class="headerlink" href="#VIZ_STATE_MOVE"></a>
    
    

                </section>
                <section id="VIZ_STATE_ACTION">
                    <div class="attr variable">
            <span class="name">VIZ_STATE_ACTION</span>        =
<span class="default_value">65535</span>

        
    </div>
    <a class="headerlink" href="#VIZ_STATE_ACTION"></a>
    
    

                </section>
                <section id="calculate_color">
                            <input id="calculate_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">calculate_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">first_color</span>, </span><span class="param"><span class="n">second_color</span>, </span><span class="param"><span class="n">multiplier</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="calculate_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#calculate_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="calculate_color-51"><a href="#calculate_color-51"><span class="linenos">51</span></a><span class="k">def</span> <span class="nf">calculate_color</span><span class="p">(</span><span class="n">first_color</span><span class="p">,</span> <span class="n">second_color</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
</span><span id="calculate_color-52"><a href="#calculate_color-52"><span class="linenos">52</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="calculate_color-53"><a href="#calculate_color-53"><span class="linenos">53</span></a><span class="sd">    This function interpolates between two color values.</span>
</span><span id="calculate_color-54"><a href="#calculate_color-54"><span class="linenos">54</span></a>
</span><span id="calculate_color-55"><a href="#calculate_color-55"><span class="linenos">55</span></a><span class="sd">    :return: QtGui.QColor()</span>
</span><span id="calculate_color-56"><a href="#calculate_color-56"><span class="linenos">56</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="calculate_color-57"><a href="#calculate_color-57"><span class="linenos">57</span></a>
</span><span id="calculate_color-58"><a href="#calculate_color-58"><span class="linenos">58</span></a>    <span class="n">red</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">red</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">red</span><span class="p">()),</span> 
</span><span id="calculate_color-59"><a href="#calculate_color-59"><span class="linenos">59</span></a>            <span class="nb">max</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">red</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">red</span><span class="p">()))</span>
</span><span id="calculate_color-60"><a href="#calculate_color-60"><span class="linenos">60</span></a>    <span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">green</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">green</span><span class="p">()),</span> 
</span><span id="calculate_color-61"><a href="#calculate_color-61"><span class="linenos">61</span></a>            <span class="nb">max</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">green</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">green</span><span class="p">()))</span>
</span><span id="calculate_color-62"><a href="#calculate_color-62"><span class="linenos">62</span></a>    <span class="n">blue</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">blue</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">blue</span><span class="p">()),</span> 
</span><span id="calculate_color-63"><a href="#calculate_color-63"><span class="linenos">63</span></a>            <span class="nb">max</span><span class="p">(</span><span class="n">first_color</span><span class="o">.</span><span class="n">blue</span><span class="p">(),</span> <span class="n">second_color</span><span class="o">.</span><span class="n">blue</span><span class="p">()))</span>
</span><span id="calculate_color-64"><a href="#calculate_color-64"><span class="linenos">64</span></a>    <span class="k">return</span> <span class="n">QColor</span><span class="p">(</span>
</span><span id="calculate_color-65"><a href="#calculate_color-65"><span class="linenos">65</span></a>                <span class="n">red</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">red</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">red</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">,</span>
</span><span id="calculate_color-66"><a href="#calculate_color-66"><span class="linenos">66</span></a>                <span class="n">green</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">green</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">green</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">,</span>
</span><span id="calculate_color-67"><a href="#calculate_color-67"><span class="linenos">67</span></a>                <span class="n">blue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">blue</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">blue</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This function interpolates between two color values.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>QtGui.QColor()</p>
</blockquote>
</div>


                </section>
                <section id="VisualizerGraphicItem">
                            <input id="VisualizerGraphicItem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">VisualizerGraphicItem</span><wbr>(<span class="base">PyQt5.QtWidgets.QGraphicsItem</span>, <span class="base"><a href="visualizerItem.html#VisualizerItem">mapf_simulation.visualizerItem.VisualizerItem</a></span>):

                <label class="view-source-button" for="VisualizerGraphicItem-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem-70"><a href="#VisualizerGraphicItem-70"><span class="linenos"> 70</span></a><span class="k">class</span> <span class="nc">VisualizerGraphicItem</span><span class="p">(</span><span class="n">QGraphicsItem</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">visualizerItem</span><span class="o">.</span><span class="n">VisualizerItem</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-71"><a href="#VisualizerGraphicItem-71"><span class="linenos"> 71</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-72"><a href="#VisualizerGraphicItem-72"><span class="linenos"> 72</span></a><span class="sd">    This is the template class for visualizer graphic items.</span>
</span><span id="VisualizerGraphicItem-73"><a href="#VisualizerGraphicItem-73"><span class="linenos"> 73</span></a><span class="sd">    There should never be an instance of this class.</span>
</span><span id="VisualizerGraphicItem-74"><a href="#VisualizerGraphicItem-74"><span class="linenos"> 74</span></a><span class="sd">    A visualizer graphic item is a part of the visualizer model</span>
</span><span id="VisualizerGraphicItem-75"><a href="#VisualizerGraphicItem-75"><span class="linenos"> 75</span></a><span class="sd">    that is drawn on the model view and can perform actions.</span>
</span><span id="VisualizerGraphicItem-76"><a href="#VisualizerGraphicItem-76"><span class="linenos"> 76</span></a>
</span><span id="VisualizerGraphicItem-77"><a href="#VisualizerGraphicItem-77"><span class="linenos"> 77</span></a><span class="sd">    **Attributes**:</span>
</span><span id="VisualizerGraphicItem-78"><a href="#VisualizerGraphicItem-78"><span class="linenos"> 78</span></a><span class="sd">    -   **_kind_name**: str         -   The name of this kind of object.</span>
</span><span id="VisualizerGraphicItem-79"><a href="#VisualizerGraphicItem-79"><span class="linenos"> 79</span></a><span class="sd">    -   **_ID**: int                -   The id of this object.</span>
</span><span id="VisualizerGraphicItem-80"><a href="#VisualizerGraphicItem-80"><span class="linenos"> 80</span></a><span class="sd">    -   **_model**: model.Model     -   The model this object belongs to</span>
</span><span id="VisualizerGraphicItem-81"><a href="#VisualizerGraphicItem-81"><span class="linenos"> 81</span></a><span class="sd">    -   **_position**: tuple        -   A tuple that consists of two integers representing</span>
</span><span id="VisualizerGraphicItem-82"><a href="#VisualizerGraphicItem-82"><span class="linenos"> 82</span></a><span class="sd">                                        the position of the item on the grid.</span>
</span><span id="VisualizerGraphicItem-83"><a href="#VisualizerGraphicItem-83"><span class="linenos"> 83</span></a><span class="sd">    -   **_start_position**: tuple  -   The position of this item at timestep 0.</span>
</span><span id="VisualizerGraphicItem-84"><a href="#VisualizerGraphicItem-84"><span class="linenos"> 84</span></a><span class="sd">    -   **_dragged**: tuple         -   This is the position of this item before a drag</span>
</span><span id="VisualizerGraphicItem-85"><a href="#VisualizerGraphicItem-85"><span class="linenos"> 85</span></a><span class="sd">                                        action started.</span>
</span><span id="VisualizerGraphicItem-86"><a href="#VisualizerGraphicItem-86"><span class="linenos"> 86</span></a><span class="sd">    -   **_enable_drag**: bool      -   This is true if drag and drop is enabled for this item.        </span>
</span><span id="VisualizerGraphicItem-87"><a href="#VisualizerGraphicItem-87"><span class="linenos"> 87</span></a><span class="sd">                                        This will be set by the model. </span>
</span><span id="VisualizerGraphicItem-88"><a href="#VisualizerGraphicItem-88"><span class="linenos"> 88</span></a><span class="sd">    -   **_graphics_item**: QGraphicsItem - This is the main graphic item of this item</span>
</span><span id="VisualizerGraphicItem-89"><a href="#VisualizerGraphicItem-89"><span class="linenos"> 89</span></a><span class="sd">                                            and is used for some default functions.</span>
</span><span id="VisualizerGraphicItem-90"><a href="#VisualizerGraphicItem-90"><span class="linenos"> 90</span></a><span class="sd">    -   **_text**: QGraphicsTextItem -  This is a text item that is drawn </span>
</span><span id="VisualizerGraphicItem-91"><a href="#VisualizerGraphicItem-91"><span class="linenos"> 91</span></a><span class="sd">                                        on the model view and represents primarily the id of the item.</span>
</span><span id="VisualizerGraphicItem-92"><a href="#VisualizerGraphicItem-92"><span class="linenos"> 92</span></a><span class="sd">    -   **_actions**: list          -   This is a sorted list of the actions of this item. The index</span>
</span><span id="VisualizerGraphicItem-93"><a href="#VisualizerGraphicItem-93"><span class="linenos"> 93</span></a><span class="sd">                                        of every action is the time step at which the action occurs.    </span>
</span><span id="VisualizerGraphicItem-94"><a href="#VisualizerGraphicItem-94"><span class="linenos"> 94</span></a><span class="sd">    -   **_color**: QColor          -   The current main color of the item.</span>
</span><span id="VisualizerGraphicItem-95"><a href="#VisualizerGraphicItem-95"><span class="linenos"> 95</span></a><span class="sd">    -   **_colors**: list           -   A list of QColor values. Contains several colors for multi-colored</span>
</span><span id="VisualizerGraphicItem-96"><a href="#VisualizerGraphicItem-96"><span class="linenos"> 96</span></a><span class="sd">                                        items and color interpolation.</span>
</span><span id="VisualizerGraphicItem-97"><a href="#VisualizerGraphicItem-97"><span class="linenos"> 97</span></a><span class="sd">    -   **_display_mode**: int      -   This is set by the model view and determines whether</span>
</span><span id="VisualizerGraphicItem-98"><a href="#VisualizerGraphicItem-98"><span class="linenos"> 98</span></a><span class="sd">                                        the item text should be rendered and whether the item </span>
</span><span id="VisualizerGraphicItem-99"><a href="#VisualizerGraphicItem-99"><span class="linenos"> 99</span></a><span class="sd">                                        should be rendered in the whole grid field.</span>
</span><span id="VisualizerGraphicItem-100"><a href="#VisualizerGraphicItem-100"><span class="linenos">100</span></a><span class="sd">                                        It is primarily defined by the zoom factor and the grid size.</span>
</span><span id="VisualizerGraphicItem-101"><a href="#VisualizerGraphicItem-101"><span class="linenos">101</span></a><span class="sd">    -   **_draw_path**: bool        -   This is true if the driven path of the item should be drawn in the simulation. </span>
</span><span id="VisualizerGraphicItem-102"><a href="#VisualizerGraphicItem-102"><span class="linenos">102</span></a><span class="sd">                                        Should only be used for items that can have a path like robots.</span>
</span><span id="VisualizerGraphicItem-103"><a href="#VisualizerGraphicItem-103"><span class="linenos">103</span></a><span class="sd">    -   **_draw_future_path**: bool -   This is true if the calculated path for the item should be drawn in the simulation. </span>
</span><span id="VisualizerGraphicItem-104"><a href="#VisualizerGraphicItem-104"><span class="linenos">104</span></a><span class="sd">                                        Should only be used for items that can have a path like robots.</span>
</span><span id="VisualizerGraphicItem-105"><a href="#VisualizerGraphicItem-105"><span class="linenos">105</span></a><span class="sd">    -   **_draw_startpoint**: bool  -   This is true if the start point of the item should be drawn in the simulation. </span>
</span><span id="VisualizerGraphicItem-106"><a href="#VisualizerGraphicItem-106"><span class="linenos">106</span></a><span class="sd">                                        Should only be used for items that can have a start point like robots.</span>
</span><span id="VisualizerGraphicItem-107"><a href="#VisualizerGraphicItem-107"><span class="linenos">107</span></a><span class="sd">    -   **_state**: int             -   Consists of one or more state flags, that describes which action</span>
</span><span id="VisualizerGraphicItem-108"><a href="#VisualizerGraphicItem-108"><span class="linenos">108</span></a><span class="sd">                                        a item is currently doing.</span>
</span><span id="VisualizerGraphicItem-109"><a href="#VisualizerGraphicItem-109"><span class="linenos">109</span></a><span class="sd">    -   **_highlighted**: bool      -   This is true if the item will be highlighted.</span>
</span><span id="VisualizerGraphicItem-110"><a href="#VisualizerGraphicItem-110"><span class="linenos">110</span></a><span class="sd">                                        Highlighted elements are displayed larger</span>
</span><span id="VisualizerGraphicItem-111"><a href="#VisualizerGraphicItem-111"><span class="linenos">111</span></a>
</span><span id="VisualizerGraphicItem-112"><a href="#VisualizerGraphicItem-112"><span class="linenos">112</span></a><span class="sd">.</span>
</span><span id="VisualizerGraphicItem-113"><a href="#VisualizerGraphicItem-113"><span class="linenos">113</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-114"><a href="#VisualizerGraphicItem-114"><span class="linenos">114</span></a>
</span><span id="VisualizerGraphicItem-115"><a href="#VisualizerGraphicItem-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-116"><a href="#VisualizerGraphicItem-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-117"><a href="#VisualizerGraphicItem-117"><span class="linenos">117</span></a><span class="sd">        :param ID: int, optional    - The ID of the item</span>
</span><span id="VisualizerGraphicItem-118"><a href="#VisualizerGraphicItem-118"><span class="linenos">118</span></a><span class="sd">        :param x:  int, optional    - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-119"><a href="#VisualizerGraphicItem-119"><span class="linenos">119</span></a><span class="sd">        :param y:  int, optional    - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-120"><a href="#VisualizerGraphicItem-120"><span class="linenos">120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-121"><a href="#VisualizerGraphicItem-121"><span class="linenos">121</span></a>        <span class="n">QGraphicsItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-122"><a href="#VisualizerGraphicItem-122"><span class="linenos">122</span></a>        <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">visualizerItem</span><span class="o">.</span><span class="n">VisualizerItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-123"><a href="#VisualizerGraphicItem-123"><span class="linenos">123</span></a>
</span><span id="VisualizerGraphicItem-124"><a href="#VisualizerGraphicItem-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="VisualizerGraphicItem-125"><a href="#VisualizerGraphicItem-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">ID</span>
</span><span id="VisualizerGraphicItem-126"><a href="#VisualizerGraphicItem-126"><span class="linenos">126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-127"><a href="#VisualizerGraphicItem-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-128"><a href="#VisualizerGraphicItem-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-129"><a href="#VisualizerGraphicItem-129"><span class="linenos">129</span></a>
</span><span id="VisualizerGraphicItem-130"><a href="#VisualizerGraphicItem-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-131"><a href="#VisualizerGraphicItem-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem-132"><a href="#VisualizerGraphicItem-132"><span class="linenos">132</span></a>
</span><span id="VisualizerGraphicItem-133"><a href="#VisualizerGraphicItem-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="kc">None</span>  
</span><span id="VisualizerGraphicItem-134"><a href="#VisualizerGraphicItem-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-135"><a href="#VisualizerGraphicItem-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-136"><a href="#VisualizerGraphicItem-136"><span class="linenos">136</span></a>            
</span><span id="VisualizerGraphicItem-137"><a href="#VisualizerGraphicItem-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem-138"><a href="#VisualizerGraphicItem-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem-139"><a href="#VisualizerGraphicItem-139"><span class="linenos">139</span></a>
</span><span id="VisualizerGraphicItem-140"><a href="#VisualizerGraphicItem-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-141"><a href="#VisualizerGraphicItem-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
</span><span id="VisualizerGraphicItem-142"><a href="#VisualizerGraphicItem-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="VisualizerGraphicItem-143"><a href="#VisualizerGraphicItem-143"><span class="linenos">143</span></a>
</span><span id="VisualizerGraphicItem-144"><a href="#VisualizerGraphicItem-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem-145"><a href="#VisualizerGraphicItem-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem-146"><a href="#VisualizerGraphicItem-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem-147"><a href="#VisualizerGraphicItem-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setAcceptedMouseButtons</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">MouseButtons</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="VisualizerGraphicItem-148"><a href="#VisualizerGraphicItem-148"><span class="linenos">148</span></a>
</span><span id="VisualizerGraphicItem-149"><a href="#VisualizerGraphicItem-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="VisualizerGraphicItem-150"><a href="#VisualizerGraphicItem-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem-151"><a href="#VisualizerGraphicItem-151"><span class="linenos">151</span></a>
</span><span id="VisualizerGraphicItem-152"><a href="#VisualizerGraphicItem-152"><span class="linenos">152</span></a>
</span><span id="VisualizerGraphicItem-153"><a href="#VisualizerGraphicItem-153"><span class="linenos">153</span></a>    <span class="c1">#SET FUNCTIONS</span>
</span><span id="VisualizerGraphicItem-154"><a href="#VisualizerGraphicItem-154"><span class="linenos">154</span></a>    <span class="k">def</span> <span class="nf">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-155"><a href="#VisualizerGraphicItem-155"><span class="linenos">155</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-156"><a href="#VisualizerGraphicItem-156"><span class="linenos">156</span></a><span class="sd">        Sets the starting position of an item.</span>
</span><span id="VisualizerGraphicItem-157"><a href="#VisualizerGraphicItem-157"><span class="linenos">157</span></a>
</span><span id="VisualizerGraphicItem-158"><a href="#VisualizerGraphicItem-158"><span class="linenos">158</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-159"><a href="#VisualizerGraphicItem-159"><span class="linenos">159</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-160"><a href="#VisualizerGraphicItem-160"><span class="linenos">160</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-161"><a href="#VisualizerGraphicItem-161"><span class="linenos">161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-162"><a href="#VisualizerGraphicItem-162"><span class="linenos">162</span></a>
</span><span id="VisualizerGraphicItem-163"><a href="#VisualizerGraphicItem-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">set_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-164"><a href="#VisualizerGraphicItem-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-165"><a href="#VisualizerGraphicItem-165"><span class="linenos">165</span></a><span class="sd">        Sets the current position of an item.</span>
</span><span id="VisualizerGraphicItem-166"><a href="#VisualizerGraphicItem-166"><span class="linenos">166</span></a>
</span><span id="VisualizerGraphicItem-167"><a href="#VisualizerGraphicItem-167"><span class="linenos">167</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-168"><a href="#VisualizerGraphicItem-168"><span class="linenos">168</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-169"><a href="#VisualizerGraphicItem-169"><span class="linenos">169</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-170"><a href="#VisualizerGraphicItem-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-171"><a href="#VisualizerGraphicItem-171"><span class="linenos">171</span></a>
</span><span id="VisualizerGraphicItem-172"><a href="#VisualizerGraphicItem-172"><span class="linenos">172</span></a>    <span class="k">def</span> <span class="nf">set_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">color_id</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-173"><a href="#VisualizerGraphicItem-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-174"><a href="#VisualizerGraphicItem-174"><span class="linenos">174</span></a><span class="sd">        Sets a specific color of an item.</span>
</span><span id="VisualizerGraphicItem-175"><a href="#VisualizerGraphicItem-175"><span class="linenos">175</span></a>
</span><span id="VisualizerGraphicItem-176"><a href="#VisualizerGraphicItem-176"><span class="linenos">176</span></a><span class="sd">        :param color: QColor    - The color</span>
</span><span id="VisualizerGraphicItem-177"><a href="#VisualizerGraphicItem-177"><span class="linenos">177</span></a><span class="sd">        :param color_id:  int   - The id of the color that will be set</span>
</span><span id="VisualizerGraphicItem-178"><a href="#VisualizerGraphicItem-178"><span class="linenos">178</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-179"><a href="#VisualizerGraphicItem-179"><span class="linenos">179</span></a>        <span class="k">while</span> <span class="n">color_id</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-180"><a href="#VisualizerGraphicItem-180"><span class="linenos">180</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span id="VisualizerGraphicItem-181"><a href="#VisualizerGraphicItem-181"><span class="linenos">181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="n">color_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="VisualizerGraphicItem-182"><a href="#VisualizerGraphicItem-182"><span class="linenos">182</span></a>
</span><span id="VisualizerGraphicItem-183"><a href="#VisualizerGraphicItem-183"><span class="linenos">183</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-184"><a href="#VisualizerGraphicItem-184"><span class="linenos">184</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-185"><a href="#VisualizerGraphicItem-185"><span class="linenos">185</span></a><span class="sd">        Sets the rectangle that an item can use to draw things in.</span>
</span><span id="VisualizerGraphicItem-186"><a href="#VisualizerGraphicItem-186"><span class="linenos">186</span></a><span class="sd">        This equals usually one field of the grid in the model view.</span>
</span><span id="VisualizerGraphicItem-187"><a href="#VisualizerGraphicItem-187"><span class="linenos">187</span></a><span class="sd">        This function usually defines the appearance of an item</span>
</span><span id="VisualizerGraphicItem-188"><a href="#VisualizerGraphicItem-188"><span class="linenos">188</span></a><span class="sd">        on the grid.</span>
</span><span id="VisualizerGraphicItem-189"><a href="#VisualizerGraphicItem-189"><span class="linenos">189</span></a>
</span><span id="VisualizerGraphicItem-190"><a href="#VisualizerGraphicItem-190"><span class="linenos">190</span></a><span class="sd">        :param rect: QtCore.QRect   - The rectangle that an item can use to draw things in.</span>
</span><span id="VisualizerGraphicItem-191"><a href="#VisualizerGraphicItem-191"><span class="linenos">191</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-192"><a href="#VisualizerGraphicItem-192"><span class="linenos">192</span></a>        <span class="k">return</span>
</span><span id="VisualizerGraphicItem-193"><a href="#VisualizerGraphicItem-193"><span class="linenos">193</span></a>
</span><span id="VisualizerGraphicItem-194"><a href="#VisualizerGraphicItem-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">set_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-195"><a href="#VisualizerGraphicItem-195"><span class="linenos">195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-196"><a href="#VisualizerGraphicItem-196"><span class="linenos">196</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="VisualizerGraphicItem-197"><a href="#VisualizerGraphicItem-197"><span class="linenos">197</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="VisualizerGraphicItem-198"><a href="#VisualizerGraphicItem-198"><span class="linenos">198</span></a><span class="sd">        a warning since this should never happen.</span>
</span><span id="VisualizerGraphicItem-199"><a href="#VisualizerGraphicItem-199"><span class="linenos">199</span></a>
</span><span id="VisualizerGraphicItem-200"><a href="#VisualizerGraphicItem-200"><span class="linenos">200</span></a><span class="sd">        :param action:      mapf_simulation.action.Action   -   This is the action that will be performed.</span>
</span><span id="VisualizerGraphicItem-201"><a href="#VisualizerGraphicItem-201"><span class="linenos">201</span></a><span class="sd">        :param time_step:   int                             -   This is the time step at which the action should be performed.</span>
</span><span id="VisualizerGraphicItem-202"><a href="#VisualizerGraphicItem-202"><span class="linenos">202</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-203"><a href="#VisualizerGraphicItem-203"><span class="linenos">203</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-204"><a href="#VisualizerGraphicItem-204"><span class="linenos">204</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: invalid time step in occurs(object(&#39;</span>
</span><span id="VisualizerGraphicItem-205"><a href="#VisualizerGraphicItem-205"><span class="linenos">205</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span>
</span><span id="VisualizerGraphicItem-206"><a href="#VisualizerGraphicItem-206"><span class="linenos">206</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;),&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-207"><a href="#VisualizerGraphicItem-207"><span class="linenos">207</span></a>                    <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">))</span>
</span><span id="VisualizerGraphicItem-208"><a href="#VisualizerGraphicItem-208"><span class="linenos">208</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time step is less than 0&#39;</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-209"><a href="#VisualizerGraphicItem-209"><span class="linenos">209</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-210"><a href="#VisualizerGraphicItem-210"><span class="linenos">210</span></a>        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)):</span>
</span><span id="VisualizerGraphicItem-211"><a href="#VisualizerGraphicItem-211"><span class="linenos">211</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-212"><a href="#VisualizerGraphicItem-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-213"><a href="#VisualizerGraphicItem-213"><span class="linenos">213</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: for object(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-214"><a href="#VisualizerGraphicItem-214"><span class="linenos">214</span></a>                    <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-215"><a href="#VisualizerGraphicItem-215"><span class="linenos">215</span></a>                    <span class="o">+</span> <span class="s1">&#39;) multiple actions are defined at time step &#39;</span>
</span><span id="VisualizerGraphicItem-216"><a href="#VisualizerGraphicItem-216"><span class="linenos">216</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)))</span>
</span><span id="VisualizerGraphicItem-217"><a href="#VisualizerGraphicItem-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span>
</span><span id="VisualizerGraphicItem-218"><a href="#VisualizerGraphicItem-218"><span class="linenos">218</span></a>
</span><span id="VisualizerGraphicItem-219"><a href="#VisualizerGraphicItem-219"><span class="linenos">219</span></a>    <span class="k">def</span> <span class="nf">set_display_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_mode</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-220"><a href="#VisualizerGraphicItem-220"><span class="linenos">220</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-221"><a href="#VisualizerGraphicItem-221"><span class="linenos">221</span></a><span class="sd">        Sets the current display mode.</span>
</span><span id="VisualizerGraphicItem-222"><a href="#VisualizerGraphicItem-222"><span class="linenos">222</span></a>
</span><span id="VisualizerGraphicItem-223"><a href="#VisualizerGraphicItem-223"><span class="linenos">223</span></a><span class="sd">        :param display_mode: int   - display mode (usually 0 or 1)</span>
</span><span id="VisualizerGraphicItem-224"><a href="#VisualizerGraphicItem-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-225"><a href="#VisualizerGraphicItem-225"><span class="linenos">225</span></a>
</span><span id="VisualizerGraphicItem-226"><a href="#VisualizerGraphicItem-226"><span class="linenos">226</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">=</span>  <span class="n">display_mode</span>
</span><span id="VisualizerGraphicItem-227"><a href="#VisualizerGraphicItem-227"><span class="linenos">227</span></a>
</span><span id="VisualizerGraphicItem-228"><a href="#VisualizerGraphicItem-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="nf">set_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_path</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-229"><a href="#VisualizerGraphicItem-229"><span class="linenos">229</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-230"><a href="#VisualizerGraphicItem-230"><span class="linenos">230</span></a><span class="sd">        Sets whether the driven path of the object should be drawn.</span>
</span><span id="VisualizerGraphicItem-231"><a href="#VisualizerGraphicItem-231"><span class="linenos">231</span></a>
</span><span id="VisualizerGraphicItem-232"><a href="#VisualizerGraphicItem-232"><span class="linenos">232</span></a><span class="sd">        :param draw_path: bool  -   True or False</span>
</span><span id="VisualizerGraphicItem-233"><a href="#VisualizerGraphicItem-233"><span class="linenos">233</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-234"><a href="#VisualizerGraphicItem-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="n">draw_path</span>
</span><span id="VisualizerGraphicItem-235"><a href="#VisualizerGraphicItem-235"><span class="linenos">235</span></a>
</span><span id="VisualizerGraphicItem-236"><a href="#VisualizerGraphicItem-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">set_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_path</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-237"><a href="#VisualizerGraphicItem-237"><span class="linenos">237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-238"><a href="#VisualizerGraphicItem-238"><span class="linenos">238</span></a><span class="sd">        Sets whether the calculated path for the object should be drawn.</span>
</span><span id="VisualizerGraphicItem-239"><a href="#VisualizerGraphicItem-239"><span class="linenos">239</span></a>
</span><span id="VisualizerGraphicItem-240"><a href="#VisualizerGraphicItem-240"><span class="linenos">240</span></a><span class="sd">        :param draw_path: bool  -   True or False</span>
</span><span id="VisualizerGraphicItem-241"><a href="#VisualizerGraphicItem-241"><span class="linenos">241</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-242"><a href="#VisualizerGraphicItem-242"><span class="linenos">242</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="n">draw_path</span>
</span><span id="VisualizerGraphicItem-243"><a href="#VisualizerGraphicItem-243"><span class="linenos">243</span></a>
</span><span id="VisualizerGraphicItem-244"><a href="#VisualizerGraphicItem-244"><span class="linenos">244</span></a>    <span class="k">def</span> <span class="nf">set_draw_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_start</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-245"><a href="#VisualizerGraphicItem-245"><span class="linenos">245</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-246"><a href="#VisualizerGraphicItem-246"><span class="linenos">246</span></a><span class="sd">        Sets whether the starting point of the object should be drawn. </span>
</span><span id="VisualizerGraphicItem-247"><a href="#VisualizerGraphicItem-247"><span class="linenos">247</span></a><span class="sd">        This is usually the case if the driven path should be drawn.</span>
</span><span id="VisualizerGraphicItem-248"><a href="#VisualizerGraphicItem-248"><span class="linenos">248</span></a>
</span><span id="VisualizerGraphicItem-249"><a href="#VisualizerGraphicItem-249"><span class="linenos">249</span></a><span class="sd">        :param draw_start: bool  -   True or False</span>
</span><span id="VisualizerGraphicItem-250"><a href="#VisualizerGraphicItem-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-251"><a href="#VisualizerGraphicItem-251"><span class="linenos">251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="n">draw_start</span>
</span><span id="VisualizerGraphicItem-252"><a href="#VisualizerGraphicItem-252"><span class="linenos">252</span></a>
</span><span id="VisualizerGraphicItem-253"><a href="#VisualizerGraphicItem-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">set_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">highlighted</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-254"><a href="#VisualizerGraphicItem-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-255"><a href="#VisualizerGraphicItem-255"><span class="linenos">255</span></a><span class="sd">        Sets whether this item should be highlighted.</span>
</span><span id="VisualizerGraphicItem-256"><a href="#VisualizerGraphicItem-256"><span class="linenos">256</span></a>
</span><span id="VisualizerGraphicItem-257"><a href="#VisualizerGraphicItem-257"><span class="linenos">257</span></a><span class="sd">        :param highlighted: bool    -   True or False</span>
</span><span id="VisualizerGraphicItem-258"><a href="#VisualizerGraphicItem-258"><span class="linenos">258</span></a><span class="sd">        :return:    QtCore.QRect    -   The current rectangle of the object</span>
</span><span id="VisualizerGraphicItem-259"><a href="#VisualizerGraphicItem-259"><span class="linenos">259</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-260"><a href="#VisualizerGraphicItem-260"><span class="linenos">260</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="n">highlighted</span>
</span><span id="VisualizerGraphicItem-261"><a href="#VisualizerGraphicItem-261"><span class="linenos">261</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-262"><a href="#VisualizerGraphicItem-262"><span class="linenos">262</span></a>
</span><span id="VisualizerGraphicItem-263"><a href="#VisualizerGraphicItem-263"><span class="linenos">263</span></a>
</span><span id="VisualizerGraphicItem-264"><a href="#VisualizerGraphicItem-264"><span class="linenos">264</span></a>    <span class="c1">#GET FUNCTIONS</span>
</span><span id="VisualizerGraphicItem-265"><a href="#VisualizerGraphicItem-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-266"><a href="#VisualizerGraphicItem-266"><span class="linenos">266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-267"><a href="#VisualizerGraphicItem-267"><span class="linenos">267</span></a><span class="sd">        Returns the name of the item.</span>
</span><span id="VisualizerGraphicItem-268"><a href="#VisualizerGraphicItem-268"><span class="linenos">268</span></a>
</span><span id="VisualizerGraphicItem-269"><a href="#VisualizerGraphicItem-269"><span class="linenos">269</span></a><span class="sd">        :return: str    -   The name of this kind of object.</span>
</span><span id="VisualizerGraphicItem-270"><a href="#VisualizerGraphicItem-270"><span class="linenos">270</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-271"><a href="#VisualizerGraphicItem-271"><span class="linenos">271</span></a>
</span><span id="VisualizerGraphicItem-272"><a href="#VisualizerGraphicItem-272"><span class="linenos">272</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span>
</span><span id="VisualizerGraphicItem-273"><a href="#VisualizerGraphicItem-273"><span class="linenos">273</span></a>
</span><span id="VisualizerGraphicItem-274"><a href="#VisualizerGraphicItem-274"><span class="linenos">274</span></a>    <span class="k">def</span> <span class="nf">get_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-275"><a href="#VisualizerGraphicItem-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-276"><a href="#VisualizerGraphicItem-276"><span class="linenos">276</span></a><span class="sd">        Return the position of an item.</span>
</span><span id="VisualizerGraphicItem-277"><a href="#VisualizerGraphicItem-277"><span class="linenos">277</span></a>
</span><span id="VisualizerGraphicItem-278"><a href="#VisualizerGraphicItem-278"><span class="linenos">278</span></a><span class="sd">        :return: tuple  -   The position of this item</span>
</span><span id="VisualizerGraphicItem-279"><a href="#VisualizerGraphicItem-279"><span class="linenos">279</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-280"><a href="#VisualizerGraphicItem-280"><span class="linenos">280</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span>
</span><span id="VisualizerGraphicItem-281"><a href="#VisualizerGraphicItem-281"><span class="linenos">281</span></a>
</span><span id="VisualizerGraphicItem-282"><a href="#VisualizerGraphicItem-282"><span class="linenos">282</span></a>    <span class="k">def</span> <span class="nf">get_start_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-283"><a href="#VisualizerGraphicItem-283"><span class="linenos">283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-284"><a href="#VisualizerGraphicItem-284"><span class="linenos">284</span></a><span class="sd">        Return the position of an item.</span>
</span><span id="VisualizerGraphicItem-285"><a href="#VisualizerGraphicItem-285"><span class="linenos">285</span></a>
</span><span id="VisualizerGraphicItem-286"><a href="#VisualizerGraphicItem-286"><span class="linenos">286</span></a><span class="sd">        :return: tuple  -   The start position of this item</span>
</span><span id="VisualizerGraphicItem-287"><a href="#VisualizerGraphicItem-287"><span class="linenos">287</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-288"><a href="#VisualizerGraphicItem-288"><span class="linenos">288</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span>
</span><span id="VisualizerGraphicItem-289"><a href="#VisualizerGraphicItem-289"><span class="linenos">289</span></a>
</span><span id="VisualizerGraphicItem-290"><a href="#VisualizerGraphicItem-290"><span class="linenos">290</span></a>    <span class="k">def</span> <span class="nf">get_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color_id</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-291"><a href="#VisualizerGraphicItem-291"><span class="linenos">291</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-292"><a href="#VisualizerGraphicItem-292"><span class="linenos">292</span></a><span class="sd">        Returns a specific color of an item.</span>
</span><span id="VisualizerGraphicItem-293"><a href="#VisualizerGraphicItem-293"><span class="linenos">293</span></a>
</span><span id="VisualizerGraphicItem-294"><a href="#VisualizerGraphicItem-294"><span class="linenos">294</span></a><span class="sd">        :param color_id:  int   - The id of the color that should be returned</span>
</span><span id="VisualizerGraphicItem-295"><a href="#VisualizerGraphicItem-295"><span class="linenos">295</span></a><span class="sd">        :return: QtGui.QColor   -   The color of this item with the specific id</span>
</span><span id="VisualizerGraphicItem-296"><a href="#VisualizerGraphicItem-296"><span class="linenos">296</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-297"><a href="#VisualizerGraphicItem-297"><span class="linenos">297</span></a>        <span class="k">if</span> <span class="n">color_id</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-298"><a href="#VisualizerGraphicItem-298"><span class="linenos">298</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="n">color_id</span><span class="p">]</span>
</span><span id="VisualizerGraphicItem-299"><a href="#VisualizerGraphicItem-299"><span class="linenos">299</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-300"><a href="#VisualizerGraphicItem-300"><span class="linenos">300</span></a>
</span><span id="VisualizerGraphicItem-301"><a href="#VisualizerGraphicItem-301"><span class="linenos">301</span></a>    <span class="k">def</span> <span class="nf">get_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-302"><a href="#VisualizerGraphicItem-302"><span class="linenos">302</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-303"><a href="#VisualizerGraphicItem-303"><span class="linenos">303</span></a><span class="sd">        Returns the current main color of an item.</span>
</span><span id="VisualizerGraphicItem-304"><a href="#VisualizerGraphicItem-304"><span class="linenos">304</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-305"><a href="#VisualizerGraphicItem-305"><span class="linenos">305</span></a><span class="sd">        :return: QtGui.QColor   -   The current main color of this item</span>
</span><span id="VisualizerGraphicItem-306"><a href="#VisualizerGraphicItem-306"><span class="linenos">306</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-307"><a href="#VisualizerGraphicItem-307"><span class="linenos">307</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
</span><span id="VisualizerGraphicItem-308"><a href="#VisualizerGraphicItem-308"><span class="linenos">308</span></a>
</span><span id="VisualizerGraphicItem-309"><a href="#VisualizerGraphicItem-309"><span class="linenos">309</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-310"><a href="#VisualizerGraphicItem-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-311"><a href="#VisualizerGraphicItem-311"><span class="linenos">311</span></a><span class="sd">        Returns the current rectangle of an item.</span>
</span><span id="VisualizerGraphicItem-312"><a href="#VisualizerGraphicItem-312"><span class="linenos">312</span></a>
</span><span id="VisualizerGraphicItem-313"><a href="#VisualizerGraphicItem-313"><span class="linenos">313</span></a><span class="sd">        :return: QtCore.QRect   -   The current rectangle of this item</span>
</span><span id="VisualizerGraphicItem-314"><a href="#VisualizerGraphicItem-314"><span class="linenos">314</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-315"><a href="#VisualizerGraphicItem-315"><span class="linenos">315</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-316"><a href="#VisualizerGraphicItem-316"><span class="linenos">316</span></a>
</span><span id="VisualizerGraphicItem-317"><a href="#VisualizerGraphicItem-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">get_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-318"><a href="#VisualizerGraphicItem-318"><span class="linenos">318</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-319"><a href="#VisualizerGraphicItem-319"><span class="linenos">319</span></a><span class="sd">        Returns the action at a specific time step.</span>
</span><span id="VisualizerGraphicItem-320"><a href="#VisualizerGraphicItem-320"><span class="linenos">320</span></a><span class="sd">        Returns None if no action is defined for this time step.</span>
</span><span id="VisualizerGraphicItem-321"><a href="#VisualizerGraphicItem-321"><span class="linenos">321</span></a>
</span><span id="VisualizerGraphicItem-322"><a href="#VisualizerGraphicItem-322"><span class="linenos">322</span></a><span class="sd">        :param time_step:   int                      -   The time step for which the action should be returned.</span>
</span><span id="VisualizerGraphicItem-323"><a href="#VisualizerGraphicItem-323"><span class="linenos">323</span></a><span class="sd">        :return: **mapf_simulation.action.Action**   -   The action at a specific time step.</span>
</span><span id="VisualizerGraphicItem-324"><a href="#VisualizerGraphicItem-324"><span class="linenos">324</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-325"><a href="#VisualizerGraphicItem-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-326"><a href="#VisualizerGraphicItem-326"><span class="linenos">326</span></a>            <span class="k">return</span> <span class="kc">None</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="VisualizerGraphicItem-327"><a href="#VisualizerGraphicItem-327"><span class="linenos">327</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-328"><a href="#VisualizerGraphicItem-328"><span class="linenos">328</span></a>            <span class="k">return</span> <span class="kc">None</span>  <span class="c1">#break, if no action is defined     </span>
</span><span id="VisualizerGraphicItem-329"><a href="#VisualizerGraphicItem-329"><span class="linenos">329</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span>   
</span><span id="VisualizerGraphicItem-330"><a href="#VisualizerGraphicItem-330"><span class="linenos">330</span></a>
</span><span id="VisualizerGraphicItem-331"><a href="#VisualizerGraphicItem-331"><span class="linenos">331</span></a>    <span class="k">def</span> <span class="nf">get_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-332"><a href="#VisualizerGraphicItem-332"><span class="linenos">332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-333"><a href="#VisualizerGraphicItem-333"><span class="linenos">333</span></a><span class="sd">        Returns the calculated path for the item.</span>
</span><span id="VisualizerGraphicItem-334"><a href="#VisualizerGraphicItem-334"><span class="linenos">334</span></a>
</span><span id="VisualizerGraphicItem-335"><a href="#VisualizerGraphicItem-335"><span class="linenos">335</span></a><span class="sd">        :return: list of **mapf_interfaces.msg.Position**   -   The calculated path for this item.</span>
</span><span id="VisualizerGraphicItem-336"><a href="#VisualizerGraphicItem-336"><span class="linenos">336</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-337"><a href="#VisualizerGraphicItem-337"><span class="linenos">337</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span>
</span><span id="VisualizerGraphicItem-338"><a href="#VisualizerGraphicItem-338"><span class="linenos">338</span></a>
</span><span id="VisualizerGraphicItem-339"><a href="#VisualizerGraphicItem-339"><span class="linenos">339</span></a>    <span class="k">def</span> <span class="nf">get_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-340"><a href="#VisualizerGraphicItem-340"><span class="linenos">340</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-341"><a href="#VisualizerGraphicItem-341"><span class="linenos">341</span></a><span class="sd">        Returns the current state of the item.</span>
</span><span id="VisualizerGraphicItem-342"><a href="#VisualizerGraphicItem-342"><span class="linenos">342</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-343"><a href="#VisualizerGraphicItem-343"><span class="linenos">343</span></a><span class="sd">        :return: 0x00, VIZ_STATE_MOVED, VIZ_STATE_MOVE, VIZ_STATE_ACTION ...</span>
</span><span id="VisualizerGraphicItem-344"><a href="#VisualizerGraphicItem-344"><span class="linenos">344</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-345"><a href="#VisualizerGraphicItem-345"><span class="linenos">345</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span>
</span><span id="VisualizerGraphicItem-346"><a href="#VisualizerGraphicItem-346"><span class="linenos">346</span></a>
</span><span id="VisualizerGraphicItem-347"><a href="#VisualizerGraphicItem-347"><span class="linenos">347</span></a>    <span class="k">def</span> <span class="nf">get_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-348"><a href="#VisualizerGraphicItem-348"><span class="linenos">348</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-349"><a href="#VisualizerGraphicItem-349"><span class="linenos">349</span></a><span class="sd">        Returns whether the path of this item should be drawn.</span>
</span><span id="VisualizerGraphicItem-350"><a href="#VisualizerGraphicItem-350"><span class="linenos">350</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-351"><a href="#VisualizerGraphicItem-351"><span class="linenos">351</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem-352"><a href="#VisualizerGraphicItem-352"><span class="linenos">352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-353"><a href="#VisualizerGraphicItem-353"><span class="linenos">353</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span>
</span><span id="VisualizerGraphicItem-354"><a href="#VisualizerGraphicItem-354"><span class="linenos">354</span></a>
</span><span id="VisualizerGraphicItem-355"><a href="#VisualizerGraphicItem-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="nf">get_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-356"><a href="#VisualizerGraphicItem-356"><span class="linenos">356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-357"><a href="#VisualizerGraphicItem-357"><span class="linenos">357</span></a><span class="sd">        Returns whether the future path of this item should be drawn.</span>
</span><span id="VisualizerGraphicItem-358"><a href="#VisualizerGraphicItem-358"><span class="linenos">358</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-359"><a href="#VisualizerGraphicItem-359"><span class="linenos">359</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem-360"><a href="#VisualizerGraphicItem-360"><span class="linenos">360</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-361"><a href="#VisualizerGraphicItem-361"><span class="linenos">361</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span>
</span><span id="VisualizerGraphicItem-362"><a href="#VisualizerGraphicItem-362"><span class="linenos">362</span></a>
</span><span id="VisualizerGraphicItem-363"><a href="#VisualizerGraphicItem-363"><span class="linenos">363</span></a>    <span class="k">def</span> <span class="nf">get_draw_startpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-364"><a href="#VisualizerGraphicItem-364"><span class="linenos">364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-365"><a href="#VisualizerGraphicItem-365"><span class="linenos">365</span></a><span class="sd">        Returns whether the starting point of this item should be drawn.</span>
</span><span id="VisualizerGraphicItem-366"><a href="#VisualizerGraphicItem-366"><span class="linenos">366</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-367"><a href="#VisualizerGraphicItem-367"><span class="linenos">367</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem-368"><a href="#VisualizerGraphicItem-368"><span class="linenos">368</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-369"><a href="#VisualizerGraphicItem-369"><span class="linenos">369</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span>
</span><span id="VisualizerGraphicItem-370"><a href="#VisualizerGraphicItem-370"><span class="linenos">370</span></a>
</span><span id="VisualizerGraphicItem-371"><a href="#VisualizerGraphicItem-371"><span class="linenos">371</span></a>    <span class="k">def</span> <span class="nf">get_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-372"><a href="#VisualizerGraphicItem-372"><span class="linenos">372</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-373"><a href="#VisualizerGraphicItem-373"><span class="linenos">373</span></a><span class="sd">        Returns whether the item should be highlighted.</span>
</span><span id="VisualizerGraphicItem-374"><a href="#VisualizerGraphicItem-374"><span class="linenos">374</span></a>
</span><span id="VisualizerGraphicItem-375"><a href="#VisualizerGraphicItem-375"><span class="linenos">375</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem-376"><a href="#VisualizerGraphicItem-376"><span class="linenos">376</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-377"><a href="#VisualizerGraphicItem-377"><span class="linenos">377</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span>
</span><span id="VisualizerGraphicItem-378"><a href="#VisualizerGraphicItem-378"><span class="linenos">378</span></a>
</span><span id="VisualizerGraphicItem-379"><a href="#VisualizerGraphicItem-379"><span class="linenos">379</span></a>
</span><span id="VisualizerGraphicItem-380"><a href="#VisualizerGraphicItem-380"><span class="linenos">380</span></a>    <span class="c1">#EVENTS</span>
</span><span id="VisualizerGraphicItem-381"><a href="#VisualizerGraphicItem-381"><span class="linenos">381</span></a>    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-382"><a href="#VisualizerGraphicItem-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-383"><a href="#VisualizerGraphicItem-383"><span class="linenos">383</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem-384"><a href="#VisualizerGraphicItem-384"><span class="linenos">384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-385"><a href="#VisualizerGraphicItem-385"><span class="linenos">385</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-386"><a href="#VisualizerGraphicItem-386"><span class="linenos">386</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-387"><a href="#VisualizerGraphicItem-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="VisualizerGraphicItem-388"><a href="#VisualizerGraphicItem-388"><span class="linenos">388</span></a>                             <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="VisualizerGraphicItem-389"><a href="#VisualizerGraphicItem-389"><span class="linenos">389</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-390"><a href="#VisualizerGraphicItem-390"><span class="linenos">390</span></a>
</span><span id="VisualizerGraphicItem-391"><a href="#VisualizerGraphicItem-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-392"><a href="#VisualizerGraphicItem-392"><span class="linenos">392</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-393"><a href="#VisualizerGraphicItem-393"><span class="linenos">393</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem-394"><a href="#VisualizerGraphicItem-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-395"><a href="#VisualizerGraphicItem-395"><span class="linenos">395</span></a>        <span class="n">model_view</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-396"><a href="#VisualizerGraphicItem-396"><span class="linenos">396</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-397"><a href="#VisualizerGraphicItem-397"><span class="linenos">397</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem-398"><a href="#VisualizerGraphicItem-398"><span class="linenos">398</span></a>            <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">views</span><span class="p">():</span>
</span><span id="VisualizerGraphicItem-399"><a href="#VisualizerGraphicItem-399"><span class="linenos">399</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">modelView</span><span class="o">.</span><span class="n">ModelView</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-400"><a href="#VisualizerGraphicItem-400"><span class="linenos">400</span></a>                    <span class="n">model_view</span> <span class="o">=</span> <span class="n">view</span>
</span><span id="VisualizerGraphicItem-401"><a href="#VisualizerGraphicItem-401"><span class="linenos">401</span></a>        <span class="k">if</span> <span class="n">model_view</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-402"><a href="#VisualizerGraphicItem-402"><span class="linenos">402</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-403"><a href="#VisualizerGraphicItem-403"><span class="linenos">403</span></a>        <span class="n">node</span> <span class="o">=</span> <span class="n">model_view</span><span class="o">.</span><span class="n">scene_coordinates_to_node</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="VisualizerGraphicItem-404"><a href="#VisualizerGraphicItem-404"><span class="linenos">404</span></a>                                                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="VisualizerGraphicItem-405"><a href="#VisualizerGraphicItem-405"><span class="linenos">405</span></a>        
</span><span id="VisualizerGraphicItem-406"><a href="#VisualizerGraphicItem-406"><span class="linenos">406</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-407"><a href="#VisualizerGraphicItem-407"><span class="linenos">407</span></a>
</span><span id="VisualizerGraphicItem-408"><a href="#VisualizerGraphicItem-408"><span class="linenos">408</span></a>        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-409"><a href="#VisualizerGraphicItem-409"><span class="linenos">409</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">edit_position_to</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem-410"><a href="#VisualizerGraphicItem-410"><span class="linenos">410</span></a>        
</span><span id="VisualizerGraphicItem-411"><a href="#VisualizerGraphicItem-411"><span class="linenos">411</span></a>        <span class="n">model_view</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-412"><a href="#VisualizerGraphicItem-412"><span class="linenos">412</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-413"><a href="#VisualizerGraphicItem-413"><span class="linenos">413</span></a>
</span><span id="VisualizerGraphicItem-414"><a href="#VisualizerGraphicItem-414"><span class="linenos">414</span></a>    <span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-415"><a href="#VisualizerGraphicItem-415"><span class="linenos">415</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-416"><a href="#VisualizerGraphicItem-416"><span class="linenos">416</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem-417"><a href="#VisualizerGraphicItem-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-418"><a href="#VisualizerGraphicItem-418"><span class="linenos">418</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-419"><a href="#VisualizerGraphicItem-419"><span class="linenos">419</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-420"><a href="#VisualizerGraphicItem-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
</span><span id="VisualizerGraphicItem-421"><a href="#VisualizerGraphicItem-421"><span class="linenos">421</span></a>                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem-422"><a href="#VisualizerGraphicItem-422"><span class="linenos">422</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-423"><a href="#VisualizerGraphicItem-423"><span class="linenos">423</span></a>
</span><span id="VisualizerGraphicItem-424"><a href="#VisualizerGraphicItem-424"><span class="linenos">424</span></a>
</span><span id="VisualizerGraphicItem-425"><a href="#VisualizerGraphicItem-425"><span class="linenos">425</span></a>    <span class="c1">#VISUAL</span>
</span><span id="VisualizerGraphicItem-426"><a href="#VisualizerGraphicItem-426"><span class="linenos">426</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-427"><a href="#VisualizerGraphicItem-427"><span class="linenos">427</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-428"><a href="#VisualizerGraphicItem-428"><span class="linenos">428</span></a><span class="sd">        Determines the color of an item dependent on its number.</span>
</span><span id="VisualizerGraphicItem-429"><a href="#VisualizerGraphicItem-429"><span class="linenos">429</span></a>
</span><span id="VisualizerGraphicItem-430"><a href="#VisualizerGraphicItem-430"><span class="linenos">430</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="VisualizerGraphicItem-431"><a href="#VisualizerGraphicItem-431"><span class="linenos">431</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="VisualizerGraphicItem-432"><a href="#VisualizerGraphicItem-432"><span class="linenos">432</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="VisualizerGraphicItem-433"><a href="#VisualizerGraphicItem-433"><span class="linenos">433</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="VisualizerGraphicItem-434"><a href="#VisualizerGraphicItem-434"><span class="linenos">434</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-435"><a href="#VisualizerGraphicItem-435"><span class="linenos">435</span></a>        <span class="k">return</span>
</span><span id="VisualizerGraphicItem-436"><a href="#VisualizerGraphicItem-436"><span class="linenos">436</span></a>
</span><span id="VisualizerGraphicItem-437"><a href="#VisualizerGraphicItem-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-438"><a href="#VisualizerGraphicItem-438"><span class="linenos">438</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-439"><a href="#VisualizerGraphicItem-439"><span class="linenos">439</span></a><span class="sd">        This is a overridden QT function.</span>
</span><span id="VisualizerGraphicItem-440"><a href="#VisualizerGraphicItem-440"><span class="linenos">440</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-441"><a href="#VisualizerGraphicItem-441"><span class="linenos">441</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">paint</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-442"><a href="#VisualizerGraphicItem-442"><span class="linenos">442</span></a>    
</span><span id="VisualizerGraphicItem-443"><a href="#VisualizerGraphicItem-443"><span class="linenos">443</span></a>
</span><span id="VisualizerGraphicItem-444"><a href="#VisualizerGraphicItem-444"><span class="linenos">444</span></a>    <span class="c1">#ACTIONS / UPDATE</span>
</span><span id="VisualizerGraphicItem-445"><a href="#VisualizerGraphicItem-445"><span class="linenos">445</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-446"><a href="#VisualizerGraphicItem-446"><span class="linenos">446</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-447"><a href="#VisualizerGraphicItem-447"><span class="linenos">447</span></a><span class="sd">        Action handler. Must be implemented for items</span>
</span><span id="VisualizerGraphicItem-448"><a href="#VisualizerGraphicItem-448"><span class="linenos">448</span></a><span class="sd">        which can perform actions. This function will be called</span>
</span><span id="VisualizerGraphicItem-449"><a href="#VisualizerGraphicItem-449"><span class="linenos">449</span></a><span class="sd">        every time the model does one time step forward.</span>
</span><span id="VisualizerGraphicItem-450"><a href="#VisualizerGraphicItem-450"><span class="linenos">450</span></a>
</span><span id="VisualizerGraphicItem-451"><a href="#VisualizerGraphicItem-451"><span class="linenos">451</span></a><span class="sd">        :param time_step:   int     -   The time step for which the action should be executed.</span>
</span><span id="VisualizerGraphicItem-452"><a href="#VisualizerGraphicItem-452"><span class="linenos">452</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-453"><a href="#VisualizerGraphicItem-453"><span class="linenos">453</span></a>
</span><span id="VisualizerGraphicItem-454"><a href="#VisualizerGraphicItem-454"><span class="linenos">454</span></a>        <span class="k">return</span>
</span><span id="VisualizerGraphicItem-455"><a href="#VisualizerGraphicItem-455"><span class="linenos">455</span></a>
</span><span id="VisualizerGraphicItem-456"><a href="#VisualizerGraphicItem-456"><span class="linenos">456</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-457"><a href="#VisualizerGraphicItem-457"><span class="linenos">457</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-458"><a href="#VisualizerGraphicItem-458"><span class="linenos">458</span></a><span class="sd">        Reverse action handler. Must be implemented for items</span>
</span><span id="VisualizerGraphicItem-459"><a href="#VisualizerGraphicItem-459"><span class="linenos">459</span></a><span class="sd">        which can perform actions. This function will be called </span>
</span><span id="VisualizerGraphicItem-460"><a href="#VisualizerGraphicItem-460"><span class="linenos">460</span></a><span class="sd">        every time the model does one time step backwards.</span>
</span><span id="VisualizerGraphicItem-461"><a href="#VisualizerGraphicItem-461"><span class="linenos">461</span></a>
</span><span id="VisualizerGraphicItem-462"><a href="#VisualizerGraphicItem-462"><span class="linenos">462</span></a><span class="sd">        :param time_step:   int     -   The time step for which the action should be reversed.</span>
</span><span id="VisualizerGraphicItem-463"><a href="#VisualizerGraphicItem-463"><span class="linenos">463</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-464"><a href="#VisualizerGraphicItem-464"><span class="linenos">464</span></a>
</span><span id="VisualizerGraphicItem-465"><a href="#VisualizerGraphicItem-465"><span class="linenos">465</span></a>        <span class="k">return</span>
</span><span id="VisualizerGraphicItem-466"><a href="#VisualizerGraphicItem-466"><span class="linenos">466</span></a>
</span><span id="VisualizerGraphicItem-467"><a href="#VisualizerGraphicItem-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">clear_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-468"><a href="#VisualizerGraphicItem-468"><span class="linenos">468</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-469"><a href="#VisualizerGraphicItem-469"><span class="linenos">469</span></a><span class="sd">        Deletes all actions for an object.</span>
</span><span id="VisualizerGraphicItem-470"><a href="#VisualizerGraphicItem-470"><span class="linenos">470</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-471"><a href="#VisualizerGraphicItem-471"><span class="linenos">471</span></a>
</span><span id="VisualizerGraphicItem-472"><a href="#VisualizerGraphicItem-472"><span class="linenos">472</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem-473"><a href="#VisualizerGraphicItem-473"><span class="linenos">473</span></a>
</span><span id="VisualizerGraphicItem-474"><a href="#VisualizerGraphicItem-474"><span class="linenos">474</span></a>    <span class="k">def</span> <span class="nf">clear_older_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-475"><a href="#VisualizerGraphicItem-475"><span class="linenos">475</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-476"><a href="#VisualizerGraphicItem-476"><span class="linenos">476</span></a><span class="sd">        Deletes all actions for the given time step (self._actions[time_step]) </span>
</span><span id="VisualizerGraphicItem-477"><a href="#VisualizerGraphicItem-477"><span class="linenos">477</span></a><span class="sd">        and after the given time step (self._actions[i&gt;time_step]) for an object.</span>
</span><span id="VisualizerGraphicItem-478"><a href="#VisualizerGraphicItem-478"><span class="linenos">478</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-479"><a href="#VisualizerGraphicItem-479"><span class="linenos">479</span></a><span class="sd">        :param time_step:   int -   Sets the steps (time&gt;=time_step) for which the actions should be deleted.</span>
</span><span id="VisualizerGraphicItem-480"><a href="#VisualizerGraphicItem-480"><span class="linenos">480</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-481"><a href="#VisualizerGraphicItem-481"><span class="linenos">481</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-482"><a href="#VisualizerGraphicItem-482"><span class="linenos">482</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-483"><a href="#VisualizerGraphicItem-483"><span class="linenos">483</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">time_step</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-484"><a href="#VisualizerGraphicItem-484"><span class="linenos">484</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-485"><a href="#VisualizerGraphicItem-485"><span class="linenos">485</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-486"><a href="#VisualizerGraphicItem-486"><span class="linenos">486</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem-487"><a href="#VisualizerGraphicItem-487"><span class="linenos">487</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-488"><a href="#VisualizerGraphicItem-488"><span class="linenos">488</span></a>    
</span><span id="VisualizerGraphicItem-489"><a href="#VisualizerGraphicItem-489"><span class="linenos">489</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">time_step</span><span class="p">]</span>
</span><span id="VisualizerGraphicItem-490"><a href="#VisualizerGraphicItem-490"><span class="linenos">490</span></a>        <span class="k">return</span>
</span><span id="VisualizerGraphicItem-491"><a href="#VisualizerGraphicItem-491"><span class="linenos">491</span></a>        
</span><span id="VisualizerGraphicItem-492"><a href="#VisualizerGraphicItem-492"><span class="linenos">492</span></a>    <span class="k">def</span> <span class="nf">restart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-493"><a href="#VisualizerGraphicItem-493"><span class="linenos">493</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-494"><a href="#VisualizerGraphicItem-494"><span class="linenos">494</span></a><span class="sd">        Resets the item to its original values.</span>
</span><span id="VisualizerGraphicItem-495"><a href="#VisualizerGraphicItem-495"><span class="linenos">495</span></a><span class="sd">        Sets the items position to its starting position.</span>
</span><span id="VisualizerGraphicItem-496"><a href="#VisualizerGraphicItem-496"><span class="linenos">496</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-497"><a href="#VisualizerGraphicItem-497"><span class="linenos">497</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span>
</span><span id="VisualizerGraphicItem-498"><a href="#VisualizerGraphicItem-498"><span class="linenos">498</span></a>
</span><span id="VisualizerGraphicItem-499"><a href="#VisualizerGraphicItem-499"><span class="linenos">499</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-500"><a href="#VisualizerGraphicItem-500"><span class="linenos">500</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-501"><a href="#VisualizerGraphicItem-501"><span class="linenos">501</span></a><span class="sd">        Resets the item to its original values. This function will be called for every item if </span>
</span><span id="VisualizerGraphicItem-502"><a href="#VisualizerGraphicItem-502"><span class="linenos">502</span></a><span class="sd">        the Button &quot;RESET&quot; in the GUI is pressed</span>
</span><span id="VisualizerGraphicItem-503"><a href="#VisualizerGraphicItem-503"><span class="linenos">503</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-504"><a href="#VisualizerGraphicItem-504"><span class="linenos">504</span></a>        <span class="k">return</span> 
</span><span id="VisualizerGraphicItem-505"><a href="#VisualizerGraphicItem-505"><span class="linenos">505</span></a>
</span><span id="VisualizerGraphicItem-506"><a href="#VisualizerGraphicItem-506"><span class="linenos">506</span></a>
</span><span id="VisualizerGraphicItem-507"><a href="#VisualizerGraphicItem-507"><span class="linenos">507</span></a>    <span class="c1">#MOVE / DRAG</span>
</span><span id="VisualizerGraphicItem-508"><a href="#VisualizerGraphicItem-508"><span class="linenos">508</span></a>    <span class="k">def</span> <span class="nf">edit_position_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-509"><a href="#VisualizerGraphicItem-509"><span class="linenos">509</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-510"><a href="#VisualizerGraphicItem-510"><span class="linenos">510</span></a><span class="sd">        Sets a new starting position and new current position for an </span>
</span><span id="VisualizerGraphicItem-511"><a href="#VisualizerGraphicItem-511"><span class="linenos">511</span></a><span class="sd">        item. If an item of the same kind is already on the same position</span>
</span><span id="VisualizerGraphicItem-512"><a href="#VisualizerGraphicItem-512"><span class="linenos">512</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="VisualizerGraphicItem-513"><a href="#VisualizerGraphicItem-513"><span class="linenos">513</span></a><span class="sd">        the drag and drop feature.</span>
</span><span id="VisualizerGraphicItem-514"><a href="#VisualizerGraphicItem-514"><span class="linenos">514</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-515"><a href="#VisualizerGraphicItem-515"><span class="linenos">515</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-516"><a href="#VisualizerGraphicItem-516"><span class="linenos">516</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem-517"><a href="#VisualizerGraphicItem-517"><span class="linenos">517</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-518"><a href="#VisualizerGraphicItem-518"><span class="linenos">518</span></a>        
</span><span id="VisualizerGraphicItem-519"><a href="#VisualizerGraphicItem-519"><span class="linenos">519</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-520"><a href="#VisualizerGraphicItem-520"><span class="linenos">520</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem-521"><a href="#VisualizerGraphicItem-521"><span class="linenos">521</span></a>        <span class="n">item2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">filter_items</span><span class="p">(</span><span class="n">item_kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">,</span>
</span><span id="VisualizerGraphicItem-522"><a href="#VisualizerGraphicItem-522"><span class="linenos">522</span></a>                                        <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>
</span><span id="VisualizerGraphicItem-523"><a href="#VisualizerGraphicItem-523"><span class="linenos">523</span></a>                                        <span class="n">return_first</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="VisualizerGraphicItem-524"><a href="#VisualizerGraphicItem-524"><span class="linenos">524</span></a>        <span class="k">if</span> <span class="n">item2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem-525"><a href="#VisualizerGraphicItem-525"><span class="linenos">525</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem-526"><a href="#VisualizerGraphicItem-526"><span class="linenos">526</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span>
</span><span id="VisualizerGraphicItem-527"><a href="#VisualizerGraphicItem-527"><span class="linenos">527</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
</span><span id="VisualizerGraphicItem-528"><a href="#VisualizerGraphicItem-528"><span class="linenos">528</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem-529"><a href="#VisualizerGraphicItem-529"><span class="linenos">529</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">clear_actions</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-530"><a href="#VisualizerGraphicItem-530"><span class="linenos">530</span></a>        
</span><span id="VisualizerGraphicItem-531"><a href="#VisualizerGraphicItem-531"><span class="linenos">531</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-532"><a href="#VisualizerGraphicItem-532"><span class="linenos">532</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem-533"><a href="#VisualizerGraphicItem-533"><span class="linenos">533</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-534"><a href="#VisualizerGraphicItem-534"><span class="linenos">534</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">mapf_reset_connection</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-535"><a href="#VisualizerGraphicItem-535"><span class="linenos">535</span></a>
</span><span id="VisualizerGraphicItem-536"><a href="#VisualizerGraphicItem-536"><span class="linenos">536</span></a>    <span class="k">def</span> <span class="nf">enable_drag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-537"><a href="#VisualizerGraphicItem-537"><span class="linenos">537</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-538"><a href="#VisualizerGraphicItem-538"><span class="linenos">538</span></a><span class="sd">        Enables and disables the drag and drop feature for the</span>
</span><span id="VisualizerGraphicItem-539"><a href="#VisualizerGraphicItem-539"><span class="linenos">539</span></a><span class="sd">        model editor.</span>
</span><span id="VisualizerGraphicItem-540"><a href="#VisualizerGraphicItem-540"><span class="linenos">540</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem-541"><a href="#VisualizerGraphicItem-541"><span class="linenos">541</span></a><span class="sd">        :param enable: bool  -   enable or disable drag &amp; drop</span>
</span><span id="VisualizerGraphicItem-542"><a href="#VisualizerGraphicItem-542"><span class="linenos">542</span></a><span class="sd">        &quot;&quot;&quot;</span>     
</span><span id="VisualizerGraphicItem-543"><a href="#VisualizerGraphicItem-543"><span class="linenos">543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span> <span class="o">=</span> <span class="n">enable</span>
</span><span id="VisualizerGraphicItem-544"><a href="#VisualizerGraphicItem-544"><span class="linenos">544</span></a>
</span><span id="VisualizerGraphicItem-545"><a href="#VisualizerGraphicItem-545"><span class="linenos">545</span></a>    <span class="k">def</span> <span class="nf">boundingRect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-546"><a href="#VisualizerGraphicItem-546"><span class="linenos">546</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-547"><a href="#VisualizerGraphicItem-547"><span class="linenos">547</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem-548"><a href="#VisualizerGraphicItem-548"><span class="linenos">548</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-549"><a href="#VisualizerGraphicItem-549"><span class="linenos">549</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">boundingRect</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem-550"><a href="#VisualizerGraphicItem-550"><span class="linenos">550</span></a>
</span><span id="VisualizerGraphicItem-551"><a href="#VisualizerGraphicItem-551"><span class="linenos">551</span></a>
</span><span id="VisualizerGraphicItem-552"><a href="#VisualizerGraphicItem-552"><span class="linenos">552</span></a>    <span class="c1">#ROS2 FUNCTIONS</span>
</span><span id="VisualizerGraphicItem-553"><a href="#VisualizerGraphicItem-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">ros_publish_message_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem-554"><a href="#VisualizerGraphicItem-554"><span class="linenos">554</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-555"><a href="#VisualizerGraphicItem-555"><span class="linenos">555</span></a><span class="sd">        Must be implemented for items which should publish the information about itself through ROS2 interfaces.</span>
</span><span id="VisualizerGraphicItem-556"><a href="#VisualizerGraphicItem-556"><span class="linenos">556</span></a><span class="sd">        This function will be called by the model every time an item does an action forward and has to publish</span>
</span><span id="VisualizerGraphicItem-557"><a href="#VisualizerGraphicItem-557"><span class="linenos">557</span></a><span class="sd">        the updated information about itself.</span>
</span><span id="VisualizerGraphicItem-558"><a href="#VisualizerGraphicItem-558"><span class="linenos">558</span></a>
</span><span id="VisualizerGraphicItem-559"><a href="#VisualizerGraphicItem-559"><span class="linenos">559</span></a><span class="sd">        :param msg_id:      int  -   The id of the current cycle (sim-&gt;controller-&gt;planner-&gt;controller-&gt;sim)</span>
</span><span id="VisualizerGraphicItem-560"><a href="#VisualizerGraphicItem-560"><span class="linenos">560</span></a><span class="sd">        :param time_step:   int  -   Sets the time step in the published message (msg.step = time_step)</span>
</span><span id="VisualizerGraphicItem-561"><a href="#VisualizerGraphicItem-561"><span class="linenos">561</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem-562"><a href="#VisualizerGraphicItem-562"><span class="linenos">562</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>This is the template class for visualizer graphic items.
    There should never be an instance of this class.
    A visualizer graphic item is a part of the visualizer model
    that is drawn on the model view and can perform actions.</p>

<pre><code>**Attributes**:
-   **_kind_name**: str         -   The name of this kind of object.
-   **_ID**: int                -   The id of this object.
-   **_model**: model.Model     -   The model this object belongs to
-   **_position**: tuple        -   A tuple that consists of two integers representing
                                    the position of the item on the grid.
-   **_start_position**: tuple  -   The position of this item at timestep 0.
-   **_dragged**: tuple         -   This is the position of this item before a drag
                                    action started.
-   **_enable_drag**: bool      -   This is true if drag and drop is enabled for this item.        
                                    This will be set by the model. 
-   **_graphics_item**: QGraphicsItem - This is the main graphic item of this item
                                        and is used for some default functions.
-   **_text**: QGraphicsTextItem -  This is a text item that is drawn 
                                    on the model view and represents primarily the id of the item.
-   **_actions**: list          -   This is a sorted list of the actions of this item. The index
                                    of every action is the time step at which the action occurs.    
-   **_color**: QColor          -   The current main color of the item.
-   **_colors**: list           -   A list of QColor values. Contains several colors for multi-colored
                                    items and color interpolation.
-   **_display_mode**: int      -   This is set by the model view and determines whether
                                    the item text should be rendered and whether the item 
                                    should be rendered in the whole grid field.
                                    It is primarily defined by the zoom factor and the grid size.
-   **_draw_path**: bool        -   This is true if the driven path of the item should be drawn in the simulation. 
                                    Should only be used for items that can have a path like robots.
-   **_draw_future_path**: bool -   This is true if the calculated path for the item should be drawn in the simulation. 
                                    Should only be used for items that can have a path like robots.
-   **_draw_startpoint**: bool  -   This is true if the start point of the item should be drawn in the simulation. 
                                    Should only be used for items that can have a start point like robots.
-   **_state**: int             -   Consists of one or more state flags, that describes which action
                                    a item is currently doing.
-   **_highlighted**: bool      -   This is true if the item will be highlighted.
                                    Highlighted elements are displayed larger
</code></pre>

<p>.</p>
</div>


                            <div id="VisualizerGraphicItem.__init__" class="classattr">
                                        <input id="VisualizerGraphicItem.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">VisualizerGraphicItem</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ID</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">x</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">y</span><span class="o">=</span><span class="mi">0</span></span>)</span>

                <label class="view-source-button" for="VisualizerGraphicItem.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.__init__-115"><a href="#VisualizerGraphicItem.__init__-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.__init__-116"><a href="#VisualizerGraphicItem.__init__-116"><span class="linenos">116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.__init__-117"><a href="#VisualizerGraphicItem.__init__-117"><span class="linenos">117</span></a><span class="sd">        :param ID: int, optional    - The ID of the item</span>
</span><span id="VisualizerGraphicItem.__init__-118"><a href="#VisualizerGraphicItem.__init__-118"><span class="linenos">118</span></a><span class="sd">        :param x:  int, optional    - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.__init__-119"><a href="#VisualizerGraphicItem.__init__-119"><span class="linenos">119</span></a><span class="sd">        :param y:  int, optional    - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.__init__-120"><a href="#VisualizerGraphicItem.__init__-120"><span class="linenos">120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.__init__-121"><a href="#VisualizerGraphicItem.__init__-121"><span class="linenos">121</span></a>        <span class="n">QGraphicsItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.__init__-122"><a href="#VisualizerGraphicItem.__init__-122"><span class="linenos">122</span></a>        <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">visualizerItem</span><span class="o">.</span><span class="n">VisualizerItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.__init__-123"><a href="#VisualizerGraphicItem.__init__-123"><span class="linenos">123</span></a>
</span><span id="VisualizerGraphicItem.__init__-124"><a href="#VisualizerGraphicItem.__init__-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="VisualizerGraphicItem.__init__-125"><a href="#VisualizerGraphicItem.__init__-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">ID</span>
</span><span id="VisualizerGraphicItem.__init__-126"><a href="#VisualizerGraphicItem.__init__-126"><span class="linenos">126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.__init__-127"><a href="#VisualizerGraphicItem.__init__-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.__init__-128"><a href="#VisualizerGraphicItem.__init__-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.__init__-129"><a href="#VisualizerGraphicItem.__init__-129"><span class="linenos">129</span></a>
</span><span id="VisualizerGraphicItem.__init__-130"><a href="#VisualizerGraphicItem.__init__-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.__init__-131"><a href="#VisualizerGraphicItem.__init__-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem.__init__-132"><a href="#VisualizerGraphicItem.__init__-132"><span class="linenos">132</span></a>
</span><span id="VisualizerGraphicItem.__init__-133"><a href="#VisualizerGraphicItem.__init__-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="kc">None</span>  
</span><span id="VisualizerGraphicItem.__init__-134"><a href="#VisualizerGraphicItem.__init__-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.__init__-135"><a href="#VisualizerGraphicItem.__init__-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.__init__-136"><a href="#VisualizerGraphicItem.__init__-136"><span class="linenos">136</span></a>            
</span><span id="VisualizerGraphicItem.__init__-137"><a href="#VisualizerGraphicItem.__init__-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem.__init__-138"><a href="#VisualizerGraphicItem.__init__-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem.__init__-139"><a href="#VisualizerGraphicItem.__init__-139"><span class="linenos">139</span></a>
</span><span id="VisualizerGraphicItem.__init__-140"><a href="#VisualizerGraphicItem.__init__-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.__init__-141"><a href="#VisualizerGraphicItem.__init__-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
</span><span id="VisualizerGraphicItem.__init__-142"><a href="#VisualizerGraphicItem.__init__-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="VisualizerGraphicItem.__init__-143"><a href="#VisualizerGraphicItem.__init__-143"><span class="linenos">143</span></a>
</span><span id="VisualizerGraphicItem.__init__-144"><a href="#VisualizerGraphicItem.__init__-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem.__init__-145"><a href="#VisualizerGraphicItem.__init__-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem.__init__-146"><a href="#VisualizerGraphicItem.__init__-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="VisualizerGraphicItem.__init__-147"><a href="#VisualizerGraphicItem.__init__-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setAcceptedMouseButtons</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">MouseButtons</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</span><span id="VisualizerGraphicItem.__init__-148"><a href="#VisualizerGraphicItem.__init__-148"><span class="linenos">148</span></a>
</span><span id="VisualizerGraphicItem.__init__-149"><a href="#VisualizerGraphicItem.__init__-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="mh">0x00</span>
</span><span id="VisualizerGraphicItem.__init__-150"><a href="#VisualizerGraphicItem.__init__-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ID</strong>:  int, optional    - The ID of the item</li>
<li><strong>x</strong>:   int, optional    - The x coordinate on the grid</li>
<li><strong>y</strong>:   int, optional    - The y coordinate on the grid</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_starting_position" class="classattr">
                                        <input id="VisualizerGraphicItem.set_starting_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_starting_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_starting_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_starting_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_starting_position-154"><a href="#VisualizerGraphicItem.set_starting_position-154"><span class="linenos">154</span></a>    <span class="k">def</span> <span class="nf">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_starting_position-155"><a href="#VisualizerGraphicItem.set_starting_position-155"><span class="linenos">155</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_starting_position-156"><a href="#VisualizerGraphicItem.set_starting_position-156"><span class="linenos">156</span></a><span class="sd">        Sets the starting position of an item.</span>
</span><span id="VisualizerGraphicItem.set_starting_position-157"><a href="#VisualizerGraphicItem.set_starting_position-157"><span class="linenos">157</span></a>
</span><span id="VisualizerGraphicItem.set_starting_position-158"><a href="#VisualizerGraphicItem.set_starting_position-158"><span class="linenos">158</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.set_starting_position-159"><a href="#VisualizerGraphicItem.set_starting_position-159"><span class="linenos">159</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.set_starting_position-160"><a href="#VisualizerGraphicItem.set_starting_position-160"><span class="linenos">160</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_starting_position-161"><a href="#VisualizerGraphicItem.set_starting_position-161"><span class="linenos">161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the starting position of an item.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x</strong>:   int      - The x coordinate on the grid</li>
<li><strong>y</strong>:   int      - The y coordinate on the grid</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_position" class="classattr">
                                        <input id="VisualizerGraphicItem.set_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_position-163"><a href="#VisualizerGraphicItem.set_position-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">set_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_position-164"><a href="#VisualizerGraphicItem.set_position-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_position-165"><a href="#VisualizerGraphicItem.set_position-165"><span class="linenos">165</span></a><span class="sd">        Sets the current position of an item.</span>
</span><span id="VisualizerGraphicItem.set_position-166"><a href="#VisualizerGraphicItem.set_position-166"><span class="linenos">166</span></a>
</span><span id="VisualizerGraphicItem.set_position-167"><a href="#VisualizerGraphicItem.set_position-167"><span class="linenos">167</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.set_position-168"><a href="#VisualizerGraphicItem.set_position-168"><span class="linenos">168</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.set_position-169"><a href="#VisualizerGraphicItem.set_position-169"><span class="linenos">169</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_position-170"><a href="#VisualizerGraphicItem.set_position-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the current position of an item.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x</strong>:   int      - The x coordinate on the grid</li>
<li><strong>y</strong>:   int      - The y coordinate on the grid</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_color" class="classattr">
                                        <input id="VisualizerGraphicItem.set_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">color</span>, </span><span class="param"><span class="n">color_id</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_color-172"><a href="#VisualizerGraphicItem.set_color-172"><span class="linenos">172</span></a>    <span class="k">def</span> <span class="nf">set_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">color_id</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_color-173"><a href="#VisualizerGraphicItem.set_color-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_color-174"><a href="#VisualizerGraphicItem.set_color-174"><span class="linenos">174</span></a><span class="sd">        Sets a specific color of an item.</span>
</span><span id="VisualizerGraphicItem.set_color-175"><a href="#VisualizerGraphicItem.set_color-175"><span class="linenos">175</span></a>
</span><span id="VisualizerGraphicItem.set_color-176"><a href="#VisualizerGraphicItem.set_color-176"><span class="linenos">176</span></a><span class="sd">        :param color: QColor    - The color</span>
</span><span id="VisualizerGraphicItem.set_color-177"><a href="#VisualizerGraphicItem.set_color-177"><span class="linenos">177</span></a><span class="sd">        :param color_id:  int   - The id of the color that will be set</span>
</span><span id="VisualizerGraphicItem.set_color-178"><a href="#VisualizerGraphicItem.set_color-178"><span class="linenos">178</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_color-179"><a href="#VisualizerGraphicItem.set_color-179"><span class="linenos">179</span></a>        <span class="k">while</span> <span class="n">color_id</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_color-180"><a href="#VisualizerGraphicItem.set_color-180"><span class="linenos">180</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span><span id="VisualizerGraphicItem.set_color-181"><a href="#VisualizerGraphicItem.set_color-181"><span class="linenos">181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="n">color_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
</span></pre></div>


            <div class="docstring"><p>Sets a specific color of an item.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>color</strong>:  QColor    - The color</li>
<li><strong>color_id</strong>:   int   - The id of the color that will be set</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_rect" class="classattr">
                                        <input id="VisualizerGraphicItem.set_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">rect</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_rect-183"><a href="#VisualizerGraphicItem.set_rect-183"><span class="linenos">183</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_rect-184"><a href="#VisualizerGraphicItem.set_rect-184"><span class="linenos">184</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_rect-185"><a href="#VisualizerGraphicItem.set_rect-185"><span class="linenos">185</span></a><span class="sd">        Sets the rectangle that an item can use to draw things in.</span>
</span><span id="VisualizerGraphicItem.set_rect-186"><a href="#VisualizerGraphicItem.set_rect-186"><span class="linenos">186</span></a><span class="sd">        This equals usually one field of the grid in the model view.</span>
</span><span id="VisualizerGraphicItem.set_rect-187"><a href="#VisualizerGraphicItem.set_rect-187"><span class="linenos">187</span></a><span class="sd">        This function usually defines the appearance of an item</span>
</span><span id="VisualizerGraphicItem.set_rect-188"><a href="#VisualizerGraphicItem.set_rect-188"><span class="linenos">188</span></a><span class="sd">        on the grid.</span>
</span><span id="VisualizerGraphicItem.set_rect-189"><a href="#VisualizerGraphicItem.set_rect-189"><span class="linenos">189</span></a>
</span><span id="VisualizerGraphicItem.set_rect-190"><a href="#VisualizerGraphicItem.set_rect-190"><span class="linenos">190</span></a><span class="sd">        :param rect: QtCore.QRect   - The rectangle that an item can use to draw things in.</span>
</span><span id="VisualizerGraphicItem.set_rect-191"><a href="#VisualizerGraphicItem.set_rect-191"><span class="linenos">191</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_rect-192"><a href="#VisualizerGraphicItem.set_rect-192"><span class="linenos">192</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Sets the rectangle that an item can use to draw things in.
This equals usually one field of the grid in the model view.
This function usually defines the appearance of an item
on the grid.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>rect</strong>:  QtCore.QRect   - The rectangle that an item can use to draw things in.</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_action" class="classattr">
                                        <input id="VisualizerGraphicItem.set_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">action</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_action-194"><a href="#VisualizerGraphicItem.set_action-194"><span class="linenos">194</span></a>    <span class="k">def</span> <span class="nf">set_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_action-195"><a href="#VisualizerGraphicItem.set_action-195"><span class="linenos">195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_action-196"><a href="#VisualizerGraphicItem.set_action-196"><span class="linenos">196</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="VisualizerGraphicItem.set_action-197"><a href="#VisualizerGraphicItem.set_action-197"><span class="linenos">197</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="VisualizerGraphicItem.set_action-198"><a href="#VisualizerGraphicItem.set_action-198"><span class="linenos">198</span></a><span class="sd">        a warning since this should never happen.</span>
</span><span id="VisualizerGraphicItem.set_action-199"><a href="#VisualizerGraphicItem.set_action-199"><span class="linenos">199</span></a>
</span><span id="VisualizerGraphicItem.set_action-200"><a href="#VisualizerGraphicItem.set_action-200"><span class="linenos">200</span></a><span class="sd">        :param action:      mapf_simulation.action.Action   -   This is the action that will be performed.</span>
</span><span id="VisualizerGraphicItem.set_action-201"><a href="#VisualizerGraphicItem.set_action-201"><span class="linenos">201</span></a><span class="sd">        :param time_step:   int                             -   This is the time step at which the action should be performed.</span>
</span><span id="VisualizerGraphicItem.set_action-202"><a href="#VisualizerGraphicItem.set_action-202"><span class="linenos">202</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_action-203"><a href="#VisualizerGraphicItem.set_action-203"><span class="linenos">203</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.set_action-204"><a href="#VisualizerGraphicItem.set_action-204"><span class="linenos">204</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: invalid time step in occurs(object(&#39;</span>
</span><span id="VisualizerGraphicItem.set_action-205"><a href="#VisualizerGraphicItem.set_action-205"><span class="linenos">205</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span>
</span><span id="VisualizerGraphicItem.set_action-206"><a href="#VisualizerGraphicItem.set_action-206"><span class="linenos">206</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;),&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.set_action-207"><a href="#VisualizerGraphicItem.set_action-207"><span class="linenos">207</span></a>                    <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">))</span>
</span><span id="VisualizerGraphicItem.set_action-208"><a href="#VisualizerGraphicItem.set_action-208"><span class="linenos">208</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time step is less than 0&#39;</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.set_action-209"><a href="#VisualizerGraphicItem.set_action-209"><span class="linenos">209</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.set_action-210"><a href="#VisualizerGraphicItem.set_action-210"><span class="linenos">210</span></a>        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)):</span>
</span><span id="VisualizerGraphicItem.set_action-211"><a href="#VisualizerGraphicItem.set_action-211"><span class="linenos">211</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.set_action-212"><a href="#VisualizerGraphicItem.set_action-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.set_action-213"><a href="#VisualizerGraphicItem.set_action-213"><span class="linenos">213</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: for object(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.set_action-214"><a href="#VisualizerGraphicItem.set_action-214"><span class="linenos">214</span></a>                    <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.set_action-215"><a href="#VisualizerGraphicItem.set_action-215"><span class="linenos">215</span></a>                    <span class="o">+</span> <span class="s1">&#39;) multiple actions are defined at time step &#39;</span>
</span><span id="VisualizerGraphicItem.set_action-216"><a href="#VisualizerGraphicItem.set_action-216"><span class="linenos">216</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)))</span>
</span><span id="VisualizerGraphicItem.set_action-217"><a href="#VisualizerGraphicItem.set_action-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span>
</span></pre></div>


            <div class="docstring"><p>Sets the action for the specific time step.
Overrides existing actions at the time step but prints out
a warning since this should never happen.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>action</strong>:       <a href="action.html#Action">mapf_simulation.action.Action</a>   -   This is the action that will be performed.</li>
<li><strong>time_step</strong>:    int                             -   This is the time step at which the action should be performed.</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_display_mode" class="classattr">
                                        <input id="VisualizerGraphicItem.set_display_mode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_display_mode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">display_mode</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_display_mode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_display_mode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_display_mode-219"><a href="#VisualizerGraphicItem.set_display_mode-219"><span class="linenos">219</span></a>    <span class="k">def</span> <span class="nf">set_display_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_mode</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_display_mode-220"><a href="#VisualizerGraphicItem.set_display_mode-220"><span class="linenos">220</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_display_mode-221"><a href="#VisualizerGraphicItem.set_display_mode-221"><span class="linenos">221</span></a><span class="sd">        Sets the current display mode.</span>
</span><span id="VisualizerGraphicItem.set_display_mode-222"><a href="#VisualizerGraphicItem.set_display_mode-222"><span class="linenos">222</span></a>
</span><span id="VisualizerGraphicItem.set_display_mode-223"><a href="#VisualizerGraphicItem.set_display_mode-223"><span class="linenos">223</span></a><span class="sd">        :param display_mode: int   - display mode (usually 0 or 1)</span>
</span><span id="VisualizerGraphicItem.set_display_mode-224"><a href="#VisualizerGraphicItem.set_display_mode-224"><span class="linenos">224</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_display_mode-225"><a href="#VisualizerGraphicItem.set_display_mode-225"><span class="linenos">225</span></a>
</span><span id="VisualizerGraphicItem.set_display_mode-226"><a href="#VisualizerGraphicItem.set_display_mode-226"><span class="linenos">226</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">=</span>  <span class="n">display_mode</span>
</span></pre></div>


            <div class="docstring"><p>Sets the current display mode.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>display_mode</strong>:  int   - display mode (usually 0 or 1)</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_draw_path" class="classattr">
                                        <input id="VisualizerGraphicItem.set_draw_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_draw_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">draw_path</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_draw_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_draw_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_draw_path-228"><a href="#VisualizerGraphicItem.set_draw_path-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="nf">set_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_path</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_draw_path-229"><a href="#VisualizerGraphicItem.set_draw_path-229"><span class="linenos">229</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_draw_path-230"><a href="#VisualizerGraphicItem.set_draw_path-230"><span class="linenos">230</span></a><span class="sd">        Sets whether the driven path of the object should be drawn.</span>
</span><span id="VisualizerGraphicItem.set_draw_path-231"><a href="#VisualizerGraphicItem.set_draw_path-231"><span class="linenos">231</span></a>
</span><span id="VisualizerGraphicItem.set_draw_path-232"><a href="#VisualizerGraphicItem.set_draw_path-232"><span class="linenos">232</span></a><span class="sd">        :param draw_path: bool  -   True or False</span>
</span><span id="VisualizerGraphicItem.set_draw_path-233"><a href="#VisualizerGraphicItem.set_draw_path-233"><span class="linenos">233</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_draw_path-234"><a href="#VisualizerGraphicItem.set_draw_path-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="n">draw_path</span>
</span></pre></div>


            <div class="docstring"><p>Sets whether the driven path of the object should be drawn.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>draw_path</strong>:  bool  -   True or False</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_draw_future_path" class="classattr">
                                        <input id="VisualizerGraphicItem.set_draw_future_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_draw_future_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">draw_path</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_draw_future_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_draw_future_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_draw_future_path-236"><a href="#VisualizerGraphicItem.set_draw_future_path-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">set_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_path</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_draw_future_path-237"><a href="#VisualizerGraphicItem.set_draw_future_path-237"><span class="linenos">237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_draw_future_path-238"><a href="#VisualizerGraphicItem.set_draw_future_path-238"><span class="linenos">238</span></a><span class="sd">        Sets whether the calculated path for the object should be drawn.</span>
</span><span id="VisualizerGraphicItem.set_draw_future_path-239"><a href="#VisualizerGraphicItem.set_draw_future_path-239"><span class="linenos">239</span></a>
</span><span id="VisualizerGraphicItem.set_draw_future_path-240"><a href="#VisualizerGraphicItem.set_draw_future_path-240"><span class="linenos">240</span></a><span class="sd">        :param draw_path: bool  -   True or False</span>
</span><span id="VisualizerGraphicItem.set_draw_future_path-241"><a href="#VisualizerGraphicItem.set_draw_future_path-241"><span class="linenos">241</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_draw_future_path-242"><a href="#VisualizerGraphicItem.set_draw_future_path-242"><span class="linenos">242</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="n">draw_path</span>
</span></pre></div>


            <div class="docstring"><p>Sets whether the calculated path for the object should be drawn.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>draw_path</strong>:  bool  -   True or False</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_draw_start" class="classattr">
                                        <input id="VisualizerGraphicItem.set_draw_start-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_draw_start</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">draw_start</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_draw_start-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_draw_start"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_draw_start-244"><a href="#VisualizerGraphicItem.set_draw_start-244"><span class="linenos">244</span></a>    <span class="k">def</span> <span class="nf">set_draw_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">draw_start</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_draw_start-245"><a href="#VisualizerGraphicItem.set_draw_start-245"><span class="linenos">245</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_draw_start-246"><a href="#VisualizerGraphicItem.set_draw_start-246"><span class="linenos">246</span></a><span class="sd">        Sets whether the starting point of the object should be drawn. </span>
</span><span id="VisualizerGraphicItem.set_draw_start-247"><a href="#VisualizerGraphicItem.set_draw_start-247"><span class="linenos">247</span></a><span class="sd">        This is usually the case if the driven path should be drawn.</span>
</span><span id="VisualizerGraphicItem.set_draw_start-248"><a href="#VisualizerGraphicItem.set_draw_start-248"><span class="linenos">248</span></a>
</span><span id="VisualizerGraphicItem.set_draw_start-249"><a href="#VisualizerGraphicItem.set_draw_start-249"><span class="linenos">249</span></a><span class="sd">        :param draw_start: bool  -   True or False</span>
</span><span id="VisualizerGraphicItem.set_draw_start-250"><a href="#VisualizerGraphicItem.set_draw_start-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_draw_start-251"><a href="#VisualizerGraphicItem.set_draw_start-251"><span class="linenos">251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="n">draw_start</span>
</span></pre></div>


            <div class="docstring"><p>Sets whether the starting point of the object should be drawn. 
This is usually the case if the driven path should be drawn.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>draw_start</strong>:  bool  -   True or False</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.set_highlighted" class="classattr">
                                        <input id="VisualizerGraphicItem.set_highlighted-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_highlighted</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">highlighted</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.set_highlighted-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.set_highlighted"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.set_highlighted-253"><a href="#VisualizerGraphicItem.set_highlighted-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">set_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">highlighted</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.set_highlighted-254"><a href="#VisualizerGraphicItem.set_highlighted-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_highlighted-255"><a href="#VisualizerGraphicItem.set_highlighted-255"><span class="linenos">255</span></a><span class="sd">        Sets whether this item should be highlighted.</span>
</span><span id="VisualizerGraphicItem.set_highlighted-256"><a href="#VisualizerGraphicItem.set_highlighted-256"><span class="linenos">256</span></a>
</span><span id="VisualizerGraphicItem.set_highlighted-257"><a href="#VisualizerGraphicItem.set_highlighted-257"><span class="linenos">257</span></a><span class="sd">        :param highlighted: bool    -   True or False</span>
</span><span id="VisualizerGraphicItem.set_highlighted-258"><a href="#VisualizerGraphicItem.set_highlighted-258"><span class="linenos">258</span></a><span class="sd">        :return:    QtCore.QRect    -   The current rectangle of the object</span>
</span><span id="VisualizerGraphicItem.set_highlighted-259"><a href="#VisualizerGraphicItem.set_highlighted-259"><span class="linenos">259</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.set_highlighted-260"><a href="#VisualizerGraphicItem.set_highlighted-260"><span class="linenos">260</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="n">highlighted</span>
</span><span id="VisualizerGraphicItem.set_highlighted-261"><a href="#VisualizerGraphicItem.set_highlighted-261"><span class="linenos">261</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Sets whether this item should be highlighted.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>highlighted</strong>:  bool    -   True or False</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
<pre><code>QtCore.QRect    -   The current rectangle of the object
</code></pre>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_name" class="classattr">
                                        <input id="VisualizerGraphicItem.get_name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_name</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_name-265"><a href="#VisualizerGraphicItem.get_name-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_name-266"><a href="#VisualizerGraphicItem.get_name-266"><span class="linenos">266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_name-267"><a href="#VisualizerGraphicItem.get_name-267"><span class="linenos">267</span></a><span class="sd">        Returns the name of the item.</span>
</span><span id="VisualizerGraphicItem.get_name-268"><a href="#VisualizerGraphicItem.get_name-268"><span class="linenos">268</span></a>
</span><span id="VisualizerGraphicItem.get_name-269"><a href="#VisualizerGraphicItem.get_name-269"><span class="linenos">269</span></a><span class="sd">        :return: str    -   The name of this kind of object.</span>
</span><span id="VisualizerGraphicItem.get_name-270"><a href="#VisualizerGraphicItem.get_name-270"><span class="linenos">270</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_name-271"><a href="#VisualizerGraphicItem.get_name-271"><span class="linenos">271</span></a>
</span><span id="VisualizerGraphicItem.get_name-272"><a href="#VisualizerGraphicItem.get_name-272"><span class="linenos">272</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span>
</span></pre></div>


            <div class="docstring"><p>Returns the name of the item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>str    -   The name of this kind of object.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_position" class="classattr">
                                        <input id="VisualizerGraphicItem.get_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_position-274"><a href="#VisualizerGraphicItem.get_position-274"><span class="linenos">274</span></a>    <span class="k">def</span> <span class="nf">get_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_position-275"><a href="#VisualizerGraphicItem.get_position-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_position-276"><a href="#VisualizerGraphicItem.get_position-276"><span class="linenos">276</span></a><span class="sd">        Return the position of an item.</span>
</span><span id="VisualizerGraphicItem.get_position-277"><a href="#VisualizerGraphicItem.get_position-277"><span class="linenos">277</span></a>
</span><span id="VisualizerGraphicItem.get_position-278"><a href="#VisualizerGraphicItem.get_position-278"><span class="linenos">278</span></a><span class="sd">        :return: tuple  -   The position of this item</span>
</span><span id="VisualizerGraphicItem.get_position-279"><a href="#VisualizerGraphicItem.get_position-279"><span class="linenos">279</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_position-280"><a href="#VisualizerGraphicItem.get_position-280"><span class="linenos">280</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span>
</span></pre></div>


            <div class="docstring"><p>Return the position of an item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>tuple  -   The position of this item</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_start_position" class="classattr">
                                        <input id="VisualizerGraphicItem.get_start_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_start_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_start_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_start_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_start_position-282"><a href="#VisualizerGraphicItem.get_start_position-282"><span class="linenos">282</span></a>    <span class="k">def</span> <span class="nf">get_start_position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_start_position-283"><a href="#VisualizerGraphicItem.get_start_position-283"><span class="linenos">283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_start_position-284"><a href="#VisualizerGraphicItem.get_start_position-284"><span class="linenos">284</span></a><span class="sd">        Return the position of an item.</span>
</span><span id="VisualizerGraphicItem.get_start_position-285"><a href="#VisualizerGraphicItem.get_start_position-285"><span class="linenos">285</span></a>
</span><span id="VisualizerGraphicItem.get_start_position-286"><a href="#VisualizerGraphicItem.get_start_position-286"><span class="linenos">286</span></a><span class="sd">        :return: tuple  -   The start position of this item</span>
</span><span id="VisualizerGraphicItem.get_start_position-287"><a href="#VisualizerGraphicItem.get_start_position-287"><span class="linenos">287</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_start_position-288"><a href="#VisualizerGraphicItem.get_start_position-288"><span class="linenos">288</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span>
</span></pre></div>


            <div class="docstring"><p>Return the position of an item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>tuple  -   The start position of this item</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_color" class="classattr">
                                        <input id="VisualizerGraphicItem.get_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_color-301"><a href="#VisualizerGraphicItem.get_color-301"><span class="linenos">301</span></a>    <span class="k">def</span> <span class="nf">get_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_color-302"><a href="#VisualizerGraphicItem.get_color-302"><span class="linenos">302</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_color-303"><a href="#VisualizerGraphicItem.get_color-303"><span class="linenos">303</span></a><span class="sd">        Returns the current main color of an item.</span>
</span><span id="VisualizerGraphicItem.get_color-304"><a href="#VisualizerGraphicItem.get_color-304"><span class="linenos">304</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.get_color-305"><a href="#VisualizerGraphicItem.get_color-305"><span class="linenos">305</span></a><span class="sd">        :return: QtGui.QColor   -   The current main color of this item</span>
</span><span id="VisualizerGraphicItem.get_color-306"><a href="#VisualizerGraphicItem.get_color-306"><span class="linenos">306</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_color-307"><a href="#VisualizerGraphicItem.get_color-307"><span class="linenos">307</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
</span></pre></div>


            <div class="docstring"><p>Returns the current main color of an item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>QtGui.QColor   -   The current main color of this item</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_rect" class="classattr">
                                        <input id="VisualizerGraphicItem.get_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_rect-309"><a href="#VisualizerGraphicItem.get_rect-309"><span class="linenos">309</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_rect-310"><a href="#VisualizerGraphicItem.get_rect-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_rect-311"><a href="#VisualizerGraphicItem.get_rect-311"><span class="linenos">311</span></a><span class="sd">        Returns the current rectangle of an item.</span>
</span><span id="VisualizerGraphicItem.get_rect-312"><a href="#VisualizerGraphicItem.get_rect-312"><span class="linenos">312</span></a>
</span><span id="VisualizerGraphicItem.get_rect-313"><a href="#VisualizerGraphicItem.get_rect-313"><span class="linenos">313</span></a><span class="sd">        :return: QtCore.QRect   -   The current rectangle of this item</span>
</span><span id="VisualizerGraphicItem.get_rect-314"><a href="#VisualizerGraphicItem.get_rect-314"><span class="linenos">314</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_rect-315"><a href="#VisualizerGraphicItem.get_rect-315"><span class="linenos">315</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Returns the current rectangle of an item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>QtCore.QRect   -   The current rectangle of this item</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_action" class="classattr">
                                        <input id="VisualizerGraphicItem.get_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_action-317"><a href="#VisualizerGraphicItem.get_action-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">get_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_action-318"><a href="#VisualizerGraphicItem.get_action-318"><span class="linenos">318</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_action-319"><a href="#VisualizerGraphicItem.get_action-319"><span class="linenos">319</span></a><span class="sd">        Returns the action at a specific time step.</span>
</span><span id="VisualizerGraphicItem.get_action-320"><a href="#VisualizerGraphicItem.get_action-320"><span class="linenos">320</span></a><span class="sd">        Returns None if no action is defined for this time step.</span>
</span><span id="VisualizerGraphicItem.get_action-321"><a href="#VisualizerGraphicItem.get_action-321"><span class="linenos">321</span></a>
</span><span id="VisualizerGraphicItem.get_action-322"><a href="#VisualizerGraphicItem.get_action-322"><span class="linenos">322</span></a><span class="sd">        :param time_step:   int                      -   The time step for which the action should be returned.</span>
</span><span id="VisualizerGraphicItem.get_action-323"><a href="#VisualizerGraphicItem.get_action-323"><span class="linenos">323</span></a><span class="sd">        :return: **mapf_simulation.action.Action**   -   The action at a specific time step.</span>
</span><span id="VisualizerGraphicItem.get_action-324"><a href="#VisualizerGraphicItem.get_action-324"><span class="linenos">324</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_action-325"><a href="#VisualizerGraphicItem.get_action-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_action-326"><a href="#VisualizerGraphicItem.get_action-326"><span class="linenos">326</span></a>            <span class="k">return</span> <span class="kc">None</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="VisualizerGraphicItem.get_action-327"><a href="#VisualizerGraphicItem.get_action-327"><span class="linenos">327</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.get_action-328"><a href="#VisualizerGraphicItem.get_action-328"><span class="linenos">328</span></a>            <span class="k">return</span> <span class="kc">None</span>  <span class="c1">#break, if no action is defined     </span>
</span><span id="VisualizerGraphicItem.get_action-329"><a href="#VisualizerGraphicItem.get_action-329"><span class="linenos">329</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span>   
</span></pre></div>


            <div class="docstring"><p>Returns the action at a specific time step.
Returns None if no action is defined for this time step.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int                      -   The time step for which the action should be returned.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong><a href="action.html#Action">mapf_simulation.action.Action</a></strong>   -   The action at a specific time step.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_future_path" class="classattr">
                                        <input id="VisualizerGraphicItem.get_future_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_future_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_future_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_future_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_future_path-331"><a href="#VisualizerGraphicItem.get_future_path-331"><span class="linenos">331</span></a>    <span class="k">def</span> <span class="nf">get_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_future_path-332"><a href="#VisualizerGraphicItem.get_future_path-332"><span class="linenos">332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_future_path-333"><a href="#VisualizerGraphicItem.get_future_path-333"><span class="linenos">333</span></a><span class="sd">        Returns the calculated path for the item.</span>
</span><span id="VisualizerGraphicItem.get_future_path-334"><a href="#VisualizerGraphicItem.get_future_path-334"><span class="linenos">334</span></a>
</span><span id="VisualizerGraphicItem.get_future_path-335"><a href="#VisualizerGraphicItem.get_future_path-335"><span class="linenos">335</span></a><span class="sd">        :return: list of **mapf_interfaces.msg.Position**   -   The calculated path for this item.</span>
</span><span id="VisualizerGraphicItem.get_future_path-336"><a href="#VisualizerGraphicItem.get_future_path-336"><span class="linenos">336</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_future_path-337"><a href="#VisualizerGraphicItem.get_future_path-337"><span class="linenos">337</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span>
</span></pre></div>


            <div class="docstring"><p>Returns the calculated path for the item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of <strong>mapf_interfaces.msg.Position</strong>   -   The calculated path for this item.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_state" class="classattr">
                                        <input id="VisualizerGraphicItem.get_state-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_state</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_state-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_state"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_state-339"><a href="#VisualizerGraphicItem.get_state-339"><span class="linenos">339</span></a>    <span class="k">def</span> <span class="nf">get_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_state-340"><a href="#VisualizerGraphicItem.get_state-340"><span class="linenos">340</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_state-341"><a href="#VisualizerGraphicItem.get_state-341"><span class="linenos">341</span></a><span class="sd">        Returns the current state of the item.</span>
</span><span id="VisualizerGraphicItem.get_state-342"><a href="#VisualizerGraphicItem.get_state-342"><span class="linenos">342</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.get_state-343"><a href="#VisualizerGraphicItem.get_state-343"><span class="linenos">343</span></a><span class="sd">        :return: 0x00, VIZ_STATE_MOVED, VIZ_STATE_MOVE, VIZ_STATE_ACTION ...</span>
</span><span id="VisualizerGraphicItem.get_state-344"><a href="#VisualizerGraphicItem.get_state-344"><span class="linenos">344</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_state-345"><a href="#VisualizerGraphicItem.get_state-345"><span class="linenos">345</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span>
</span></pre></div>


            <div class="docstring"><p>Returns the current state of the item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>0x00, VIZ_STATE_MOVED, VIZ_STATE_MOVE, VIZ_STATE_ACTION ...</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_draw_path" class="classattr">
                                        <input id="VisualizerGraphicItem.get_draw_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_draw_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_draw_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_draw_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_draw_path-347"><a href="#VisualizerGraphicItem.get_draw_path-347"><span class="linenos">347</span></a>    <span class="k">def</span> <span class="nf">get_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_draw_path-348"><a href="#VisualizerGraphicItem.get_draw_path-348"><span class="linenos">348</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_draw_path-349"><a href="#VisualizerGraphicItem.get_draw_path-349"><span class="linenos">349</span></a><span class="sd">        Returns whether the path of this item should be drawn.</span>
</span><span id="VisualizerGraphicItem.get_draw_path-350"><a href="#VisualizerGraphicItem.get_draw_path-350"><span class="linenos">350</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.get_draw_path-351"><a href="#VisualizerGraphicItem.get_draw_path-351"><span class="linenos">351</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem.get_draw_path-352"><a href="#VisualizerGraphicItem.get_draw_path-352"><span class="linenos">352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_draw_path-353"><a href="#VisualizerGraphicItem.get_draw_path-353"><span class="linenos">353</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the path of this item should be drawn.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_draw_future_path" class="classattr">
                                        <input id="VisualizerGraphicItem.get_draw_future_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_draw_future_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_draw_future_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_draw_future_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_draw_future_path-355"><a href="#VisualizerGraphicItem.get_draw_future_path-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="nf">get_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_draw_future_path-356"><a href="#VisualizerGraphicItem.get_draw_future_path-356"><span class="linenos">356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_draw_future_path-357"><a href="#VisualizerGraphicItem.get_draw_future_path-357"><span class="linenos">357</span></a><span class="sd">        Returns whether the future path of this item should be drawn.</span>
</span><span id="VisualizerGraphicItem.get_draw_future_path-358"><a href="#VisualizerGraphicItem.get_draw_future_path-358"><span class="linenos">358</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.get_draw_future_path-359"><a href="#VisualizerGraphicItem.get_draw_future_path-359"><span class="linenos">359</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem.get_draw_future_path-360"><a href="#VisualizerGraphicItem.get_draw_future_path-360"><span class="linenos">360</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_draw_future_path-361"><a href="#VisualizerGraphicItem.get_draw_future_path-361"><span class="linenos">361</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the future path of this item should be drawn.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_draw_startpoint" class="classattr">
                                        <input id="VisualizerGraphicItem.get_draw_startpoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_draw_startpoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_draw_startpoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_draw_startpoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_draw_startpoint-363"><a href="#VisualizerGraphicItem.get_draw_startpoint-363"><span class="linenos">363</span></a>    <span class="k">def</span> <span class="nf">get_draw_startpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_draw_startpoint-364"><a href="#VisualizerGraphicItem.get_draw_startpoint-364"><span class="linenos">364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_draw_startpoint-365"><a href="#VisualizerGraphicItem.get_draw_startpoint-365"><span class="linenos">365</span></a><span class="sd">        Returns whether the starting point of this item should be drawn.</span>
</span><span id="VisualizerGraphicItem.get_draw_startpoint-366"><a href="#VisualizerGraphicItem.get_draw_startpoint-366"><span class="linenos">366</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.get_draw_startpoint-367"><a href="#VisualizerGraphicItem.get_draw_startpoint-367"><span class="linenos">367</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem.get_draw_startpoint-368"><a href="#VisualizerGraphicItem.get_draw_startpoint-368"><span class="linenos">368</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_draw_startpoint-369"><a href="#VisualizerGraphicItem.get_draw_startpoint-369"><span class="linenos">369</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the starting point of this item should be drawn.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.get_highlighted" class="classattr">
                                        <input id="VisualizerGraphicItem.get_highlighted-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_highlighted</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.get_highlighted-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.get_highlighted"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.get_highlighted-371"><a href="#VisualizerGraphicItem.get_highlighted-371"><span class="linenos">371</span></a>    <span class="k">def</span> <span class="nf">get_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.get_highlighted-372"><a href="#VisualizerGraphicItem.get_highlighted-372"><span class="linenos">372</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_highlighted-373"><a href="#VisualizerGraphicItem.get_highlighted-373"><span class="linenos">373</span></a><span class="sd">        Returns whether the item should be highlighted.</span>
</span><span id="VisualizerGraphicItem.get_highlighted-374"><a href="#VisualizerGraphicItem.get_highlighted-374"><span class="linenos">374</span></a>
</span><span id="VisualizerGraphicItem.get_highlighted-375"><a href="#VisualizerGraphicItem.get_highlighted-375"><span class="linenos">375</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="VisualizerGraphicItem.get_highlighted-376"><a href="#VisualizerGraphicItem.get_highlighted-376"><span class="linenos">376</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.get_highlighted-377"><a href="#VisualizerGraphicItem.get_highlighted-377"><span class="linenos">377</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the item should be highlighted.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.mousePressEvent" class="classattr">
                                        <input id="VisualizerGraphicItem.mousePressEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mousePressEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.mousePressEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.mousePressEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.mousePressEvent-381"><a href="#VisualizerGraphicItem.mousePressEvent-381"><span class="linenos">381</span></a>    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-382"><a href="#VisualizerGraphicItem.mousePressEvent-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-383"><a href="#VisualizerGraphicItem.mousePressEvent-383"><span class="linenos">383</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-384"><a href="#VisualizerGraphicItem.mousePressEvent-384"><span class="linenos">384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-385"><a href="#VisualizerGraphicItem.mousePressEvent-385"><span class="linenos">385</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-386"><a href="#VisualizerGraphicItem.mousePressEvent-386"><span class="linenos">386</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-387"><a href="#VisualizerGraphicItem.mousePressEvent-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-388"><a href="#VisualizerGraphicItem.mousePressEvent-388"><span class="linenos">388</span></a>                             <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="VisualizerGraphicItem.mousePressEvent-389"><a href="#VisualizerGraphicItem.mousePressEvent-389"><span class="linenos">389</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This is a overridden QT function and used for drag and drop.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.mouseReleaseEvent" class="classattr">
                                        <input id="VisualizerGraphicItem.mouseReleaseEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mouseReleaseEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.mouseReleaseEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.mouseReleaseEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.mouseReleaseEvent-391"><a href="#VisualizerGraphicItem.mouseReleaseEvent-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-392"><a href="#VisualizerGraphicItem.mouseReleaseEvent-392"><span class="linenos">392</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-393"><a href="#VisualizerGraphicItem.mouseReleaseEvent-393"><span class="linenos">393</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-394"><a href="#VisualizerGraphicItem.mouseReleaseEvent-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-395"><a href="#VisualizerGraphicItem.mouseReleaseEvent-395"><span class="linenos">395</span></a>        <span class="n">model_view</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-396"><a href="#VisualizerGraphicItem.mouseReleaseEvent-396"><span class="linenos">396</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-397"><a href="#VisualizerGraphicItem.mouseReleaseEvent-397"><span class="linenos">397</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-398"><a href="#VisualizerGraphicItem.mouseReleaseEvent-398"><span class="linenos">398</span></a>            <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">views</span><span class="p">():</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-399"><a href="#VisualizerGraphicItem.mouseReleaseEvent-399"><span class="linenos">399</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">modelView</span><span class="o">.</span><span class="n">ModelView</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-400"><a href="#VisualizerGraphicItem.mouseReleaseEvent-400"><span class="linenos">400</span></a>                    <span class="n">model_view</span> <span class="o">=</span> <span class="n">view</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-401"><a href="#VisualizerGraphicItem.mouseReleaseEvent-401"><span class="linenos">401</span></a>        <span class="k">if</span> <span class="n">model_view</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-402"><a href="#VisualizerGraphicItem.mouseReleaseEvent-402"><span class="linenos">402</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-403"><a href="#VisualizerGraphicItem.mouseReleaseEvent-403"><span class="linenos">403</span></a>        <span class="n">node</span> <span class="o">=</span> <span class="n">model_view</span><span class="o">.</span><span class="n">scene_coordinates_to_node</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-404"><a href="#VisualizerGraphicItem.mouseReleaseEvent-404"><span class="linenos">404</span></a>                                                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-405"><a href="#VisualizerGraphicItem.mouseReleaseEvent-405"><span class="linenos">405</span></a>        
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-406"><a href="#VisualizerGraphicItem.mouseReleaseEvent-406"><span class="linenos">406</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-407"><a href="#VisualizerGraphicItem.mouseReleaseEvent-407"><span class="linenos">407</span></a>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-408"><a href="#VisualizerGraphicItem.mouseReleaseEvent-408"><span class="linenos">408</span></a>        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-409"><a href="#VisualizerGraphicItem.mouseReleaseEvent-409"><span class="linenos">409</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">edit_position_to</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-410"><a href="#VisualizerGraphicItem.mouseReleaseEvent-410"><span class="linenos">410</span></a>        
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-411"><a href="#VisualizerGraphicItem.mouseReleaseEvent-411"><span class="linenos">411</span></a>        <span class="n">model_view</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem.mouseReleaseEvent-412"><a href="#VisualizerGraphicItem.mouseReleaseEvent-412"><span class="linenos">412</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This is a overridden QT function and used for drag and drop.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.mouseMoveEvent" class="classattr">
                                        <input id="VisualizerGraphicItem.mouseMoveEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mouseMoveEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.mouseMoveEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.mouseMoveEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.mouseMoveEvent-414"><a href="#VisualizerGraphicItem.mouseMoveEvent-414"><span class="linenos">414</span></a>    <span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-415"><a href="#VisualizerGraphicItem.mouseMoveEvent-415"><span class="linenos">415</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-416"><a href="#VisualizerGraphicItem.mouseMoveEvent-416"><span class="linenos">416</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-417"><a href="#VisualizerGraphicItem.mouseMoveEvent-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-418"><a href="#VisualizerGraphicItem.mouseMoveEvent-418"><span class="linenos">418</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-419"><a href="#VisualizerGraphicItem.mouseMoveEvent-419"><span class="linenos">419</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-420"><a href="#VisualizerGraphicItem.mouseMoveEvent-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
</span><span id="VisualizerGraphicItem.mouseMoveEvent-421"><a href="#VisualizerGraphicItem.mouseMoveEvent-421"><span class="linenos">421</span></a>                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem.mouseMoveEvent-422"><a href="#VisualizerGraphicItem.mouseMoveEvent-422"><span class="linenos">422</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This is a overridden QT function and used for drag and drop.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.determine_color" class="classattr">
                                        <input id="VisualizerGraphicItem.determine_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">determine_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">number</span>, </span><span class="param"><span class="n">count</span>, </span><span class="param"><span class="n">pattern</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.determine_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.determine_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.determine_color-426"><a href="#VisualizerGraphicItem.determine_color-426"><span class="linenos">426</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.determine_color-427"><a href="#VisualizerGraphicItem.determine_color-427"><span class="linenos">427</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.determine_color-428"><a href="#VisualizerGraphicItem.determine_color-428"><span class="linenos">428</span></a><span class="sd">        Determines the color of an item dependent on its number.</span>
</span><span id="VisualizerGraphicItem.determine_color-429"><a href="#VisualizerGraphicItem.determine_color-429"><span class="linenos">429</span></a>
</span><span id="VisualizerGraphicItem.determine_color-430"><a href="#VisualizerGraphicItem.determine_color-430"><span class="linenos">430</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="VisualizerGraphicItem.determine_color-431"><a href="#VisualizerGraphicItem.determine_color-431"><span class="linenos">431</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="VisualizerGraphicItem.determine_color-432"><a href="#VisualizerGraphicItem.determine_color-432"><span class="linenos">432</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="VisualizerGraphicItem.determine_color-433"><a href="#VisualizerGraphicItem.determine_color-433"><span class="linenos">433</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="VisualizerGraphicItem.determine_color-434"><a href="#VisualizerGraphicItem.determine_color-434"><span class="linenos">434</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.determine_color-435"><a href="#VisualizerGraphicItem.determine_color-435"><span class="linenos">435</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Determines the color of an item dependent on its number.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>number</strong>:  int  -   The number of this item in the models sequence. 
This does not necessarily have to be the ID of the item.</li>
<li><strong>count</strong>:  int   -   The maximal count of all items in the model of this kind.</li>
<li><strong>pattern</strong>:  int -   Not used.</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.paint" class="classattr">
                                        <input id="VisualizerGraphicItem.paint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">paint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">painter</span>, </span><span class="param"><span class="n">option</span>, </span><span class="param"><span class="n">widget</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.paint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.paint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.paint-437"><a href="#VisualizerGraphicItem.paint-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.paint-438"><a href="#VisualizerGraphicItem.paint-438"><span class="linenos">438</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.paint-439"><a href="#VisualizerGraphicItem.paint-439"><span class="linenos">439</span></a><span class="sd">        This is a overridden QT function.</span>
</span><span id="VisualizerGraphicItem.paint-440"><a href="#VisualizerGraphicItem.paint-440"><span class="linenos">440</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.paint-441"><a href="#VisualizerGraphicItem.paint-441"><span class="linenos">441</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">paint</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>This is a overridden QT function.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.do_action" class="classattr">
                                        <input id="VisualizerGraphicItem.do_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">do_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.do_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.do_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.do_action-445"><a href="#VisualizerGraphicItem.do_action-445"><span class="linenos">445</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.do_action-446"><a href="#VisualizerGraphicItem.do_action-446"><span class="linenos">446</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.do_action-447"><a href="#VisualizerGraphicItem.do_action-447"><span class="linenos">447</span></a><span class="sd">        Action handler. Must be implemented for items</span>
</span><span id="VisualizerGraphicItem.do_action-448"><a href="#VisualizerGraphicItem.do_action-448"><span class="linenos">448</span></a><span class="sd">        which can perform actions. This function will be called</span>
</span><span id="VisualizerGraphicItem.do_action-449"><a href="#VisualizerGraphicItem.do_action-449"><span class="linenos">449</span></a><span class="sd">        every time the model does one time step forward.</span>
</span><span id="VisualizerGraphicItem.do_action-450"><a href="#VisualizerGraphicItem.do_action-450"><span class="linenos">450</span></a>
</span><span id="VisualizerGraphicItem.do_action-451"><a href="#VisualizerGraphicItem.do_action-451"><span class="linenos">451</span></a><span class="sd">        :param time_step:   int     -   The time step for which the action should be executed.</span>
</span><span id="VisualizerGraphicItem.do_action-452"><a href="#VisualizerGraphicItem.do_action-452"><span class="linenos">452</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.do_action-453"><a href="#VisualizerGraphicItem.do_action-453"><span class="linenos">453</span></a>
</span><span id="VisualizerGraphicItem.do_action-454"><a href="#VisualizerGraphicItem.do_action-454"><span class="linenos">454</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Action handler. Must be implemented for items
which can perform actions. This function will be called
every time the model does one time step forward.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int     -   The time step for which the action should be executed.</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.undo_action" class="classattr">
                                        <input id="VisualizerGraphicItem.undo_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">undo_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.undo_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.undo_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.undo_action-456"><a href="#VisualizerGraphicItem.undo_action-456"><span class="linenos">456</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.undo_action-457"><a href="#VisualizerGraphicItem.undo_action-457"><span class="linenos">457</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.undo_action-458"><a href="#VisualizerGraphicItem.undo_action-458"><span class="linenos">458</span></a><span class="sd">        Reverse action handler. Must be implemented for items</span>
</span><span id="VisualizerGraphicItem.undo_action-459"><a href="#VisualizerGraphicItem.undo_action-459"><span class="linenos">459</span></a><span class="sd">        which can perform actions. This function will be called </span>
</span><span id="VisualizerGraphicItem.undo_action-460"><a href="#VisualizerGraphicItem.undo_action-460"><span class="linenos">460</span></a><span class="sd">        every time the model does one time step backwards.</span>
</span><span id="VisualizerGraphicItem.undo_action-461"><a href="#VisualizerGraphicItem.undo_action-461"><span class="linenos">461</span></a>
</span><span id="VisualizerGraphicItem.undo_action-462"><a href="#VisualizerGraphicItem.undo_action-462"><span class="linenos">462</span></a><span class="sd">        :param time_step:   int     -   The time step for which the action should be reversed.</span>
</span><span id="VisualizerGraphicItem.undo_action-463"><a href="#VisualizerGraphicItem.undo_action-463"><span class="linenos">463</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.undo_action-464"><a href="#VisualizerGraphicItem.undo_action-464"><span class="linenos">464</span></a>
</span><span id="VisualizerGraphicItem.undo_action-465"><a href="#VisualizerGraphicItem.undo_action-465"><span class="linenos">465</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Reverse action handler. Must be implemented for items
which can perform actions. This function will be called 
every time the model does one time step backwards.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int     -   The time step for which the action should be reversed.</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.clear_actions" class="classattr">
                                        <input id="VisualizerGraphicItem.clear_actions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear_actions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.clear_actions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.clear_actions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.clear_actions-467"><a href="#VisualizerGraphicItem.clear_actions-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">clear_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.clear_actions-468"><a href="#VisualizerGraphicItem.clear_actions-468"><span class="linenos">468</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.clear_actions-469"><a href="#VisualizerGraphicItem.clear_actions-469"><span class="linenos">469</span></a><span class="sd">        Deletes all actions for an object.</span>
</span><span id="VisualizerGraphicItem.clear_actions-470"><a href="#VisualizerGraphicItem.clear_actions-470"><span class="linenos">470</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.clear_actions-471"><a href="#VisualizerGraphicItem.clear_actions-471"><span class="linenos">471</span></a>
</span><span id="VisualizerGraphicItem.clear_actions-472"><a href="#VisualizerGraphicItem.clear_actions-472"><span class="linenos">472</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>


            <div class="docstring"><p>Deletes all actions for an object.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.clear_older_actions" class="classattr">
                                        <input id="VisualizerGraphicItem.clear_older_actions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear_older_actions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.clear_older_actions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.clear_older_actions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.clear_older_actions-474"><a href="#VisualizerGraphicItem.clear_older_actions-474"><span class="linenos">474</span></a>    <span class="k">def</span> <span class="nf">clear_older_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-475"><a href="#VisualizerGraphicItem.clear_older_actions-475"><span class="linenos">475</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-476"><a href="#VisualizerGraphicItem.clear_older_actions-476"><span class="linenos">476</span></a><span class="sd">        Deletes all actions for the given time step (self._actions[time_step]) </span>
</span><span id="VisualizerGraphicItem.clear_older_actions-477"><a href="#VisualizerGraphicItem.clear_older_actions-477"><span class="linenos">477</span></a><span class="sd">        and after the given time step (self._actions[i&gt;time_step]) for an object.</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-478"><a href="#VisualizerGraphicItem.clear_older_actions-478"><span class="linenos">478</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.clear_older_actions-479"><a href="#VisualizerGraphicItem.clear_older_actions-479"><span class="linenos">479</span></a><span class="sd">        :param time_step:   int -   Sets the steps (time&gt;=time_step) for which the actions should be deleted.</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-480"><a href="#VisualizerGraphicItem.clear_older_actions-480"><span class="linenos">480</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-481"><a href="#VisualizerGraphicItem.clear_older_actions-481"><span class="linenos">481</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-482"><a href="#VisualizerGraphicItem.clear_older_actions-482"><span class="linenos">482</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-483"><a href="#VisualizerGraphicItem.clear_older_actions-483"><span class="linenos">483</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">time_step</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-484"><a href="#VisualizerGraphicItem.clear_older_actions-484"><span class="linenos">484</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-485"><a href="#VisualizerGraphicItem.clear_older_actions-485"><span class="linenos">485</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-486"><a href="#VisualizerGraphicItem.clear_older_actions-486"><span class="linenos">486</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-487"><a href="#VisualizerGraphicItem.clear_older_actions-487"><span class="linenos">487</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-488"><a href="#VisualizerGraphicItem.clear_older_actions-488"><span class="linenos">488</span></a>    
</span><span id="VisualizerGraphicItem.clear_older_actions-489"><a href="#VisualizerGraphicItem.clear_older_actions-489"><span class="linenos">489</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">time_step</span><span class="p">]</span>
</span><span id="VisualizerGraphicItem.clear_older_actions-490"><a href="#VisualizerGraphicItem.clear_older_actions-490"><span class="linenos">490</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Deletes all actions for the given time step (self._actions[time_step]) 
and after the given time step (self._actions[i>time_step]) for an object.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int -   Sets the steps (time>=time_step) for which the actions should be deleted.</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.restart" class="classattr">
                                        <input id="VisualizerGraphicItem.restart-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">restart</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.restart-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.restart"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.restart-492"><a href="#VisualizerGraphicItem.restart-492"><span class="linenos">492</span></a>    <span class="k">def</span> <span class="nf">restart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.restart-493"><a href="#VisualizerGraphicItem.restart-493"><span class="linenos">493</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.restart-494"><a href="#VisualizerGraphicItem.restart-494"><span class="linenos">494</span></a><span class="sd">        Resets the item to its original values.</span>
</span><span id="VisualizerGraphicItem.restart-495"><a href="#VisualizerGraphicItem.restart-495"><span class="linenos">495</span></a><span class="sd">        Sets the items position to its starting position.</span>
</span><span id="VisualizerGraphicItem.restart-496"><a href="#VisualizerGraphicItem.restart-496"><span class="linenos">496</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.restart-497"><a href="#VisualizerGraphicItem.restart-497"><span class="linenos">497</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span>
</span></pre></div>


            <div class="docstring"><p>Resets the item to its original values.
Sets the items position to its starting position.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.reset" class="classattr">
                                        <input id="VisualizerGraphicItem.reset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.reset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.reset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.reset-499"><a href="#VisualizerGraphicItem.reset-499"><span class="linenos">499</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.reset-500"><a href="#VisualizerGraphicItem.reset-500"><span class="linenos">500</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.reset-501"><a href="#VisualizerGraphicItem.reset-501"><span class="linenos">501</span></a><span class="sd">        Resets the item to its original values. This function will be called for every item if </span>
</span><span id="VisualizerGraphicItem.reset-502"><a href="#VisualizerGraphicItem.reset-502"><span class="linenos">502</span></a><span class="sd">        the Button &quot;RESET&quot; in the GUI is pressed</span>
</span><span id="VisualizerGraphicItem.reset-503"><a href="#VisualizerGraphicItem.reset-503"><span class="linenos">503</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.reset-504"><a href="#VisualizerGraphicItem.reset-504"><span class="linenos">504</span></a>        <span class="k">return</span> 
</span></pre></div>


            <div class="docstring"><p>Resets the item to its original values. This function will be called for every item if 
the Button "RESET" in the GUI is pressed</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.edit_position_to" class="classattr">
                                        <input id="VisualizerGraphicItem.edit_position_to-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">edit_position_to</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.edit_position_to-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.edit_position_to"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.edit_position_to-508"><a href="#VisualizerGraphicItem.edit_position_to-508"><span class="linenos">508</span></a>    <span class="k">def</span> <span class="nf">edit_position_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.edit_position_to-509"><a href="#VisualizerGraphicItem.edit_position_to-509"><span class="linenos">509</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.edit_position_to-510"><a href="#VisualizerGraphicItem.edit_position_to-510"><span class="linenos">510</span></a><span class="sd">        Sets a new starting position and new current position for an </span>
</span><span id="VisualizerGraphicItem.edit_position_to-511"><a href="#VisualizerGraphicItem.edit_position_to-511"><span class="linenos">511</span></a><span class="sd">        item. If an item of the same kind is already on the same position</span>
</span><span id="VisualizerGraphicItem.edit_position_to-512"><a href="#VisualizerGraphicItem.edit_position_to-512"><span class="linenos">512</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="VisualizerGraphicItem.edit_position_to-513"><a href="#VisualizerGraphicItem.edit_position_to-513"><span class="linenos">513</span></a><span class="sd">        the drag and drop feature.</span>
</span><span id="VisualizerGraphicItem.edit_position_to-514"><a href="#VisualizerGraphicItem.edit_position_to-514"><span class="linenos">514</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.edit_position_to-515"><a href="#VisualizerGraphicItem.edit_position_to-515"><span class="linenos">515</span></a><span class="sd">        :param x:  int      - The x coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.edit_position_to-516"><a href="#VisualizerGraphicItem.edit_position_to-516"><span class="linenos">516</span></a><span class="sd">        :param y:  int      - The y coordinate on the grid</span>
</span><span id="VisualizerGraphicItem.edit_position_to-517"><a href="#VisualizerGraphicItem.edit_position_to-517"><span class="linenos">517</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.edit_position_to-518"><a href="#VisualizerGraphicItem.edit_position_to-518"><span class="linenos">518</span></a>        
</span><span id="VisualizerGraphicItem.edit_position_to-519"><a href="#VisualizerGraphicItem.edit_position_to-519"><span class="linenos">519</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.edit_position_to-520"><a href="#VisualizerGraphicItem.edit_position_to-520"><span class="linenos">520</span></a>            <span class="k">return</span>
</span><span id="VisualizerGraphicItem.edit_position_to-521"><a href="#VisualizerGraphicItem.edit_position_to-521"><span class="linenos">521</span></a>        <span class="n">item2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">filter_items</span><span class="p">(</span><span class="n">item_kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">,</span>
</span><span id="VisualizerGraphicItem.edit_position_to-522"><a href="#VisualizerGraphicItem.edit_position_to-522"><span class="linenos">522</span></a>                                        <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>
</span><span id="VisualizerGraphicItem.edit_position_to-523"><a href="#VisualizerGraphicItem.edit_position_to-523"><span class="linenos">523</span></a>                                        <span class="n">return_first</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="VisualizerGraphicItem.edit_position_to-524"><a href="#VisualizerGraphicItem.edit_position_to-524"><span class="linenos">524</span></a>        <span class="k">if</span> <span class="n">item2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="VisualizerGraphicItem.edit_position_to-525"><a href="#VisualizerGraphicItem.edit_position_to-525"><span class="linenos">525</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem.edit_position_to-526"><a href="#VisualizerGraphicItem.edit_position_to-526"><span class="linenos">526</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span>
</span><span id="VisualizerGraphicItem.edit_position_to-527"><a href="#VisualizerGraphicItem.edit_position_to-527"><span class="linenos">527</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
</span><span id="VisualizerGraphicItem.edit_position_to-528"><a href="#VisualizerGraphicItem.edit_position_to-528"><span class="linenos">528</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="VisualizerGraphicItem.edit_position_to-529"><a href="#VisualizerGraphicItem.edit_position_to-529"><span class="linenos">529</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">clear_actions</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem.edit_position_to-530"><a href="#VisualizerGraphicItem.edit_position_to-530"><span class="linenos">530</span></a>        
</span><span id="VisualizerGraphicItem.edit_position_to-531"><a href="#VisualizerGraphicItem.edit_position_to-531"><span class="linenos">531</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.edit_position_to-532"><a href="#VisualizerGraphicItem.edit_position_to-532"><span class="linenos">532</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="VisualizerGraphicItem.edit_position_to-533"><a href="#VisualizerGraphicItem.edit_position_to-533"><span class="linenos">533</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span id="VisualizerGraphicItem.edit_position_to-534"><a href="#VisualizerGraphicItem.edit_position_to-534"><span class="linenos">534</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">mapf_reset_connection</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Sets a new starting position and new current position for an 
item. If an item of the same kind is already on the same position
they swap positions. This function is used to edit instances with
the drag and drop feature.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x</strong>:   int      - The x coordinate on the grid</li>
<li><strong>y</strong>:   int      - The y coordinate on the grid</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.enable_drag" class="classattr">
                                        <input id="VisualizerGraphicItem.enable_drag-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">enable_drag</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">enable</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.enable_drag-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.enable_drag"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.enable_drag-536"><a href="#VisualizerGraphicItem.enable_drag-536"><span class="linenos">536</span></a>    <span class="k">def</span> <span class="nf">enable_drag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.enable_drag-537"><a href="#VisualizerGraphicItem.enable_drag-537"><span class="linenos">537</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.enable_drag-538"><a href="#VisualizerGraphicItem.enable_drag-538"><span class="linenos">538</span></a><span class="sd">        Enables and disables the drag and drop feature for the</span>
</span><span id="VisualizerGraphicItem.enable_drag-539"><a href="#VisualizerGraphicItem.enable_drag-539"><span class="linenos">539</span></a><span class="sd">        model editor.</span>
</span><span id="VisualizerGraphicItem.enable_drag-540"><a href="#VisualizerGraphicItem.enable_drag-540"><span class="linenos">540</span></a><span class="sd">        </span>
</span><span id="VisualizerGraphicItem.enable_drag-541"><a href="#VisualizerGraphicItem.enable_drag-541"><span class="linenos">541</span></a><span class="sd">        :param enable: bool  -   enable or disable drag &amp; drop</span>
</span><span id="VisualizerGraphicItem.enable_drag-542"><a href="#VisualizerGraphicItem.enable_drag-542"><span class="linenos">542</span></a><span class="sd">        &quot;&quot;&quot;</span>     
</span><span id="VisualizerGraphicItem.enable_drag-543"><a href="#VisualizerGraphicItem.enable_drag-543"><span class="linenos">543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span> <span class="o">=</span> <span class="n">enable</span>
</span></pre></div>


            <div class="docstring"><p>Enables and disables the drag and drop feature for the
model editor.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>enable</strong>:  bool  -   enable or disable drag &amp; drop</li>
</ul>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.boundingRect" class="classattr">
                                        <input id="VisualizerGraphicItem.boundingRect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">boundingRect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.boundingRect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.boundingRect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.boundingRect-545"><a href="#VisualizerGraphicItem.boundingRect-545"><span class="linenos">545</span></a>    <span class="k">def</span> <span class="nf">boundingRect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.boundingRect-546"><a href="#VisualizerGraphicItem.boundingRect-546"><span class="linenos">546</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.boundingRect-547"><a href="#VisualizerGraphicItem.boundingRect-547"><span class="linenos">547</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="VisualizerGraphicItem.boundingRect-548"><a href="#VisualizerGraphicItem.boundingRect-548"><span class="linenos">548</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.boundingRect-549"><a href="#VisualizerGraphicItem.boundingRect-549"><span class="linenos">549</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">boundingRect</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This is a overridden QT function and used for drag and drop.</p>
</div>


                            </div>
                            <div id="VisualizerGraphicItem.ros_publish_message_info" class="classattr">
                                        <input id="VisualizerGraphicItem.ros_publish_message_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ros_publish_message_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg_id</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="VisualizerGraphicItem.ros_publish_message_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisualizerGraphicItem.ros_publish_message_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisualizerGraphicItem.ros_publish_message_info-553"><a href="#VisualizerGraphicItem.ros_publish_message_info-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">ros_publish_message_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-554"><a href="#VisualizerGraphicItem.ros_publish_message_info-554"><span class="linenos">554</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-555"><a href="#VisualizerGraphicItem.ros_publish_message_info-555"><span class="linenos">555</span></a><span class="sd">        Must be implemented for items which should publish the information about itself through ROS2 interfaces.</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-556"><a href="#VisualizerGraphicItem.ros_publish_message_info-556"><span class="linenos">556</span></a><span class="sd">        This function will be called by the model every time an item does an action forward and has to publish</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-557"><a href="#VisualizerGraphicItem.ros_publish_message_info-557"><span class="linenos">557</span></a><span class="sd">        the updated information about itself.</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-558"><a href="#VisualizerGraphicItem.ros_publish_message_info-558"><span class="linenos">558</span></a>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-559"><a href="#VisualizerGraphicItem.ros_publish_message_info-559"><span class="linenos">559</span></a><span class="sd">        :param msg_id:      int  -   The id of the current cycle (sim-&gt;controller-&gt;planner-&gt;controller-&gt;sim)</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-560"><a href="#VisualizerGraphicItem.ros_publish_message_info-560"><span class="linenos">560</span></a><span class="sd">        :param time_step:   int  -   Sets the time step in the published message (msg.step = time_step)</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-561"><a href="#VisualizerGraphicItem.ros_publish_message_info-561"><span class="linenos">561</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="VisualizerGraphicItem.ros_publish_message_info-562"><a href="#VisualizerGraphicItem.ros_publish_message_info-562"><span class="linenos">562</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Must be implemented for items which should publish the information about itself through ROS2 interfaces.
This function will be called by the model every time an item does an action forward and has to publish
the updated information about itself.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>msg_id</strong>:       int  -   The id of the current cycle (sim->controller->planner->controller->sim)</li>
<li><strong>time_step</strong>:    int  -   Sets the time step in the published message (msg.step = time_step)</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="visualizerItem.html#VisualizerItem">mapf_simulation.visualizerItem.VisualizerItem</a></dt>
                                <dd id="VisualizerGraphicItem.set_model" class="function"><a href="visualizerItem.html#VisualizerItem.set_model">set_model</a></dd>
                <dd id="VisualizerGraphicItem.get_model" class="function"><a href="visualizerItem.html#VisualizerItem.get_model">get_model</a></dd>
                <dd id="VisualizerGraphicItem.get_id" class="function"><a href="visualizerItem.html#VisualizerItem.get_id">get_id</a></dd>
                <dd id="VisualizerGraphicItem.get_kind_name" class="function"><a href="visualizerItem.html#VisualizerItem.get_kind_name">get_kind_name</a></dd>
                <dd id="VisualizerGraphicItem.on_step_update" class="function"><a href="visualizerItem.html#VisualizerItem.on_step_update">on_step_update</a></dd>
                <dd id="VisualizerGraphicItem.on_step_undo" class="function"><a href="visualizerItem.html#VisualizerItem.on_step_undo">on_step_undo</a></dd>

            </div>
            <div><dt>PyQt5.QtWidgets.QGraphicsItem</dt>
                                <dd id="VisualizerGraphicItem.CacheMode" class="class">CacheMode</dd>
                <dd id="VisualizerGraphicItem.GraphicsItemChange" class="class">GraphicsItemChange</dd>
                <dd id="VisualizerGraphicItem.GraphicsItemFlag" class="class">GraphicsItemFlag</dd>
                <dd id="VisualizerGraphicItem.GraphicsItemFlags" class="class">GraphicsItemFlags</dd>
                <dd id="VisualizerGraphicItem.PanelModality" class="class">PanelModality</dd>
                <dd id="VisualizerGraphicItem.acceptDrops" class="function">acceptDrops</dd>
                <dd id="VisualizerGraphicItem.acceptHoverEvents" class="function">acceptHoverEvents</dd>
                <dd id="VisualizerGraphicItem.acceptTouchEvents" class="function">acceptTouchEvents</dd>
                <dd id="VisualizerGraphicItem.acceptedMouseButtons" class="function">acceptedMouseButtons</dd>
                <dd id="VisualizerGraphicItem.advance" class="function">advance</dd>
                <dd id="VisualizerGraphicItem.boundingRegion" class="function">boundingRegion</dd>
                <dd id="VisualizerGraphicItem.boundingRegionGranularity" class="function">boundingRegionGranularity</dd>
                <dd id="VisualizerGraphicItem.cacheMode" class="function">cacheMode</dd>
                <dd id="VisualizerGraphicItem.childItems" class="function">childItems</dd>
                <dd id="VisualizerGraphicItem.childrenBoundingRect" class="function">childrenBoundingRect</dd>
                <dd id="VisualizerGraphicItem.clearFocus" class="function">clearFocus</dd>
                <dd id="VisualizerGraphicItem.clipPath" class="function">clipPath</dd>
                <dd id="VisualizerGraphicItem.collidesWithItem" class="function">collidesWithItem</dd>
                <dd id="VisualizerGraphicItem.collidesWithPath" class="function">collidesWithPath</dd>
                <dd id="VisualizerGraphicItem.collidingItems" class="function">collidingItems</dd>
                <dd id="VisualizerGraphicItem.commonAncestorItem" class="function">commonAncestorItem</dd>
                <dd id="VisualizerGraphicItem.contains" class="function">contains</dd>
                <dd id="VisualizerGraphicItem.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="VisualizerGraphicItem.cursor" class="function">cursor</dd>
                <dd id="VisualizerGraphicItem.data" class="function">data</dd>
                <dd id="VisualizerGraphicItem.deviceTransform" class="function">deviceTransform</dd>
                <dd id="VisualizerGraphicItem.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="VisualizerGraphicItem.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="VisualizerGraphicItem.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="VisualizerGraphicItem.dropEvent" class="function">dropEvent</dd>
                <dd id="VisualizerGraphicItem.effectiveOpacity" class="function">effectiveOpacity</dd>
                <dd id="VisualizerGraphicItem.ensureVisible" class="function">ensureVisible</dd>
                <dd id="VisualizerGraphicItem.filtersChildEvents" class="function">filtersChildEvents</dd>
                <dd id="VisualizerGraphicItem.flags" class="function">flags</dd>
                <dd id="VisualizerGraphicItem.focusInEvent" class="function">focusInEvent</dd>
                <dd id="VisualizerGraphicItem.focusItem" class="function">focusItem</dd>
                <dd id="VisualizerGraphicItem.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="VisualizerGraphicItem.focusProxy" class="function">focusProxy</dd>
                <dd id="VisualizerGraphicItem.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="VisualizerGraphicItem.grabMouse" class="function">grabMouse</dd>
                <dd id="VisualizerGraphicItem.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="VisualizerGraphicItem.group" class="function">group</dd>
                <dd id="VisualizerGraphicItem.hasCursor" class="function">hasCursor</dd>
                <dd id="VisualizerGraphicItem.hasFocus" class="function">hasFocus</dd>
                <dd id="VisualizerGraphicItem.hide" class="function">hide</dd>
                <dd id="VisualizerGraphicItem.hoverEnterEvent" class="function">hoverEnterEvent</dd>
                <dd id="VisualizerGraphicItem.hoverLeaveEvent" class="function">hoverLeaveEvent</dd>
                <dd id="VisualizerGraphicItem.hoverMoveEvent" class="function">hoverMoveEvent</dd>
                <dd id="VisualizerGraphicItem.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="VisualizerGraphicItem.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="VisualizerGraphicItem.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="VisualizerGraphicItem.installSceneEventFilter" class="function">installSceneEventFilter</dd>
                <dd id="VisualizerGraphicItem.isActive" class="function">isActive</dd>
                <dd id="VisualizerGraphicItem.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="VisualizerGraphicItem.isBlockedByModalPanel" class="function">isBlockedByModalPanel</dd>
                <dd id="VisualizerGraphicItem.isClipped" class="function">isClipped</dd>
                <dd id="VisualizerGraphicItem.isEnabled" class="function">isEnabled</dd>
                <dd id="VisualizerGraphicItem.isObscured" class="function">isObscured</dd>
                <dd id="VisualizerGraphicItem.isObscuredBy" class="function">isObscuredBy</dd>
                <dd id="VisualizerGraphicItem.isPanel" class="function">isPanel</dd>
                <dd id="VisualizerGraphicItem.isSelected" class="function">isSelected</dd>
                <dd id="VisualizerGraphicItem.isUnderMouse" class="function">isUnderMouse</dd>
                <dd id="VisualizerGraphicItem.isVisible" class="function">isVisible</dd>
                <dd id="VisualizerGraphicItem.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="VisualizerGraphicItem.isWidget" class="function">isWidget</dd>
                <dd id="VisualizerGraphicItem.isWindow" class="function">isWindow</dd>
                <dd id="VisualizerGraphicItem.itemChange" class="function">itemChange</dd>
                <dd id="VisualizerGraphicItem.itemTransform" class="function">itemTransform</dd>
                <dd id="VisualizerGraphicItem.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="VisualizerGraphicItem.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="VisualizerGraphicItem.mapFromItem" class="function">mapFromItem</dd>
                <dd id="VisualizerGraphicItem.mapFromParent" class="function">mapFromParent</dd>
                <dd id="VisualizerGraphicItem.mapFromScene" class="function">mapFromScene</dd>
                <dd id="VisualizerGraphicItem.mapRectFromItem" class="function">mapRectFromItem</dd>
                <dd id="VisualizerGraphicItem.mapRectFromParent" class="function">mapRectFromParent</dd>
                <dd id="VisualizerGraphicItem.mapRectFromScene" class="function">mapRectFromScene</dd>
                <dd id="VisualizerGraphicItem.mapRectToItem" class="function">mapRectToItem</dd>
                <dd id="VisualizerGraphicItem.mapRectToParent" class="function">mapRectToParent</dd>
                <dd id="VisualizerGraphicItem.mapRectToScene" class="function">mapRectToScene</dd>
                <dd id="VisualizerGraphicItem.mapToItem" class="function">mapToItem</dd>
                <dd id="VisualizerGraphicItem.mapToParent" class="function">mapToParent</dd>
                <dd id="VisualizerGraphicItem.mapToScene" class="function">mapToScene</dd>
                <dd id="VisualizerGraphicItem.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="VisualizerGraphicItem.moveBy" class="function">moveBy</dd>
                <dd id="VisualizerGraphicItem.opacity" class="function">opacity</dd>
                <dd id="VisualizerGraphicItem.opaqueArea" class="function">opaqueArea</dd>
                <dd id="VisualizerGraphicItem.panel" class="function">panel</dd>
                <dd id="VisualizerGraphicItem.panelModality" class="function">panelModality</dd>
                <dd id="VisualizerGraphicItem.parentItem" class="function">parentItem</dd>
                <dd id="VisualizerGraphicItem.parentObject" class="function">parentObject</dd>
                <dd id="VisualizerGraphicItem.parentWidget" class="function">parentWidget</dd>
                <dd id="VisualizerGraphicItem.pos" class="function">pos</dd>
                <dd id="VisualizerGraphicItem.prepareGeometryChange" class="function">prepareGeometryChange</dd>
                <dd id="VisualizerGraphicItem.removeSceneEventFilter" class="function">removeSceneEventFilter</dd>
                <dd id="VisualizerGraphicItem.resetTransform" class="function">resetTransform</dd>
                <dd id="VisualizerGraphicItem.rotation" class="function">rotation</dd>
                <dd id="VisualizerGraphicItem.scale" class="function">scale</dd>
                <dd id="VisualizerGraphicItem.scene" class="function">scene</dd>
                <dd id="VisualizerGraphicItem.sceneBoundingRect" class="function">sceneBoundingRect</dd>
                <dd id="VisualizerGraphicItem.sceneEvent" class="function">sceneEvent</dd>
                <dd id="VisualizerGraphicItem.sceneEventFilter" class="function">sceneEventFilter</dd>
                <dd id="VisualizerGraphicItem.scenePos" class="function">scenePos</dd>
                <dd id="VisualizerGraphicItem.sceneTransform" class="function">sceneTransform</dd>
                <dd id="VisualizerGraphicItem.scroll" class="function">scroll</dd>
                <dd id="VisualizerGraphicItem.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="VisualizerGraphicItem.setAcceptHoverEvents" class="function">setAcceptHoverEvents</dd>
                <dd id="VisualizerGraphicItem.setAcceptTouchEvents" class="function">setAcceptTouchEvents</dd>
                <dd id="VisualizerGraphicItem.setAcceptedMouseButtons" class="function">setAcceptedMouseButtons</dd>
                <dd id="VisualizerGraphicItem.setActive" class="function">setActive</dd>
                <dd id="VisualizerGraphicItem.setBoundingRegionGranularity" class="function">setBoundingRegionGranularity</dd>
                <dd id="VisualizerGraphicItem.setCacheMode" class="function">setCacheMode</dd>
                <dd id="VisualizerGraphicItem.setCursor" class="function">setCursor</dd>
                <dd id="VisualizerGraphicItem.setData" class="function">setData</dd>
                <dd id="VisualizerGraphicItem.setEnabled" class="function">setEnabled</dd>
                <dd id="VisualizerGraphicItem.setFiltersChildEvents" class="function">setFiltersChildEvents</dd>
                <dd id="VisualizerGraphicItem.setFlag" class="function">setFlag</dd>
                <dd id="VisualizerGraphicItem.setFlags" class="function">setFlags</dd>
                <dd id="VisualizerGraphicItem.setFocus" class="function">setFocus</dd>
                <dd id="VisualizerGraphicItem.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="VisualizerGraphicItem.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="VisualizerGraphicItem.setGroup" class="function">setGroup</dd>
                <dd id="VisualizerGraphicItem.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="VisualizerGraphicItem.setOpacity" class="function">setOpacity</dd>
                <dd id="VisualizerGraphicItem.setPanelModality" class="function">setPanelModality</dd>
                <dd id="VisualizerGraphicItem.setParentItem" class="function">setParentItem</dd>
                <dd id="VisualizerGraphicItem.setPos" class="function">setPos</dd>
                <dd id="VisualizerGraphicItem.setRotation" class="function">setRotation</dd>
                <dd id="VisualizerGraphicItem.setScale" class="function">setScale</dd>
                <dd id="VisualizerGraphicItem.setSelected" class="function">setSelected</dd>
                <dd id="VisualizerGraphicItem.setToolTip" class="function">setToolTip</dd>
                <dd id="VisualizerGraphicItem.setTransform" class="function">setTransform</dd>
                <dd id="VisualizerGraphicItem.setTransformOriginPoint" class="function">setTransformOriginPoint</dd>
                <dd id="VisualizerGraphicItem.setTransformations" class="function">setTransformations</dd>
                <dd id="VisualizerGraphicItem.setVisible" class="function">setVisible</dd>
                <dd id="VisualizerGraphicItem.setX" class="function">setX</dd>
                <dd id="VisualizerGraphicItem.setY" class="function">setY</dd>
                <dd id="VisualizerGraphicItem.setZValue" class="function">setZValue</dd>
                <dd id="VisualizerGraphicItem.shape" class="function">shape</dd>
                <dd id="VisualizerGraphicItem.show" class="function">show</dd>
                <dd id="VisualizerGraphicItem.stackBefore" class="function">stackBefore</dd>
                <dd id="VisualizerGraphicItem.toGraphicsObject" class="function">toGraphicsObject</dd>
                <dd id="VisualizerGraphicItem.toolTip" class="function">toolTip</dd>
                <dd id="VisualizerGraphicItem.topLevelItem" class="function">topLevelItem</dd>
                <dd id="VisualizerGraphicItem.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="VisualizerGraphicItem.transform" class="function">transform</dd>
                <dd id="VisualizerGraphicItem.transformOriginPoint" class="function">transformOriginPoint</dd>
                <dd id="VisualizerGraphicItem.transformations" class="function">transformations</dd>
                <dd id="VisualizerGraphicItem.type" class="function">type</dd>
                <dd id="VisualizerGraphicItem.ungrabKeyboard" class="function">ungrabKeyboard</dd>
                <dd id="VisualizerGraphicItem.ungrabMouse" class="function">ungrabMouse</dd>
                <dd id="VisualizerGraphicItem.unsetCursor" class="function">unsetCursor</dd>
                <dd id="VisualizerGraphicItem.update" class="function">update</dd>
                <dd id="VisualizerGraphicItem.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="VisualizerGraphicItem.wheelEvent" class="function">wheelEvent</dd>
                <dd id="VisualizerGraphicItem.window" class="function">window</dd>
                <dd id="VisualizerGraphicItem.x" class="function">x</dd>
                <dd id="VisualizerGraphicItem.y" class="function">y</dd>
                <dd id="VisualizerGraphicItem.zValue" class="function">zValue</dd>
                <dd id="VisualizerGraphicItem.DeviceCoordinateCache" class="variable">DeviceCoordinateCache</dd>
                <dd id="VisualizerGraphicItem.ItemAcceptsInputMethod" class="variable">ItemAcceptsInputMethod</dd>
                <dd id="VisualizerGraphicItem.ItemChildAddedChange" class="variable">ItemChildAddedChange</dd>
                <dd id="VisualizerGraphicItem.ItemChildRemovedChange" class="variable">ItemChildRemovedChange</dd>
                <dd id="VisualizerGraphicItem.ItemClipsChildrenToShape" class="variable">ItemClipsChildrenToShape</dd>
                <dd id="VisualizerGraphicItem.ItemClipsToShape" class="variable">ItemClipsToShape</dd>
                <dd id="VisualizerGraphicItem.ItemContainsChildrenInShape" class="variable">ItemContainsChildrenInShape</dd>
                <dd id="VisualizerGraphicItem.ItemCoordinateCache" class="variable">ItemCoordinateCache</dd>
                <dd id="VisualizerGraphicItem.ItemCursorChange" class="variable">ItemCursorChange</dd>
                <dd id="VisualizerGraphicItem.ItemCursorHasChanged" class="variable">ItemCursorHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemDoesntPropagateOpacityToChildren" class="variable">ItemDoesntPropagateOpacityToChildren</dd>
                <dd id="VisualizerGraphicItem.ItemEnabledChange" class="variable">ItemEnabledChange</dd>
                <dd id="VisualizerGraphicItem.ItemEnabledHasChanged" class="variable">ItemEnabledHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemFlagsChange" class="variable">ItemFlagsChange</dd>
                <dd id="VisualizerGraphicItem.ItemFlagsHaveChanged" class="variable">ItemFlagsHaveChanged</dd>
                <dd id="VisualizerGraphicItem.ItemHasNoContents" class="variable">ItemHasNoContents</dd>
                <dd id="VisualizerGraphicItem.ItemIgnoresParentOpacity" class="variable">ItemIgnoresParentOpacity</dd>
                <dd id="VisualizerGraphicItem.ItemIgnoresTransformations" class="variable">ItemIgnoresTransformations</dd>
                <dd id="VisualizerGraphicItem.ItemIsFocusable" class="variable">ItemIsFocusable</dd>
                <dd id="VisualizerGraphicItem.ItemIsMovable" class="variable">ItemIsMovable</dd>
                <dd id="VisualizerGraphicItem.ItemIsPanel" class="variable">ItemIsPanel</dd>
                <dd id="VisualizerGraphicItem.ItemIsSelectable" class="variable">ItemIsSelectable</dd>
                <dd id="VisualizerGraphicItem.ItemMatrixChange" class="variable">ItemMatrixChange</dd>
                <dd id="VisualizerGraphicItem.ItemNegativeZStacksBehindParent" class="variable">ItemNegativeZStacksBehindParent</dd>
                <dd id="VisualizerGraphicItem.ItemOpacityChange" class="variable">ItemOpacityChange</dd>
                <dd id="VisualizerGraphicItem.ItemOpacityHasChanged" class="variable">ItemOpacityHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemParentChange" class="variable">ItemParentChange</dd>
                <dd id="VisualizerGraphicItem.ItemParentHasChanged" class="variable">ItemParentHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemPositionChange" class="variable">ItemPositionChange</dd>
                <dd id="VisualizerGraphicItem.ItemPositionHasChanged" class="variable">ItemPositionHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemRotationChange" class="variable">ItemRotationChange</dd>
                <dd id="VisualizerGraphicItem.ItemRotationHasChanged" class="variable">ItemRotationHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemScaleChange" class="variable">ItemScaleChange</dd>
                <dd id="VisualizerGraphicItem.ItemScaleHasChanged" class="variable">ItemScaleHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemSceneChange" class="variable">ItemSceneChange</dd>
                <dd id="VisualizerGraphicItem.ItemSceneHasChanged" class="variable">ItemSceneHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemScenePositionHasChanged" class="variable">ItemScenePositionHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemSelectedChange" class="variable">ItemSelectedChange</dd>
                <dd id="VisualizerGraphicItem.ItemSelectedHasChanged" class="variable">ItemSelectedHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemSendsGeometryChanges" class="variable">ItemSendsGeometryChanges</dd>
                <dd id="VisualizerGraphicItem.ItemSendsScenePositionChanges" class="variable">ItemSendsScenePositionChanges</dd>
                <dd id="VisualizerGraphicItem.ItemStacksBehindParent" class="variable">ItemStacksBehindParent</dd>
                <dd id="VisualizerGraphicItem.ItemToolTipChange" class="variable">ItemToolTipChange</dd>
                <dd id="VisualizerGraphicItem.ItemToolTipHasChanged" class="variable">ItemToolTipHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemTransformChange" class="variable">ItemTransformChange</dd>
                <dd id="VisualizerGraphicItem.ItemTransformHasChanged" class="variable">ItemTransformHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemTransformOriginPointChange" class="variable">ItemTransformOriginPointChange</dd>
                <dd id="VisualizerGraphicItem.ItemTransformOriginPointHasChanged" class="variable">ItemTransformOriginPointHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemUsesExtendedStyleOption" class="variable">ItemUsesExtendedStyleOption</dd>
                <dd id="VisualizerGraphicItem.ItemVisibleChange" class="variable">ItemVisibleChange</dd>
                <dd id="VisualizerGraphicItem.ItemVisibleHasChanged" class="variable">ItemVisibleHasChanged</dd>
                <dd id="VisualizerGraphicItem.ItemZValueChange" class="variable">ItemZValueChange</dd>
                <dd id="VisualizerGraphicItem.ItemZValueHasChanged" class="variable">ItemZValueHasChanged</dd>
                <dd id="VisualizerGraphicItem.NoCache" class="variable">NoCache</dd>
                <dd id="VisualizerGraphicItem.NonModal" class="variable">NonModal</dd>
                <dd id="VisualizerGraphicItem.PanelModal" class="variable">PanelModal</dd>
                <dd id="VisualizerGraphicItem.SceneModal" class="variable">SceneModal</dd>
                <dd id="VisualizerGraphicItem.Type" class="variable">Type</dd>
                <dd id="VisualizerGraphicItem.UserType" class="variable">UserType</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RobotROS">
                            <input id="RobotROS-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">RobotROS</span><wbr>(<span class="base">rclpy.node.Node</span>, <span class="base"><a href="#VisualizerGraphicItem">VisualizerGraphicItem</a></span>):

                <label class="view-source-button" for="RobotROS-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS-565"><a href="#RobotROS-565"><span class="linenos"> 565</span></a><span class="k">class</span> <span class="nc">RobotROS</span><span class="p">(</span><span class="n">Node</span><span class="p">,</span> <span class="n">VisualizerGraphicItem</span><span class="p">):</span>
</span><span id="RobotROS-566"><a href="#RobotROS-566"><span class="linenos"> 566</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-567"><a href="#RobotROS-567"><span class="linenos"> 567</span></a><span class="sd">    This class represents a robot.</span>
</span><span id="RobotROS-568"><a href="#RobotROS-568"><span class="linenos"> 568</span></a>
</span><span id="RobotROS-569"><a href="#RobotROS-569"><span class="linenos"> 569</span></a><span class="sd">    **Attributes**:</span>
</span><span id="RobotROS-570"><a href="#RobotROS-570"><span class="linenos"> 570</span></a><span class="sd">    -   **_kind_name**: str                     -   The name of this kind of item. This is always &#39;robot_ros&#39;.</span>
</span><span id="RobotROS-571"><a href="#RobotROS-571"><span class="linenos"> 571</span></a><span class="sd">    -   **_tasks**:    list                    -   The list of tasks of the robot.</span>
</span><span id="RobotROS-572"><a href="#RobotROS-572"><span class="linenos"> 572</span></a><span class="sd">    -   **_graphics_item**: QGraphicsEllipseItem-   This is the main graphic item of the robot</span>
</span><span id="RobotROS-573"><a href="#RobotROS-573"><span class="linenos"> 573</span></a><span class="sd">                                                    and is used for some default functions.</span>
</span><span id="RobotROS-574"><a href="#RobotROS-574"><span class="linenos"> 574</span></a><span class="sd">    -   **_text**:          QGraphicsTextItem   -   This is a text item that is drawn on the model view</span>
</span><span id="RobotROS-575"><a href="#RobotROS-575"><span class="linenos"> 575</span></a><span class="sd">                                                    and represents primarily the id of the robot.</span>
</span><span id="RobotROS-576"><a href="#RobotROS-576"><span class="linenos"> 576</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="RobotROS-577"><a href="#RobotROS-577"><span class="linenos"> 577</span></a>
</span><span id="RobotROS-578"><a href="#RobotROS-578"><span class="linenos"> 578</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">bucket</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">heuristic</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS-579"><a href="#RobotROS-579"><span class="linenos"> 579</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-580"><a href="#RobotROS-580"><span class="linenos"> 580</span></a><span class="sd">        :param ID:      int, optional       - The ID of the robot</span>
</span><span id="RobotROS-581"><a href="#RobotROS-581"><span class="linenos"> 581</span></a><span class="sd">        :param x:       int, optional       - The x coordinate on the grid</span>
</span><span id="RobotROS-582"><a href="#RobotROS-582"><span class="linenos"> 582</span></a><span class="sd">        :param y:       int, optional       - The y coordinate on the grid</span>
</span><span id="RobotROS-583"><a href="#RobotROS-583"><span class="linenos"> 583</span></a><span class="sd">        :param theta:   float, optional     - The orientation of the robot in angle ()</span>
</span><span id="RobotROS-584"><a href="#RobotROS-584"><span class="linenos"> 584</span></a><span class="sd">        :param bucket:  int, optional       - The bucket to which the robot belongs</span>
</span><span id="RobotROS-585"><a href="#RobotROS-585"><span class="linenos"> 585</span></a><span class="sd">        :param heuristic: float, optional   - Optimal length from the start to the goal position</span>
</span><span id="RobotROS-586"><a href="#RobotROS-586"><span class="linenos"> 586</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-587"><a href="#RobotROS-587"><span class="linenos"> 587</span></a>
</span><span id="RobotROS-588"><a href="#RobotROS-588"><span class="linenos"> 588</span></a>        <span class="c1">#------------------------------ ROS2 --------------------------------------------------------------</span>
</span><span id="RobotROS-589"><a href="#RobotROS-589"><span class="linenos"> 589</span></a>        <span class="c1">#Init ROS2 Node with the name mapf_robot_ID, here ID is the ID of the robot</span>
</span><span id="RobotROS-590"><a href="#RobotROS-590"><span class="linenos"> 590</span></a>        <span class="n">Node</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_node&#39;</span><span class="p">)</span>
</span><span id="RobotROS-591"><a href="#RobotROS-591"><span class="linenos"> 591</span></a>
</span><span id="RobotROS-592"><a href="#RobotROS-592"><span class="linenos"> 592</span></a>        <span class="c1">#Create a publisher for the topic &quot;mapf_robot_info_ID&quot; to publish the information </span>
</span><span id="RobotROS-593"><a href="#RobotROS-593"><span class="linenos"> 593</span></a>        <span class="c1">#of the robot with the custom message type &quot;RobotInfo.msg&quot;</span>
</span><span id="RobotROS-594"><a href="#RobotROS-594"><span class="linenos"> 594</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">publisher</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">RobotInfo</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_info_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="RobotROS-595"><a href="#RobotROS-595"><span class="linenos"> 595</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;**rclpy.publisher.Publisher** - ros2 publisher to the topic */mapf_robot_info_&#39;&#39;ID&#39;&#39;*&#39;&#39;&#39;</span>
</span><span id="RobotROS-596"><a href="#RobotROS-596"><span class="linenos"> 596</span></a>
</span><span id="RobotROS-597"><a href="#RobotROS-597"><span class="linenos"> 597</span></a>        <span class="c1">#Create a subscriber for the topic &quot;mapf_robot_action_ID&quot; to get the information about </span>
</span><span id="RobotROS-598"><a href="#RobotROS-598"><span class="linenos"> 598</span></a>        <span class="c1">#the next action to be executed by the robot, custom message type: RobotAction.msg</span>
</span><span id="RobotROS-599"><a href="#RobotROS-599"><span class="linenos"> 599</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscriber</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">RobotAction</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_action_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_action</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="RobotROS-600"><a href="#RobotROS-600"><span class="linenos"> 600</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;**rclpy.subscription.Subscription** - ros2 subscriber to the topic */mapf_robot_action_&#39;&#39;ID&#39;&#39;*&#39;&#39;&#39;</span>
</span><span id="RobotROS-601"><a href="#RobotROS-601"><span class="linenos"> 601</span></a>
</span><span id="RobotROS-602"><a href="#RobotROS-602"><span class="linenos"> 602</span></a>        <span class="c1">#True if RobotAction.msg received for the next step, otherwise False</span>
</span><span id="RobotROS-603"><a href="#RobotROS-603"><span class="linenos"> 603</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="RobotROS-604"><a href="#RobotROS-604"><span class="linenos"> 604</span></a>
</span><span id="RobotROS-605"><a href="#RobotROS-605"><span class="linenos"> 605</span></a>
</span><span id="RobotROS-606"><a href="#RobotROS-606"><span class="linenos"> 606</span></a>        <span class="c1">#------------------------------ GRAPHIC ITEM ------------------------------------------------------</span>
</span><span id="RobotROS-607"><a href="#RobotROS-607"><span class="linenos"> 607</span></a>        <span class="n">VisualizerGraphicItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="RobotROS-608"><a href="#RobotROS-608"><span class="linenos"> 608</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;robot_ros&#39;</span>
</span><span id="RobotROS-609"><a href="#RobotROS-609"><span class="linenos"> 609</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="RobotROS-610"><a href="#RobotROS-610"><span class="linenos"> 610</span></a>        
</span><span id="RobotROS-611"><a href="#RobotROS-611"><span class="linenos"> 611</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="n">QGraphicsEllipseItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS-612"><a href="#RobotROS-612"><span class="linenos"> 612</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_line_item</span> <span class="o">=</span> <span class="n">QGraphicsLineItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS-613"><a href="#RobotROS-613"><span class="linenos"> 613</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">QGraphicsTextItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS-614"><a href="#RobotROS-614"><span class="linenos"> 614</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>
</span><span id="RobotROS-615"><a href="#RobotROS-615"><span class="linenos"> 615</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="RobotROS-616"><a href="#RobotROS-616"><span class="linenos"> 616</span></a>        
</span><span id="RobotROS-617"><a href="#RobotROS-617"><span class="linenos"> 617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="RobotROS-618"><a href="#RobotROS-618"><span class="linenos"> 618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="RobotROS-619"><a href="#RobotROS-619"><span class="linenos"> 619</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="RobotROS-620"><a href="#RobotROS-620"><span class="linenos"> 620</span></a>        
</span><span id="RobotROS-621"><a href="#RobotROS-621"><span class="linenos"> 621</span></a>        <span class="c1">#------------------------------ SAVE DATA ------------------------------------------------------</span>
</span><span id="RobotROS-622"><a href="#RobotROS-622"><span class="linenos"> 622</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS-623"><a href="#RobotROS-623"><span class="linenos"> 623</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS-624"><a href="#RobotROS-624"><span class="linenos"> 624</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
</span><span id="RobotROS-625"><a href="#RobotROS-625"><span class="linenos"> 625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_heuristic</span><span class="p">(</span><span class="n">heuristic</span><span class="p">)</span>
</span><span id="RobotROS-626"><a href="#RobotROS-626"><span class="linenos"> 626</span></a>
</span><span id="RobotROS-627"><a href="#RobotROS-627"><span class="linenos"> 627</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="RobotROS-628"><a href="#RobotROS-628"><span class="linenos"> 628</span></a>
</span><span id="RobotROS-629"><a href="#RobotROS-629"><span class="linenos"> 629</span></a><span class="w">    </span><span class="sd">&#39;&#39;&#39;    </span>
</span><span id="RobotROS-630"><a href="#RobotROS-630"><span class="linenos"> 630</span></a><span class="sd">    def __del__(self):</span>
</span><span id="RobotROS-631"><a href="#RobotROS-631"><span class="linenos"> 631</span></a><span class="sd">        self.destroy_node()</span>
</span><span id="RobotROS-632"><a href="#RobotROS-632"><span class="linenos"> 632</span></a><span class="sd">    &#39;&#39;&#39;</span>
</span><span id="RobotROS-633"><a href="#RobotROS-633"><span class="linenos"> 633</span></a>    
</span><span id="RobotROS-634"><a href="#RobotROS-634"><span class="linenos"> 634</span></a>    <span class="c1">#SET FUNCTIONS</span>
</span><span id="RobotROS-635"><a href="#RobotROS-635"><span class="linenos"> 635</span></a>    <span class="k">def</span> <span class="nf">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS-636"><a href="#RobotROS-636"><span class="linenos"> 636</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-637"><a href="#RobotROS-637"><span class="linenos"> 637</span></a><span class="sd">        Sets the starting position of the robot.</span>
</span><span id="RobotROS-638"><a href="#RobotROS-638"><span class="linenos"> 638</span></a>
</span><span id="RobotROS-639"><a href="#RobotROS-639"><span class="linenos"> 639</span></a><span class="sd">        :param x:       int                 - The x coordinate on the grid</span>
</span><span id="RobotROS-640"><a href="#RobotROS-640"><span class="linenos"> 640</span></a><span class="sd">        :param y:       int                 - The y coordinate on the grid</span>
</span><span id="RobotROS-641"><a href="#RobotROS-641"><span class="linenos"> 641</span></a><span class="sd">        :param theta:   float, optional     - The orientation of the robot in angle ()</span>
</span><span id="RobotROS-642"><a href="#RobotROS-642"><span class="linenos"> 642</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-643"><a href="#RobotROS-643"><span class="linenos"> 643</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS-644"><a href="#RobotROS-644"><span class="linenos"> 644</span></a>
</span><span id="RobotROS-645"><a href="#RobotROS-645"><span class="linenos"> 645</span></a>    <span class="k">def</span> <span class="nf">set_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS-646"><a href="#RobotROS-646"><span class="linenos"> 646</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-647"><a href="#RobotROS-647"><span class="linenos"> 647</span></a><span class="sd">        Sets the position of the robot.</span>
</span><span id="RobotROS-648"><a href="#RobotROS-648"><span class="linenos"> 648</span></a>
</span><span id="RobotROS-649"><a href="#RobotROS-649"><span class="linenos"> 649</span></a><span class="sd">        :param x:       int                - The x coordinate on the grid</span>
</span><span id="RobotROS-650"><a href="#RobotROS-650"><span class="linenos"> 650</span></a><span class="sd">        :param y:       int                - The y coordinate on the grid</span>
</span><span id="RobotROS-651"><a href="#RobotROS-651"><span class="linenos"> 651</span></a><span class="sd">        :param theta:   float, optional    - The orientation of the robot in angle ()</span>
</span><span id="RobotROS-652"><a href="#RobotROS-652"><span class="linenos"> 652</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-653"><a href="#RobotROS-653"><span class="linenos"> 653</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS-654"><a href="#RobotROS-654"><span class="linenos"> 654</span></a>
</span><span id="RobotROS-655"><a href="#RobotROS-655"><span class="linenos"> 655</span></a>    <span class="k">def</span> <span class="nf">set_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS-656"><a href="#RobotROS-656"><span class="linenos"> 656</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-657"><a href="#RobotROS-657"><span class="linenos"> 657</span></a><span class="sd">        Sets the orientation of the robot.</span>
</span><span id="RobotROS-658"><a href="#RobotROS-658"><span class="linenos"> 658</span></a>
</span><span id="RobotROS-659"><a href="#RobotROS-659"><span class="linenos"> 659</span></a><span class="sd">        :param theta:   float, optional      - The orientation of the robot in angle ().</span>
</span><span id="RobotROS-660"><a href="#RobotROS-660"><span class="linenos"> 660</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-661"><a href="#RobotROS-661"><span class="linenos"> 661</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS-662"><a href="#RobotROS-662"><span class="linenos"> 662</span></a>
</span><span id="RobotROS-663"><a href="#RobotROS-663"><span class="linenos"> 663</span></a>    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS-664"><a href="#RobotROS-664"><span class="linenos"> 664</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-665"><a href="#RobotROS-665"><span class="linenos"> 665</span></a><span class="sd">        Assign the robot to a certain bucket.</span>
</span><span id="RobotROS-666"><a href="#RobotROS-666"><span class="linenos"> 666</span></a>
</span><span id="RobotROS-667"><a href="#RobotROS-667"><span class="linenos"> 667</span></a><span class="sd">        :param bucket:   int, optional      - The number of the bucket</span>
</span><span id="RobotROS-668"><a href="#RobotROS-668"><span class="linenos"> 668</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-669"><a href="#RobotROS-669"><span class="linenos"> 669</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bucket</span> <span class="o">=</span> <span class="n">bucket</span>
</span><span id="RobotROS-670"><a href="#RobotROS-670"><span class="linenos"> 670</span></a>
</span><span id="RobotROS-671"><a href="#RobotROS-671"><span class="linenos"> 671</span></a>    <span class="k">def</span> <span class="nf">set_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ready</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="RobotROS-672"><a href="#RobotROS-672"><span class="linenos"> 672</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-673"><a href="#RobotROS-673"><span class="linenos"> 673</span></a><span class="sd">        Sets the state of the robot (READY or NOT READY).  </span>
</span><span id="RobotROS-674"><a href="#RobotROS-674"><span class="linenos"> 674</span></a><span class="sd">        (A robot is READY if he knows what action he should execute as next)  </span>
</span><span id="RobotROS-675"><a href="#RobotROS-675"><span class="linenos"> 675</span></a><span class="sd">        (A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step)  </span>
</span><span id="RobotROS-676"><a href="#RobotROS-676"><span class="linenos"> 676</span></a>
</span><span id="RobotROS-677"><a href="#RobotROS-677"><span class="linenos"> 677</span></a><span class="sd">        :param ready:   bool, optional    - True or False</span>
</span><span id="RobotROS-678"><a href="#RobotROS-678"><span class="linenos"> 678</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-679"><a href="#RobotROS-679"><span class="linenos"> 679</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="n">ready</span>
</span><span id="RobotROS-680"><a href="#RobotROS-680"><span class="linenos"> 680</span></a>
</span><span id="RobotROS-681"><a href="#RobotROS-681"><span class="linenos"> 681</span></a>    <span class="k">def</span> <span class="nf">set_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heuristic</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS-682"><a href="#RobotROS-682"><span class="linenos"> 682</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-683"><a href="#RobotROS-683"><span class="linenos"> 683</span></a><span class="sd">        Assign the optimal length for the robot from his start to his goal.</span>
</span><span id="RobotROS-684"><a href="#RobotROS-684"><span class="linenos"> 684</span></a>
</span><span id="RobotROS-685"><a href="#RobotROS-685"><span class="linenos"> 685</span></a><span class="sd">        :param heuristic:   float, optional - The optimal length for the robot from his start to his goal.</span>
</span><span id="RobotROS-686"><a href="#RobotROS-686"><span class="linenos"> 686</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-687"><a href="#RobotROS-687"><span class="linenos"> 687</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_heuristic</span> <span class="o">=</span> <span class="n">heuristic</span>
</span><span id="RobotROS-688"><a href="#RobotROS-688"><span class="linenos"> 688</span></a>
</span><span id="RobotROS-689"><a href="#RobotROS-689"><span class="linenos"> 689</span></a>    <span class="k">def</span> <span class="nf">set_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
</span><span id="RobotROS-690"><a href="#RobotROS-690"><span class="linenos"> 690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-691"><a href="#RobotROS-691"><span class="linenos"> 691</span></a><span class="sd">        Assign/Save the calculated path for the robot.</span>
</span><span id="RobotROS-692"><a href="#RobotROS-692"><span class="linenos"> 692</span></a>
</span><span id="RobotROS-693"><a href="#RobotROS-693"><span class="linenos"> 693</span></a><span class="sd">        :param path:   list of **mapf_interfaces.msg.Position** -    The calculated path for the robot.</span>
</span><span id="RobotROS-694"><a href="#RobotROS-694"><span class="linenos"> 694</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-695"><a href="#RobotROS-695"><span class="linenos"> 695</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span> <span class="o">=</span> <span class="n">path</span>      
</span><span id="RobotROS-696"><a href="#RobotROS-696"><span class="linenos"> 696</span></a>
</span><span id="RobotROS-697"><a href="#RobotROS-697"><span class="linenos"> 697</span></a>    <span class="k">def</span> <span class="nf">set_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS-698"><a href="#RobotROS-698"><span class="linenos"> 698</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-699"><a href="#RobotROS-699"><span class="linenos"> 699</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="RobotROS-700"><a href="#RobotROS-700"><span class="linenos"> 700</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="RobotROS-701"><a href="#RobotROS-701"><span class="linenos"> 701</span></a><span class="sd">        a warning since this should never happen.</span>
</span><span id="RobotROS-702"><a href="#RobotROS-702"><span class="linenos"> 702</span></a>
</span><span id="RobotROS-703"><a href="#RobotROS-703"><span class="linenos"> 703</span></a><span class="sd">        :param action:      mapf_simulation.action.Action   -   This is the action that will be performed.</span>
</span><span id="RobotROS-704"><a href="#RobotROS-704"><span class="linenos"> 704</span></a><span class="sd">        :param time_step:   int                             -   This is the time step at which the action should be performed.</span>
</span><span id="RobotROS-705"><a href="#RobotROS-705"><span class="linenos"> 705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-706"><a href="#RobotROS-706"><span class="linenos"> 706</span></a>        
</span><span id="RobotROS-707"><a href="#RobotROS-707"><span class="linenos"> 707</span></a>        
</span><span id="RobotROS-708"><a href="#RobotROS-708"><span class="linenos"> 708</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----------------------------------- SET ACTION -----------------------------------&quot;</span><span class="p">)</span>
</span><span id="RobotROS-709"><a href="#RobotROS-709"><span class="linenos"> 709</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="RobotROS-710"><a href="#RobotROS-710"><span class="linenos"> 710</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning: invalid time step(smaller than 0), Object: &#39;</span> 
</span><span id="RobotROS-711"><a href="#RobotROS-711"><span class="linenos"> 711</span></a>                  <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="RobotROS-712"><a href="#RobotROS-712"><span class="linenos"> 712</span></a>                  <span class="s1">&#39;, ID: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="RobotROS-713"><a href="#RobotROS-713"><span class="linenos"> 713</span></a>                  <span class="s1">&#39;, Action: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">get_name</span><span class="p">())</span> <span class="o">+</span> 
</span><span id="RobotROS-714"><a href="#RobotROS-714"><span class="linenos"> 714</span></a>                  <span class="s1">&#39;, Value: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span> <span class="o">+</span> 
</span><span id="RobotROS-715"><a href="#RobotROS-715"><span class="linenos"> 715</span></a>                  <span class="s1">&#39;, Time Step: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">))</span>
</span><span id="RobotROS-716"><a href="#RobotROS-716"><span class="linenos"> 716</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time step is less than 0&#39;</span><span class="p">)</span>
</span><span id="RobotROS-717"><a href="#RobotROS-717"><span class="linenos"> 717</span></a>            <span class="k">return</span>
</span><span id="RobotROS-718"><a href="#RobotROS-718"><span class="linenos"> 718</span></a>        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)):</span>
</span><span id="RobotROS-719"><a href="#RobotROS-719"><span class="linenos"> 719</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="RobotROS-720"><a href="#RobotROS-720"><span class="linenos"> 720</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-721"><a href="#RobotROS-721"><span class="linenos"> 721</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: for object(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span>
</span><span id="RobotROS-722"><a href="#RobotROS-722"><span class="linenos"> 722</span></a>                    <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
</span><span id="RobotROS-723"><a href="#RobotROS-723"><span class="linenos"> 723</span></a>                    <span class="o">+</span> <span class="s1">&#39;) multiple actions are defined at time step &#39;</span>
</span><span id="RobotROS-724"><a href="#RobotROS-724"><span class="linenos"> 724</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)))</span>
</span><span id="RobotROS-725"><a href="#RobotROS-725"><span class="linenos"> 725</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span>
</span><span id="RobotROS-726"><a href="#RobotROS-726"><span class="linenos"> 726</span></a>
</span><span id="RobotROS-727"><a href="#RobotROS-727"><span class="linenos"> 727</span></a>
</span><span id="RobotROS-728"><a href="#RobotROS-728"><span class="linenos"> 728</span></a>    <span class="c1">#GET FUNCTIONS</span>
</span><span id="RobotROS-729"><a href="#RobotROS-729"><span class="linenos"> 729</span></a>    <span class="k">def</span> <span class="nf">get_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-730"><a href="#RobotROS-730"><span class="linenos"> 730</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-731"><a href="#RobotROS-731"><span class="linenos"> 731</span></a><span class="sd">        Returns the number of the bucket to which the robot was assigned.</span>
</span><span id="RobotROS-732"><a href="#RobotROS-732"><span class="linenos"> 732</span></a><span class="sd">        </span>
</span><span id="RobotROS-733"><a href="#RobotROS-733"><span class="linenos"> 733</span></a><span class="sd">        :return: **int**   -   The number of the bucket</span>
</span><span id="RobotROS-734"><a href="#RobotROS-734"><span class="linenos"> 734</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-735"><a href="#RobotROS-735"><span class="linenos"> 735</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bucket</span>
</span><span id="RobotROS-736"><a href="#RobotROS-736"><span class="linenos"> 736</span></a>    
</span><span id="RobotROS-737"><a href="#RobotROS-737"><span class="linenos"> 737</span></a>    <span class="k">def</span> <span class="nf">get_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-738"><a href="#RobotROS-738"><span class="linenos"> 738</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-739"><a href="#RobotROS-739"><span class="linenos"> 739</span></a><span class="sd">        Returns the saved heuristic for the robot.</span>
</span><span id="RobotROS-740"><a href="#RobotROS-740"><span class="linenos"> 740</span></a><span class="sd">        </span>
</span><span id="RobotROS-741"><a href="#RobotROS-741"><span class="linenos"> 741</span></a><span class="sd">        :return: **float**   -   The heuristic</span>
</span><span id="RobotROS-742"><a href="#RobotROS-742"><span class="linenos"> 742</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-743"><a href="#RobotROS-743"><span class="linenos"> 743</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heuristic</span>
</span><span id="RobotROS-744"><a href="#RobotROS-744"><span class="linenos"> 744</span></a>    
</span><span id="RobotROS-745"><a href="#RobotROS-745"><span class="linenos"> 745</span></a>    <span class="k">def</span> <span class="nf">get_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-746"><a href="#RobotROS-746"><span class="linenos"> 746</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-747"><a href="#RobotROS-747"><span class="linenos"> 747</span></a><span class="sd">        Returns the orientation of the robot.</span>
</span><span id="RobotROS-748"><a href="#RobotROS-748"><span class="linenos"> 748</span></a><span class="sd">        </span>
</span><span id="RobotROS-749"><a href="#RobotROS-749"><span class="linenos"> 749</span></a><span class="sd">        :return: **float**   -   The orientation of the robot</span>
</span><span id="RobotROS-750"><a href="#RobotROS-750"><span class="linenos"> 750</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-751"><a href="#RobotROS-751"><span class="linenos"> 751</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="RobotROS-752"><a href="#RobotROS-752"><span class="linenos"> 752</span></a>    
</span><span id="RobotROS-753"><a href="#RobotROS-753"><span class="linenos"> 753</span></a>    <span class="k">def</span> <span class="nf">get_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-754"><a href="#RobotROS-754"><span class="linenos"> 754</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-755"><a href="#RobotROS-755"><span class="linenos"> 755</span></a><span class="sd">        Returns whether the driven path of this robot should be drawn.</span>
</span><span id="RobotROS-756"><a href="#RobotROS-756"><span class="linenos"> 756</span></a><span class="sd">        </span>
</span><span id="RobotROS-757"><a href="#RobotROS-757"><span class="linenos"> 757</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS-758"><a href="#RobotROS-758"><span class="linenos"> 758</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-759"><a href="#RobotROS-759"><span class="linenos"> 759</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS-760"><a href="#RobotROS-760"><span class="linenos"> 760</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS-761"><a href="#RobotROS-761"><span class="linenos"> 761</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span>
</span><span id="RobotROS-762"><a href="#RobotROS-762"><span class="linenos"> 762</span></a>
</span><span id="RobotROS-763"><a href="#RobotROS-763"><span class="linenos"> 763</span></a>    <span class="k">def</span> <span class="nf">get_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-764"><a href="#RobotROS-764"><span class="linenos"> 764</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-765"><a href="#RobotROS-765"><span class="linenos"> 765</span></a><span class="sd">        Returns whether the future path of this robot should be drawn.</span>
</span><span id="RobotROS-766"><a href="#RobotROS-766"><span class="linenos"> 766</span></a><span class="sd">        </span>
</span><span id="RobotROS-767"><a href="#RobotROS-767"><span class="linenos"> 767</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS-768"><a href="#RobotROS-768"><span class="linenos"> 768</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-769"><a href="#RobotROS-769"><span class="linenos"> 769</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS-770"><a href="#RobotROS-770"><span class="linenos"> 770</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS-771"><a href="#RobotROS-771"><span class="linenos"> 771</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span>
</span><span id="RobotROS-772"><a href="#RobotROS-772"><span class="linenos"> 772</span></a>
</span><span id="RobotROS-773"><a href="#RobotROS-773"><span class="linenos"> 773</span></a>    <span class="k">def</span> <span class="nf">get_draw_startpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-774"><a href="#RobotROS-774"><span class="linenos"> 774</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-775"><a href="#RobotROS-775"><span class="linenos"> 775</span></a><span class="sd">        Returns whether the starting point of this robot should be drawn.</span>
</span><span id="RobotROS-776"><a href="#RobotROS-776"><span class="linenos"> 776</span></a><span class="sd">        </span>
</span><span id="RobotROS-777"><a href="#RobotROS-777"><span class="linenos"> 777</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS-778"><a href="#RobotROS-778"><span class="linenos"> 778</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-779"><a href="#RobotROS-779"><span class="linenos"> 779</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS-780"><a href="#RobotROS-780"><span class="linenos"> 780</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS-781"><a href="#RobotROS-781"><span class="linenos"> 781</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span>
</span><span id="RobotROS-782"><a href="#RobotROS-782"><span class="linenos"> 782</span></a>    
</span><span id="RobotROS-783"><a href="#RobotROS-783"><span class="linenos"> 783</span></a>    <span class="k">def</span> <span class="nf">get_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-784"><a href="#RobotROS-784"><span class="linenos"> 784</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-785"><a href="#RobotROS-785"><span class="linenos"> 785</span></a><span class="sd">        Returns the list of tasks for this robot (for the moment only one task per robot is supported).</span>
</span><span id="RobotROS-786"><a href="#RobotROS-786"><span class="linenos"> 786</span></a><span class="sd">        </span>
</span><span id="RobotROS-787"><a href="#RobotROS-787"><span class="linenos"> 787</span></a><span class="sd">        :return: list of mapf_simulation.visualizerItem.TaskROS   -   The list of tasks</span>
</span><span id="RobotROS-788"><a href="#RobotROS-788"><span class="linenos"> 788</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-789"><a href="#RobotROS-789"><span class="linenos"> 789</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span>
</span><span id="RobotROS-790"><a href="#RobotROS-790"><span class="linenos"> 790</span></a>
</span><span id="RobotROS-791"><a href="#RobotROS-791"><span class="linenos"> 791</span></a>    <span class="k">def</span> <span class="nf">get_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="RobotROS-792"><a href="#RobotROS-792"><span class="linenos"> 792</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-793"><a href="#RobotROS-793"><span class="linenos"> 793</span></a><span class="sd">        Returns the task from the task list with a specific index.</span>
</span><span id="RobotROS-794"><a href="#RobotROS-794"><span class="linenos"> 794</span></a><span class="sd">        </span>
</span><span id="RobotROS-795"><a href="#RobotROS-795"><span class="linenos"> 795</span></a><span class="sd">        :param index: int                                   - The index of the task</span>
</span><span id="RobotROS-796"><a href="#RobotROS-796"><span class="linenos"> 796</span></a><span class="sd">        :return: **mapf_simulation.visualizerItem.TaskROS** - The selected task from the task list </span>
</span><span id="RobotROS-797"><a href="#RobotROS-797"><span class="linenos"> 797</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-798"><a href="#RobotROS-798"><span class="linenos"> 798</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</span><span id="RobotROS-799"><a href="#RobotROS-799"><span class="linenos"> 799</span></a>    
</span><span id="RobotROS-800"><a href="#RobotROS-800"><span class="linenos"> 800</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-801"><a href="#RobotROS-801"><span class="linenos"> 801</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-802"><a href="#RobotROS-802"><span class="linenos"> 802</span></a><span class="sd">        Returns the current rectangle of the robot. </span>
</span><span id="RobotROS-803"><a href="#RobotROS-803"><span class="linenos"> 803</span></a>
</span><span id="RobotROS-804"><a href="#RobotROS-804"><span class="linenos"> 804</span></a><span class="sd">        :return: **QtCore.QRect** - The adjusted current rectangle of the QGraphicsItem which should represent the robot.</span>
</span><span id="RobotROS-805"><a href="#RobotROS-805"><span class="linenos"> 805</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-806"><a href="#RobotROS-806"><span class="linenos"> 806</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="RobotROS-807"><a href="#RobotROS-807"><span class="linenos"> 807</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="RobotROS-808"><a href="#RobotROS-808"><span class="linenos"> 808</span></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span>
</span><span id="RobotROS-809"><a href="#RobotROS-809"><span class="linenos"> 809</span></a>            <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span>
</span><span id="RobotROS-810"><a href="#RobotROS-810"><span class="linenos"> 810</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS-811"><a href="#RobotROS-811"><span class="linenos"> 811</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setTop</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS-812"><a href="#RobotROS-812"><span class="linenos"> 812</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS-813"><a href="#RobotROS-813"><span class="linenos"> 813</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS-814"><a href="#RobotROS-814"><span class="linenos"> 814</span></a>            <span class="k">return</span> <span class="n">rect</span>
</span><span id="RobotROS-815"><a href="#RobotROS-815"><span class="linenos"> 815</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="RobotROS-816"><a href="#RobotROS-816"><span class="linenos"> 816</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="RobotROS-817"><a href="#RobotROS-817"><span class="linenos"> 817</span></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="mf">0.9</span>
</span><span id="RobotROS-818"><a href="#RobotROS-818"><span class="linenos"> 818</span></a>            <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">/</span><span class="mf">0.9</span>
</span><span id="RobotROS-819"><a href="#RobotROS-819"><span class="linenos"> 819</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS-820"><a href="#RobotROS-820"><span class="linenos"> 820</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setTop</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS-821"><a href="#RobotROS-821"><span class="linenos"> 821</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS-822"><a href="#RobotROS-822"><span class="linenos"> 822</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS-823"><a href="#RobotROS-823"><span class="linenos"> 823</span></a>            <span class="k">return</span> <span class="n">rect</span>
</span><span id="RobotROS-824"><a href="#RobotROS-824"><span class="linenos"> 824</span></a>
</span><span id="RobotROS-825"><a href="#RobotROS-825"><span class="linenos"> 825</span></a>    <span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-826"><a href="#RobotROS-826"><span class="linenos"> 826</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-827"><a href="#RobotROS-827"><span class="linenos"> 827</span></a><span class="sd">        Returns whether the robot is ready to execute the next action.  </span>
</span><span id="RobotROS-828"><a href="#RobotROS-828"><span class="linenos"> 828</span></a><span class="sd">        (A robot is READY if he knows what action he should execute as next)  </span>
</span><span id="RobotROS-829"><a href="#RobotROS-829"><span class="linenos"> 829</span></a><span class="sd">        (A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step) </span>
</span><span id="RobotROS-830"><a href="#RobotROS-830"><span class="linenos"> 830</span></a><span class="sd">        </span>
</span><span id="RobotROS-831"><a href="#RobotROS-831"><span class="linenos"> 831</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS-832"><a href="#RobotROS-832"><span class="linenos"> 832</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-833"><a href="#RobotROS-833"><span class="linenos"> 833</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span>
</span><span id="RobotROS-834"><a href="#RobotROS-834"><span class="linenos"> 834</span></a>    
</span><span id="RobotROS-835"><a href="#RobotROS-835"><span class="linenos"> 835</span></a>
</span><span id="RobotROS-836"><a href="#RobotROS-836"><span class="linenos"> 836</span></a>    <span class="c1">#EVENTS (Drag&amp;Drop)</span>
</span><span id="RobotROS-837"><a href="#RobotROS-837"><span class="linenos"> 837</span></a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="RobotROS-838"><a href="#RobotROS-838"><span class="linenos"> 838</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-839"><a href="#RobotROS-839"><span class="linenos"> 839</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="RobotROS-840"><a href="#RobotROS-840"><span class="linenos"> 840</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-841"><a href="#RobotROS-841"><span class="linenos"> 841</span></a>        <span class="n">model_view</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RobotROS-842"><a href="#RobotROS-842"><span class="linenos"> 842</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RobotROS-843"><a href="#RobotROS-843"><span class="linenos"> 843</span></a>        <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">views</span><span class="p">():</span>
</span><span id="RobotROS-844"><a href="#RobotROS-844"><span class="linenos"> 844</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">modelView</span><span class="o">.</span><span class="n">ModelView</span><span class="p">):</span>
</span><span id="RobotROS-845"><a href="#RobotROS-845"><span class="linenos"> 845</span></a>                <span class="n">model_view</span> <span class="o">=</span> <span class="n">view</span>
</span><span id="RobotROS-846"><a href="#RobotROS-846"><span class="linenos"> 846</span></a>        <span class="k">if</span> <span class="n">model_view</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-847"><a href="#RobotROS-847"><span class="linenos"> 847</span></a>            <span class="k">return</span>
</span><span id="RobotROS-848"><a href="#RobotROS-848"><span class="linenos"> 848</span></a>        <span class="n">node</span> <span class="o">=</span> <span class="n">model_view</span><span class="o">.</span><span class="n">scene_coordinates_to_node</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="RobotROS-849"><a href="#RobotROS-849"><span class="linenos"> 849</span></a>                                                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="RobotROS-850"><a href="#RobotROS-850"><span class="linenos"> 850</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS-851"><a href="#RobotROS-851"><span class="linenos"> 851</span></a>
</span><span id="RobotROS-852"><a href="#RobotROS-852"><span class="linenos"> 852</span></a>        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-853"><a href="#RobotROS-853"><span class="linenos"> 853</span></a>            <span class="c1">#if item not moved but only clicked then highlight it and all the corresponding checkpoints</span>
</span><span id="RobotROS-854"><a href="#RobotROS-854"><span class="linenos"> 854</span></a>            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS-855"><a href="#RobotROS-855"><span class="linenos"> 855</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span>
</span><span id="RobotROS-856"><a href="#RobotROS-856"><span class="linenos"> 856</span></a>                <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS-857"><a href="#RobotROS-857"><span class="linenos"> 857</span></a>                    <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="RobotROS-858"><a href="#RobotROS-858"><span class="linenos"> 858</span></a>                        <span class="n">checkpoint</span><span class="o">.</span><span class="n">set_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">)</span>
</span><span id="RobotROS-859"><a href="#RobotROS-859"><span class="linenos"> 859</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span><span class="p">:</span>
</span><span id="RobotROS-860"><a href="#RobotROS-860"><span class="linenos"> 860</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">is_node_free_of_robots</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS-861"><a href="#RobotROS-861"><span class="linenos"> 861</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">edit_position_to</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="RobotROS-862"><a href="#RobotROS-862"><span class="linenos"> 862</span></a>        <span class="n">model_view</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="RobotROS-863"><a href="#RobotROS-863"><span class="linenos"> 863</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span><span id="RobotROS-864"><a href="#RobotROS-864"><span class="linenos"> 864</span></a>
</span><span id="RobotROS-865"><a href="#RobotROS-865"><span class="linenos"> 865</span></a>    <span class="k">def</span> <span class="nf">edit_position_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="RobotROS-866"><a href="#RobotROS-866"><span class="linenos"> 866</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-867"><a href="#RobotROS-867"><span class="linenos"> 867</span></a><span class="sd">        Sets a new starting position and new current position for the </span>
</span><span id="RobotROS-868"><a href="#RobotROS-868"><span class="linenos"> 868</span></a><span class="sd">        robot. If another robot is already on the same position</span>
</span><span id="RobotROS-869"><a href="#RobotROS-869"><span class="linenos"> 869</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="RobotROS-870"><a href="#RobotROS-870"><span class="linenos"> 870</span></a><span class="sd">        the drag and drop feature. </span>
</span><span id="RobotROS-871"><a href="#RobotROS-871"><span class="linenos"> 871</span></a>
</span><span id="RobotROS-872"><a href="#RobotROS-872"><span class="linenos"> 872</span></a><span class="sd">        :param x:       int                - The x coordinate on the grid (new position for the robot)</span>
</span><span id="RobotROS-873"><a href="#RobotROS-873"><span class="linenos"> 873</span></a><span class="sd">        :param y:       int                - The y coordinate on the grid (new position for the robot)</span>
</span><span id="RobotROS-874"><a href="#RobotROS-874"><span class="linenos"> 874</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-875"><a href="#RobotROS-875"><span class="linenos"> 875</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS-876"><a href="#RobotROS-876"><span class="linenos"> 876</span></a>            <span class="k">return</span>
</span><span id="RobotROS-877"><a href="#RobotROS-877"><span class="linenos"> 877</span></a>        <span class="n">item2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">filter_items</span><span class="p">(</span><span class="n">item_kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">,</span>
</span><span id="RobotROS-878"><a href="#RobotROS-878"><span class="linenos"> 878</span></a>                                        <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>
</span><span id="RobotROS-879"><a href="#RobotROS-879"><span class="linenos"> 879</span></a>                                        <span class="n">return_first</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS-880"><a href="#RobotROS-880"><span class="linenos"> 880</span></a>        
</span><span id="RobotROS-881"><a href="#RobotROS-881"><span class="linenos"> 881</span></a>        <span class="k">if</span> <span class="n">item2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-882"><a href="#RobotROS-882"><span class="linenos"> 882</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="RobotROS-883"><a href="#RobotROS-883"><span class="linenos"> 883</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="RobotROS-884"><a href="#RobotROS-884"><span class="linenos"> 884</span></a>            <span class="c1">#item2.clear_actions()</span>
</span><span id="RobotROS-885"><a href="#RobotROS-885"><span class="linenos"> 885</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_theta</span><span class="p">())</span>
</span><span id="RobotROS-886"><a href="#RobotROS-886"><span class="linenos"> 886</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_theta</span><span class="p">())</span>
</span><span id="RobotROS-887"><a href="#RobotROS-887"><span class="linenos"> 887</span></a>        <span class="c1">#self.clear_actions()</span>
</span><span id="RobotROS-888"><a href="#RobotROS-888"><span class="linenos"> 888</span></a>
</span><span id="RobotROS-889"><a href="#RobotROS-889"><span class="linenos"> 889</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span id="RobotROS-890"><a href="#RobotROS-890"><span class="linenos"> 890</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">mapf_reset_connection</span><span class="p">()</span>
</span><span id="RobotROS-891"><a href="#RobotROS-891"><span class="linenos"> 891</span></a>
</span><span id="RobotROS-892"><a href="#RobotROS-892"><span class="linenos"> 892</span></a>
</span><span id="RobotROS-893"><a href="#RobotROS-893"><span class="linenos"> 893</span></a>    <span class="c1">#VISUAL</span>
</span><span id="RobotROS-894"><a href="#RobotROS-894"><span class="linenos"> 894</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="RobotROS-895"><a href="#RobotROS-895"><span class="linenos"> 895</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;    </span>
</span><span id="RobotROS-896"><a href="#RobotROS-896"><span class="linenos"> 896</span></a><span class="sd">        Sets the rectangle that a robot can use to draw things in.</span>
</span><span id="RobotROS-897"><a href="#RobotROS-897"><span class="linenos"> 897</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="RobotROS-898"><a href="#RobotROS-898"><span class="linenos"> 898</span></a><span class="sd">        This function defines the appearance of the robot</span>
</span><span id="RobotROS-899"><a href="#RobotROS-899"><span class="linenos"> 899</span></a><span class="sd">        on the grid.</span>
</span><span id="RobotROS-900"><a href="#RobotROS-900"><span class="linenos"> 900</span></a>
</span><span id="RobotROS-901"><a href="#RobotROS-901"><span class="linenos"> 901</span></a><span class="sd">        :param rect:    QtCore.QRect    - The rectangle that a robot can use to draw things in.</span>
</span><span id="RobotROS-902"><a href="#RobotROS-902"><span class="linenos"> 902</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-903"><a href="#RobotROS-903"><span class="linenos"> 903</span></a>        <span class="n">scale</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_scale&#39;</span><span class="p">)</span>
</span><span id="RobotROS-904"><a href="#RobotROS-904"><span class="linenos"> 904</span></a>        <span class="n">bold</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_bold&#39;</span><span class="p">)</span>
</span><span id="RobotROS-905"><a href="#RobotROS-905"><span class="linenos"> 905</span></a>
</span><span id="RobotROS-906"><a href="#RobotROS-906"><span class="linenos"> 906</span></a>        <span class="c1">#SET FONTSIZE, TEXT POSITION AND DEFAULT TEXT COLOR</span>
</span><span id="RobotROS-907"><a href="#RobotROS-907"><span class="linenos"> 907</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.3</span><span class="o">*</span><span class="n">scale</span><span class="p">))</span>
</span><span id="RobotROS-908"><a href="#RobotROS-908"><span class="linenos"> 908</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="RobotROS-909"><a href="#RobotROS-909"><span class="linenos"> 909</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setDefaultTextColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_color&#39;</span><span class="p">)))</span>
</span><span id="RobotROS-910"><a href="#RobotROS-910"><span class="linenos"> 910</span></a>
</span><span id="RobotROS-911"><a href="#RobotROS-911"><span class="linenos"> 911</span></a>        <span class="c1">#SET DISPLAY MODE</span>
</span><span id="RobotROS-912"><a href="#RobotROS-912"><span class="linenos"> 912</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="RobotROS-913"><a href="#RobotROS-913"><span class="linenos"> 913</span></a>            <span class="k">if</span> <span class="n">bold</span><span class="p">:</span>
</span><span id="RobotROS-914"><a href="#RobotROS-914"><span class="linenos"> 914</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</span><span id="RobotROS-915"><a href="#RobotROS-915"><span class="linenos"> 915</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="RobotROS-916"><a href="#RobotROS-916"><span class="linenos"> 916</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">))</span>
</span><span id="RobotROS-917"><a href="#RobotROS-917"><span class="linenos"> 917</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RobotROS-918"><a href="#RobotROS-918"><span class="linenos"> 918</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="RobotROS-919"><a href="#RobotROS-919"><span class="linenos"> 919</span></a>
</span><span id="RobotROS-920"><a href="#RobotROS-920"><span class="linenos"> 920</span></a>        <span class="c1">#SET POSITION AND SIZE OF GRAPHICS ITEM INSIDE THE CELL </span>
</span><span id="RobotROS-921"><a href="#RobotROS-921"><span class="linenos"> 921</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">()</span>
</span><span id="RobotROS-922"><a href="#RobotROS-922"><span class="linenos"> 922</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="RobotROS-923"><a href="#RobotROS-923"><span class="linenos"> 923</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="RobotROS-924"><a href="#RobotROS-924"><span class="linenos"> 924</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">,</span>
</span><span id="RobotROS-925"><a href="#RobotROS-925"><span class="linenos"> 925</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="RobotROS-926"><a href="#RobotROS-926"><span class="linenos"> 926</span></a>        
</span><span id="RobotROS-927"><a href="#RobotROS-927"><span class="linenos"> 927</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="RobotROS-928"><a href="#RobotROS-928"><span class="linenos"> 928</span></a>        
</span><span id="RobotROS-929"><a href="#RobotROS-929"><span class="linenos"> 929</span></a>        <span class="c1">#IF HIGHLIGHTED</span>
</span><span id="RobotROS-930"><a href="#RobotROS-930"><span class="linenos"> 930</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS-931"><a href="#RobotROS-931"><span class="linenos"> 931</span></a>            <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="RobotROS-932"><a href="#RobotROS-932"><span class="linenos"> 932</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="RobotROS-933"><a href="#RobotROS-933"><span class="linenos"> 933</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">,</span>
</span><span id="RobotROS-934"><a href="#RobotROS-934"><span class="linenos"> 934</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="RobotROS-935"><a href="#RobotROS-935"><span class="linenos"> 935</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.25</span><span class="p">)</span>
</span><span id="RobotROS-936"><a href="#RobotROS-936"><span class="linenos"> 936</span></a>            
</span><span id="RobotROS-937"><a href="#RobotROS-937"><span class="linenos"> 937</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>
</span><span id="RobotROS-938"><a href="#RobotROS-938"><span class="linenos"> 938</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="p">)</span>
</span><span id="RobotROS-939"><a href="#RobotROS-939"><span class="linenos"> 939</span></a>
</span><span id="RobotROS-940"><a href="#RobotROS-940"><span class="linenos"> 940</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS-941"><a href="#RobotROS-941"><span class="linenos"> 941</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS-942"><a href="#RobotROS-942"><span class="linenos"> 942</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="RobotROS-943"><a href="#RobotROS-943"><span class="linenos"> 943</span></a>            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="RobotROS-944"><a href="#RobotROS-944"><span class="linenos"> 944</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS-945"><a href="#RobotROS-945"><span class="linenos"> 945</span></a>                    <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS-946"><a href="#RobotROS-946"><span class="linenos"> 946</span></a>                    <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS-947"><a href="#RobotROS-947"><span class="linenos"> 947</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS-948"><a href="#RobotROS-948"><span class="linenos"> 948</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">set_theta</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>    
</span><span id="RobotROS-949"><a href="#RobotROS-949"><span class="linenos"> 949</span></a>                <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS-950"><a href="#RobotROS-950"><span class="linenos"> 950</span></a>                    <span class="k">pass</span>
</span><span id="RobotROS-951"><a href="#RobotROS-951"><span class="linenos"> 951</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS-952"><a href="#RobotROS-952"><span class="linenos"> 952</span></a>            <span class="k">pass</span>
</span><span id="RobotROS-953"><a href="#RobotROS-953"><span class="linenos"> 953</span></a>        
</span><span id="RobotROS-954"><a href="#RobotROS-954"><span class="linenos"> 954</span></a>        <span class="c1">#DRAW THE RIGHT ORIENTATION OF THE ROBOT IN THE DIRECTION OF MOVING</span>
</span><span id="RobotROS-955"><a href="#RobotROS-955"><span class="linenos"> 955</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_line_item</span><span class="o">.</span><span class="n">setLine</span><span class="p">(</span><span class="n">rect2</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>  <span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>   <span class="c1">#start x</span>
</span><span id="RobotROS-956"><a href="#RobotROS-956"><span class="linenos"> 956</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1">#start y </span>
</span><span id="RobotROS-957"><a href="#RobotROS-957"><span class="linenos"> 957</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>  <span class="o">*</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>      <span class="c1">#end x</span>
</span><span id="RobotROS-958"><a href="#RobotROS-958"><span class="linenos"> 958</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">*</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>      <span class="c1">#end y                                  </span>
</span><span id="RobotROS-959"><a href="#RobotROS-959"><span class="linenos"> 959</span></a>        <span class="c1">#UPDATE TOOLTIP</span>
</span><span id="RobotROS-960"><a href="#RobotROS-960"><span class="linenos"> 960</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_tooltip</span><span class="p">()</span>
</span><span id="RobotROS-961"><a href="#RobotROS-961"><span class="linenos"> 961</span></a>
</span><span id="RobotROS-962"><a href="#RobotROS-962"><span class="linenos"> 962</span></a>    <span class="k">def</span> <span class="nf">update_tooltip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-963"><a href="#RobotROS-963"><span class="linenos"> 963</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-964"><a href="#RobotROS-964"><span class="linenos"> 964</span></a><span class="sd">        Updates the tooltip for the robot.</span>
</span><span id="RobotROS-965"><a href="#RobotROS-965"><span class="linenos"> 965</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-966"><a href="#RobotROS-966"><span class="linenos"> 966</span></a>        <span class="n">tooltip</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;robot(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="RobotROS-967"><a href="#RobotROS-967"><span class="linenos"> 967</span></a>                   <span class="s2">&quot;)</span><span class="se">\n</span><span class="s2">Position: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()))</span>
</span><span id="RobotROS-968"><a href="#RobotROS-968"><span class="linenos"> 968</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">tooltip</span><span class="p">)</span>
</span><span id="RobotROS-969"><a href="#RobotROS-969"><span class="linenos"> 969</span></a>
</span><span id="RobotROS-970"><a href="#RobotROS-970"><span class="linenos"> 970</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="RobotROS-971"><a href="#RobotROS-971"><span class="linenos"> 971</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-972"><a href="#RobotROS-972"><span class="linenos"> 972</span></a><span class="sd">        Determines the color of the robot.</span>
</span><span id="RobotROS-973"><a href="#RobotROS-973"><span class="linenos"> 973</span></a><span class="sd">        </span>
</span><span id="RobotROS-974"><a href="#RobotROS-974"><span class="linenos"> 974</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="RobotROS-975"><a href="#RobotROS-975"><span class="linenos"> 975</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="RobotROS-976"><a href="#RobotROS-976"><span class="linenos"> 976</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="RobotROS-977"><a href="#RobotROS-977"><span class="linenos"> 977</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="RobotROS-978"><a href="#RobotROS-978"><span class="linenos"> 978</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-979"><a href="#RobotROS-979"><span class="linenos"> 979</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">calculate_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">)(</span><span class="n">number</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">)</span>
</span><span id="RobotROS-980"><a href="#RobotROS-980"><span class="linenos"> 980</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="RobotROS-981"><a href="#RobotROS-981"><span class="linenos"> 981</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QBrush</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
</span><span id="RobotROS-982"><a href="#RobotROS-982"><span class="linenos"> 982</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="RobotROS-983"><a href="#RobotROS-983"><span class="linenos"> 983</span></a>
</span><span id="RobotROS-984"><a href="#RobotROS-984"><span class="linenos"> 984</span></a>    
</span><span id="RobotROS-985"><a href="#RobotROS-985"><span class="linenos"> 985</span></a>    <span class="c1">#ACTIONS / UPDATE   </span>
</span><span id="RobotROS-986"><a href="#RobotROS-986"><span class="linenos"> 986</span></a>    <span class="k">def</span> <span class="nf">clear_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-987"><a href="#RobotROS-987"><span class="linenos"> 987</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-988"><a href="#RobotROS-988"><span class="linenos"> 988</span></a><span class="sd">        Deletes all saved actions for the robot.</span>
</span><span id="RobotROS-989"><a href="#RobotROS-989"><span class="linenos"> 989</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-990"><a href="#RobotROS-990"><span class="linenos"> 990</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="RobotROS-991"><a href="#RobotROS-991"><span class="linenos"> 991</span></a>
</span><span id="RobotROS-992"><a href="#RobotROS-992"><span class="linenos"> 992</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS-993"><a href="#RobotROS-993"><span class="linenos"> 993</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-994"><a href="#RobotROS-994"><span class="linenos"> 994</span></a><span class="sd">        Executes an action for the robot.</span>
</span><span id="RobotROS-995"><a href="#RobotROS-995"><span class="linenos"> 995</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="RobotROS-996"><a href="#RobotROS-996"><span class="linenos"> 996</span></a><span class="sd">        one time step forward.</span>
</span><span id="RobotROS-997"><a href="#RobotROS-997"><span class="linenos"> 997</span></a><span class="sd">        </span>
</span><span id="RobotROS-998"><a href="#RobotROS-998"><span class="linenos"> 998</span></a><span class="sd">        :param time_step:   int     - The time step for which an action should be executed.</span>
</span><span id="RobotROS-999"><a href="#RobotROS-999"><span class="linenos"> 999</span></a><span class="sd">        :return:   **int**          - 1 if an action was done and 0 if an error occured.</span>
</span><span id="RobotROS-1000"><a href="#RobotROS-1000"><span class="linenos">1000</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1001"><a href="#RobotROS-1001"><span class="linenos">1001</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">VIZ_STATE_ACTION</span>
</span><span id="RobotROS-1002"><a href="#RobotROS-1002"><span class="linenos">1002</span></a>
</span><span id="RobotROS-1003"><a href="#RobotROS-1003"><span class="linenos">1003</span></a>        <span class="c1">#SETS THE STATE FOR THE NEXT ACTION</span>
</span><span id="RobotROS-1004"><a href="#RobotROS-1004"><span class="linenos">1004</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="RobotROS-1005"><a href="#RobotROS-1005"><span class="linenos">1005</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-1006"><a href="#RobotROS-1006"><span class="linenos">1006</span></a>                <span class="c1">#SETS THE STATE FOR THE NEXT ACTION</span>
</span><span id="RobotROS-1007"><a href="#RobotROS-1007"><span class="linenos">1007</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVE</span>
</span><span id="RobotROS-1008"><a href="#RobotROS-1008"><span class="linenos">1008</span></a>        
</span><span id="RobotROS-1009"><a href="#RobotROS-1009"><span class="linenos">1009</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="RobotROS-1010"><a href="#RobotROS-1010"><span class="linenos">1010</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS-1011"><a href="#RobotROS-1011"><span class="linenos">1011</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-1012"><a href="#RobotROS-1012"><span class="linenos">1012</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS-1013"><a href="#RobotROS-1013"><span class="linenos">1013</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-1014"><a href="#RobotROS-1014"><span class="linenos">1014</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1015"><a href="#RobotROS-1015"><span class="linenos">1015</span></a>
</span><span id="RobotROS-1016"><a href="#RobotROS-1016"><span class="linenos">1016</span></a>        <span class="c1">#TRY TO GET THE ACTION</span>
</span><span id="RobotROS-1017"><a href="#RobotROS-1017"><span class="linenos">1017</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS-1018"><a href="#RobotROS-1018"><span class="linenos">1018</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS-1019"><a href="#RobotROS-1019"><span class="linenos">1019</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="RobotROS-1020"><a href="#RobotROS-1020"><span class="linenos">1020</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS-1021"><a href="#RobotROS-1021"><span class="linenos">1021</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1022"><a href="#RobotROS-1022"><span class="linenos">1022</span></a>
</span><span id="RobotROS-1023"><a href="#RobotROS-1023"><span class="linenos">1023</span></a>        <span class="c1">#EXECUTE ACTION</span>
</span><span id="RobotROS-1024"><a href="#RobotROS-1024"><span class="linenos">1024</span></a>        <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
</span><span id="RobotROS-1025"><a href="#RobotROS-1025"><span class="linenos">1025</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span> 
</span><span id="RobotROS-1026"><a href="#RobotROS-1026"><span class="linenos">1026</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1027"><a href="#RobotROS-1027"><span class="linenos">1027</span></a>          
</span><span id="RobotROS-1028"><a href="#RobotROS-1028"><span class="linenos">1028</span></a>            <span class="c1">#MOVE </span>
</span><span id="RobotROS-1029"><a href="#RobotROS-1029"><span class="linenos">1029</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS-1030"><a href="#RobotROS-1030"><span class="linenos">1030</span></a>                <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS-1031"><a href="#RobotROS-1031"><span class="linenos">1031</span></a>                <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS-1032"><a href="#RobotROS-1032"><span class="linenos">1032</span></a>                <span class="c1">#MOVE AND CHANGE ORIENTATION IF VALUE NOT ZERO</span>
</span><span id="RobotROS-1033"><a href="#RobotROS-1033"><span class="linenos">1033</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS-1034"><a href="#RobotROS-1034"><span class="linenos">1034</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">move_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">move_y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</span><span id="RobotROS-1035"><a href="#RobotROS-1035"><span class="linenos">1035</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVED</span>
</span><span id="RobotROS-1036"><a href="#RobotROS-1036"><span class="linenos">1036</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS-1037"><a href="#RobotROS-1037"><span class="linenos">1037</span></a>                <span class="c1">#NO ACTION, NO CHANGE IN POSITION</span>
</span><span id="RobotROS-1038"><a href="#RobotROS-1038"><span class="linenos">1038</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="RobotROS-1039"><a href="#RobotROS-1039"><span class="linenos">1039</span></a>            
</span><span id="RobotROS-1040"><a href="#RobotROS-1040"><span class="linenos">1040</span></a>            <span class="c1">#MARK VISITED CHECKPOINTS</span>
</span><span id="RobotROS-1041"><a href="#RobotROS-1041"><span class="linenos">1041</span></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS-1042"><a href="#RobotROS-1042"><span class="linenos">1042</span></a>                <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="RobotROS-1043"><a href="#RobotROS-1043"><span class="linenos">1043</span></a>                    <span class="n">pos</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS-1044"><a href="#RobotROS-1044"><span class="linenos">1044</span></a>                    <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="RobotROS-1045"><a href="#RobotROS-1045"><span class="linenos">1045</span></a>                        <span class="n">task</span><span class="o">.</span><span class="n">visit_checkpoint</span><span class="p">(</span><span class="n">checkpoint</span><span class="p">)</span>
</span><span id="RobotROS-1046"><a href="#RobotROS-1046"><span class="linenos">1046</span></a>                        <span class="k">break</span>
</span><span id="RobotROS-1047"><a href="#RobotROS-1047"><span class="linenos">1047</span></a>
</span><span id="RobotROS-1048"><a href="#RobotROS-1048"><span class="linenos">1048</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="n">time_step</span>
</span><span id="RobotROS-1049"><a href="#RobotROS-1049"><span class="linenos">1049</span></a>            <span class="k">return</span> <span class="mi">1</span>
</span><span id="RobotROS-1050"><a href="#RobotROS-1050"><span class="linenos">1050</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1051"><a href="#RobotROS-1051"><span class="linenos">1051</span></a>
</span><span id="RobotROS-1052"><a href="#RobotROS-1052"><span class="linenos">1052</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS-1053"><a href="#RobotROS-1053"><span class="linenos">1053</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1054"><a href="#RobotROS-1054"><span class="linenos">1054</span></a><span class="sd">        Reverse an executed action for the robot.</span>
</span><span id="RobotROS-1055"><a href="#RobotROS-1055"><span class="linenos">1055</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="RobotROS-1056"><a href="#RobotROS-1056"><span class="linenos">1056</span></a><span class="sd">        one time step backwards.  </span>
</span><span id="RobotROS-1057"><a href="#RobotROS-1057"><span class="linenos">1057</span></a>
</span><span id="RobotROS-1058"><a href="#RobotROS-1058"><span class="linenos">1058</span></a><span class="sd">        :param time_step:   int     - The time step for which an action should be reversed.</span>
</span><span id="RobotROS-1059"><a href="#RobotROS-1059"><span class="linenos">1059</span></a><span class="sd">        :return:   **int**          - 1 if an action was done and 0 if an error occured.</span>
</span><span id="RobotROS-1060"><a href="#RobotROS-1060"><span class="linenos">1060</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1061"><a href="#RobotROS-1061"><span class="linenos">1061</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">VIZ_STATE_ACTION</span>
</span><span id="RobotROS-1062"><a href="#RobotROS-1062"><span class="linenos">1062</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>  
</span><span id="RobotROS-1063"><a href="#RobotROS-1063"><span class="linenos">1063</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS-1064"><a href="#RobotROS-1064"><span class="linenos">1064</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span> 
</span><span id="RobotROS-1065"><a href="#RobotROS-1065"><span class="linenos">1065</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS-1066"><a href="#RobotROS-1066"><span class="linenos">1066</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-1067"><a href="#RobotROS-1067"><span class="linenos">1067</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1068"><a href="#RobotROS-1068"><span class="linenos">1068</span></a>
</span><span id="RobotROS-1069"><a href="#RobotROS-1069"><span class="linenos">1069</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS-1070"><a href="#RobotROS-1070"><span class="linenos">1070</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS-1071"><a href="#RobotROS-1071"><span class="linenos">1071</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="RobotROS-1072"><a href="#RobotROS-1072"><span class="linenos">1072</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS-1073"><a href="#RobotROS-1073"><span class="linenos">1073</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1074"><a href="#RobotROS-1074"><span class="linenos">1074</span></a>
</span><span id="RobotROS-1075"><a href="#RobotROS-1075"><span class="linenos">1075</span></a>        <span class="c1">#EXECUTE ACTION</span>
</span><span id="RobotROS-1076"><a href="#RobotROS-1076"><span class="linenos">1076</span></a>        <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
</span><span id="RobotROS-1077"><a href="#RobotROS-1077"><span class="linenos">1077</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span> 
</span><span id="RobotROS-1078"><a href="#RobotROS-1078"><span class="linenos">1078</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1079"><a href="#RobotROS-1079"><span class="linenos">1079</span></a>            
</span><span id="RobotROS-1080"><a href="#RobotROS-1080"><span class="linenos">1080</span></a>            <span class="c1">#UNMARK VISITED CHECKPOINTS</span>
</span><span id="RobotROS-1081"><a href="#RobotROS-1081"><span class="linenos">1081</span></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS-1082"><a href="#RobotROS-1082"><span class="linenos">1082</span></a>                <span class="k">for</span> <span class="n">checkpoint</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="RobotROS-1083"><a href="#RobotROS-1083"><span class="linenos">1083</span></a>                    <span class="c1">#checkpoint[0] -&gt; checkpoint object, checkpoint[1] -&gt; name of the checkpoint</span>
</span><span id="RobotROS-1084"><a href="#RobotROS-1084"><span class="linenos">1084</span></a>                    <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS-1085"><a href="#RobotROS-1085"><span class="linenos">1085</span></a>                    <span class="n">pos</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS-1086"><a href="#RobotROS-1086"><span class="linenos">1086</span></a>                    <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="RobotROS-1087"><a href="#RobotROS-1087"><span class="linenos">1087</span></a>                        <span class="n">task</span><span class="o">.</span><span class="n">unvisit_checkpoint</span><span class="p">(</span><span class="n">checkpoint</span><span class="p">)</span>
</span><span id="RobotROS-1088"><a href="#RobotROS-1088"><span class="linenos">1088</span></a>                        <span class="k">break</span>
</span><span id="RobotROS-1089"><a href="#RobotROS-1089"><span class="linenos">1089</span></a>
</span><span id="RobotROS-1090"><a href="#RobotROS-1090"><span class="linenos">1090</span></a>            <span class="c1">#MOVE BACK</span>
</span><span id="RobotROS-1091"><a href="#RobotROS-1091"><span class="linenos">1091</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS-1092"><a href="#RobotROS-1092"><span class="linenos">1092</span></a>                <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS-1093"><a href="#RobotROS-1093"><span class="linenos">1093</span></a>                <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS-1094"><a href="#RobotROS-1094"><span class="linenos">1094</span></a>                <span class="c1">#MOVE BACK AND CHANGE ORIENTATION IF VALUE NOT ZERO</span>
</span><span id="RobotROS-1095"><a href="#RobotROS-1095"><span class="linenos">1095</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS-1096"><a href="#RobotROS-1096"><span class="linenos">1096</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">move_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">move_y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</span><span id="RobotROS-1097"><a href="#RobotROS-1097"><span class="linenos">1097</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVE</span>
</span><span id="RobotROS-1098"><a href="#RobotROS-1098"><span class="linenos">1098</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS-1099"><a href="#RobotROS-1099"><span class="linenos">1099</span></a>                <span class="c1">#NO ACTION, NO CHANGE IN POSITION</span>
</span><span id="RobotROS-1100"><a href="#RobotROS-1100"><span class="linenos">1100</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="RobotROS-1101"><a href="#RobotROS-1101"><span class="linenos">1101</span></a>            
</span><span id="RobotROS-1102"><a href="#RobotROS-1102"><span class="linenos">1102</span></a>            <span class="k">return</span> <span class="mi">1</span>
</span><span id="RobotROS-1103"><a href="#RobotROS-1103"><span class="linenos">1103</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS-1104"><a href="#RobotROS-1104"><span class="linenos">1104</span></a>
</span><span id="RobotROS-1105"><a href="#RobotROS-1105"><span class="linenos">1105</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-1106"><a href="#RobotROS-1106"><span class="linenos">1106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1107"><a href="#RobotROS-1107"><span class="linenos">1107</span></a><span class="sd">        Resets the item to its original values. This function will be called for every item if </span>
</span><span id="RobotROS-1108"><a href="#RobotROS-1108"><span class="linenos">1108</span></a><span class="sd">        the Button &quot;RESET&quot; in the GUI is pressed</span>
</span><span id="RobotROS-1109"><a href="#RobotROS-1109"><span class="linenos">1109</span></a><span class="sd">        -   delete old actions for the robot</span>
</span><span id="RobotROS-1110"><a href="#RobotROS-1110"><span class="linenos">1110</span></a><span class="sd">        -   move the robot back to it&#39;s start position</span>
</span><span id="RobotROS-1111"><a href="#RobotROS-1111"><span class="linenos">1111</span></a><span class="sd">        -   mark all the checkpoints of the robot as not visited yet</span>
</span><span id="RobotROS-1112"><a href="#RobotROS-1112"><span class="linenos">1112</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1113"><a href="#RobotROS-1113"><span class="linenos">1113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">clear_actions</span><span class="p">()</span>
</span><span id="RobotROS-1114"><a href="#RobotROS-1114"><span class="linenos">1114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="RobotROS-1115"><a href="#RobotROS-1115"><span class="linenos">1115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">unvisit_all_checkpoints</span><span class="p">()</span>
</span><span id="RobotROS-1116"><a href="#RobotROS-1116"><span class="linenos">1116</span></a>
</span><span id="RobotROS-1117"><a href="#RobotROS-1117"><span class="linenos">1117</span></a>    <span class="k">def</span> <span class="nf">restart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-1118"><a href="#RobotROS-1118"><span class="linenos">1118</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1119"><a href="#RobotROS-1119"><span class="linenos">1119</span></a><span class="sd">        Sets the robot to it&#39;s starting position.</span>
</span><span id="RobotROS-1120"><a href="#RobotROS-1120"><span class="linenos">1120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1121"><a href="#RobotROS-1121"><span class="linenos">1121</span></a>        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">restart</span><span class="p">()</span>
</span><span id="RobotROS-1122"><a href="#RobotROS-1122"><span class="linenos">1122</span></a>
</span><span id="RobotROS-1123"><a href="#RobotROS-1123"><span class="linenos">1123</span></a>
</span><span id="RobotROS-1124"><a href="#RobotROS-1124"><span class="linenos">1124</span></a>    <span class="c1">#TASK / CHECKPOINTS</span>
</span><span id="RobotROS-1125"><a href="#RobotROS-1125"><span class="linenos">1125</span></a>    <span class="k">def</span> <span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">):</span>
</span><span id="RobotROS-1126"><a href="#RobotROS-1126"><span class="linenos">1126</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1127"><a href="#RobotROS-1127"><span class="linenos">1127</span></a><span class="sd">        Adds a task to the robot (For the moment only one task is supported).</span>
</span><span id="RobotROS-1128"><a href="#RobotROS-1128"><span class="linenos">1128</span></a>
</span><span id="RobotROS-1129"><a href="#RobotROS-1129"><span class="linenos">1129</span></a><span class="sd">        :param task:   mapf_simulation.visualizerItem.TaskROS  -    A new task for the robot</span>
</span><span id="RobotROS-1130"><a href="#RobotROS-1130"><span class="linenos">1130</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1131"><a href="#RobotROS-1131"><span class="linenos">1131</span></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS-1132"><a href="#RobotROS-1132"><span class="linenos">1132</span></a>            <span class="k">return</span>
</span><span id="RobotROS-1133"><a href="#RobotROS-1133"><span class="linenos">1133</span></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS-1134"><a href="#RobotROS-1134"><span class="linenos">1134</span></a>            <span class="k">return</span>
</span><span id="RobotROS-1135"><a href="#RobotROS-1135"><span class="linenos">1135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</span><span id="RobotROS-1136"><a href="#RobotROS-1136"><span class="linenos">1136</span></a>        <span class="n">task</span><span class="o">.</span><span class="n">set_robot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS-1137"><a href="#RobotROS-1137"><span class="linenos">1137</span></a>
</span><span id="RobotROS-1138"><a href="#RobotROS-1138"><span class="linenos">1138</span></a>    <span class="k">def</span> <span class="nf">check_robot_at_target</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-1139"><a href="#RobotROS-1139"><span class="linenos">1139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1140"><a href="#RobotROS-1140"><span class="linenos">1140</span></a><span class="sd">        This function checks whether the robot has reached it&#39;s target. </span>
</span><span id="RobotROS-1141"><a href="#RobotROS-1141"><span class="linenos">1141</span></a><span class="sd">        At the moment for one robot only one checkpoint and only one task are supported.</span>
</span><span id="RobotROS-1142"><a href="#RobotROS-1142"><span class="linenos">1142</span></a><span class="sd">        Therefore this function checks only if the robot has reached the position </span>
</span><span id="RobotROS-1143"><a href="#RobotROS-1143"><span class="linenos">1143</span></a><span class="sd">        of the first checkpoint from it&#39;s first task from his task list.</span>
</span><span id="RobotROS-1144"><a href="#RobotROS-1144"><span class="linenos">1144</span></a><span class="sd">        </span>
</span><span id="RobotROS-1145"><a href="#RobotROS-1145"><span class="linenos">1145</span></a><span class="sd">        :return: **True**   -   if the robot has reached it&#39;s target   </span>
</span><span id="RobotROS-1146"><a href="#RobotROS-1146"><span class="linenos">1146</span></a><span class="sd">                 **False**  -   otherwise</span>
</span><span id="RobotROS-1147"><a href="#RobotROS-1147"><span class="linenos">1147</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1148"><a href="#RobotROS-1148"><span class="linenos">1148</span></a>        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS-1149"><a href="#RobotROS-1149"><span class="linenos">1149</span></a>        <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS-1150"><a href="#RobotROS-1150"><span class="linenos">1150</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> 
</span><span id="RobotROS-1151"><a href="#RobotROS-1151"><span class="linenos">1151</span></a>            <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS-1152"><a href="#RobotROS-1152"><span class="linenos">1152</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS-1153"><a href="#RobotROS-1153"><span class="linenos">1153</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="RobotROS-1154"><a href="#RobotROS-1154"><span class="linenos">1154</span></a>
</span><span id="RobotROS-1155"><a href="#RobotROS-1155"><span class="linenos">1155</span></a>    <span class="k">def</span> <span class="nf">unvisit_all_checkpoints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-1156"><a href="#RobotROS-1156"><span class="linenos">1156</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1157"><a href="#RobotROS-1157"><span class="linenos">1157</span></a><span class="sd">        This function iterates over the tasks of this robot and </span>
</span><span id="RobotROS-1158"><a href="#RobotROS-1158"><span class="linenos">1158</span></a><span class="sd">        marks all the checkpoints assigned to the tasks as not visited.</span>
</span><span id="RobotROS-1159"><a href="#RobotROS-1159"><span class="linenos">1159</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1160"><a href="#RobotROS-1160"><span class="linenos">1160</span></a>        <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS-1161"><a href="#RobotROS-1161"><span class="linenos">1161</span></a>            <span class="n">task</span><span class="o">.</span><span class="n">unvisit_all_checkpoints</span><span class="p">()</span>
</span><span id="RobotROS-1162"><a href="#RobotROS-1162"><span class="linenos">1162</span></a>
</span><span id="RobotROS-1163"><a href="#RobotROS-1163"><span class="linenos">1163</span></a>
</span><span id="RobotROS-1164"><a href="#RobotROS-1164"><span class="linenos">1164</span></a>    <span class="c1">#ROS2 FUNCTIONS</span>
</span><span id="RobotROS-1165"><a href="#RobotROS-1165"><span class="linenos">1165</span></a>    <span class="k">def</span> <span class="nf">ros_spin_once</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS-1166"><a href="#RobotROS-1166"><span class="linenos">1166</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1167"><a href="#RobotROS-1167"><span class="linenos">1167</span></a><span class="sd">        Spin the ROS2-node once (every robot is also a ROS2-node) to process the data sent through ROS2-interfaces</span>
</span><span id="RobotROS-1168"><a href="#RobotROS-1168"><span class="linenos">1168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1169"><a href="#RobotROS-1169"><span class="linenos">1169</span></a>        <span class="n">rclpy</span><span class="o">.</span><span class="n">spin_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_sec</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS-1170"><a href="#RobotROS-1170"><span class="linenos">1170</span></a>
</span><span id="RobotROS-1171"><a href="#RobotROS-1171"><span class="linenos">1171</span></a>    <span class="k">def</span> <span class="nf">ros_publish_message_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS-1172"><a href="#RobotROS-1172"><span class="linenos">1172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1173"><a href="#RobotROS-1173"><span class="linenos">1173</span></a><span class="sd">        This function generates a ROS2 message of type [mapf_interfaces/RobotInfo.msg] </span>
</span><span id="RobotROS-1174"><a href="#RobotROS-1174"><span class="linenos">1174</span></a><span class="sd">        and publishes it to the following topic: */mapf_robot_info_&quot;ID&quot;*</span>
</span><span id="RobotROS-1175"><a href="#RobotROS-1175"><span class="linenos">1175</span></a><span class="sd">        </span>
</span><span id="RobotROS-1176"><a href="#RobotROS-1176"><span class="linenos">1176</span></a><span class="sd">        This function will be called by the model every time a robot performs an action and then has to publish</span>
</span><span id="RobotROS-1177"><a href="#RobotROS-1177"><span class="linenos">1177</span></a><span class="sd">        the updated information about itself.</span>
</span><span id="RobotROS-1178"><a href="#RobotROS-1178"><span class="linenos">1178</span></a>
</span><span id="RobotROS-1179"><a href="#RobotROS-1179"><span class="linenos">1179</span></a><span class="sd">        :param msg_id:      int  -   The id of the current cycle (sim-&gt;controller-&gt;planner-&gt;controller-&gt;sim)</span>
</span><span id="RobotROS-1180"><a href="#RobotROS-1180"><span class="linenos">1180</span></a><span class="sd">        :param time_step:   int  -   Sets the time step in the published message (msg.step = time_step)</span>
</span><span id="RobotROS-1181"><a href="#RobotROS-1181"><span class="linenos">1181</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1182"><a href="#RobotROS-1182"><span class="linenos">1182</span></a>
</span><span id="RobotROS-1183"><a href="#RobotROS-1183"><span class="linenos">1183</span></a>        <span class="n">msg</span>  <span class="o">=</span> <span class="n">RobotInfo</span><span class="p">()</span>
</span><span id="RobotROS-1184"><a href="#RobotROS-1184"><span class="linenos">1184</span></a>        <span class="n">pos</span>  <span class="o">=</span> <span class="n">Position</span><span class="p">()</span>
</span><span id="RobotROS-1185"><a href="#RobotROS-1185"><span class="linenos">1185</span></a>        <span class="n">checkpoint_msg</span> <span class="o">=</span> <span class="n">CheckpointInfo</span><span class="p">()</span>
</span><span id="RobotROS-1186"><a href="#RobotROS-1186"><span class="linenos">1186</span></a>        <span class="n">goal</span> <span class="o">=</span> <span class="n">Position</span><span class="p">()</span>
</span><span id="RobotROS-1187"><a href="#RobotROS-1187"><span class="linenos">1187</span></a>        
</span><span id="RobotROS-1188"><a href="#RobotROS-1188"><span class="linenos">1188</span></a>        <span class="c1">#Add CYCLE-ID        </span>
</span><span id="RobotROS-1189"><a href="#RobotROS-1189"><span class="linenos">1189</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">msg_id</span>
</span><span id="RobotROS-1190"><a href="#RobotROS-1190"><span class="linenos">1190</span></a>        <span class="c1">#Add STEP        </span>
</span><span id="RobotROS-1191"><a href="#RobotROS-1191"><span class="linenos">1191</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="n">time_step</span>
</span><span id="RobotROS-1192"><a href="#RobotROS-1192"><span class="linenos">1192</span></a>        <span class="c1">#Add ROBOT_ID</span>
</span><span id="RobotROS-1193"><a href="#RobotROS-1193"><span class="linenos">1193</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_id</span><span class="p">())</span>
</span><span id="RobotROS-1194"><a href="#RobotROS-1194"><span class="linenos">1194</span></a>        <span class="c1">#Add BUCKET</span>
</span><span id="RobotROS-1195"><a href="#RobotROS-1195"><span class="linenos">1195</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">bucket</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">())</span>
</span><span id="RobotROS-1196"><a href="#RobotROS-1196"><span class="linenos">1196</span></a>        <span class="c1">#Add OPTIMAL_LENGTH</span>
</span><span id="RobotROS-1197"><a href="#RobotROS-1197"><span class="linenos">1197</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">optimal_length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_heuristic</span><span class="p">())</span>
</span><span id="RobotROS-1198"><a href="#RobotROS-1198"><span class="linenos">1198</span></a>        <span class="c1">#Add POSITION</span>
</span><span id="RobotROS-1199"><a href="#RobotROS-1199"><span class="linenos">1199</span></a>        <span class="n">pos</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">pos_y</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS-1200"><a href="#RobotROS-1200"><span class="linenos">1200</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="RobotROS-1201"><a href="#RobotROS-1201"><span class="linenos">1201</span></a>
</span><span id="RobotROS-1202"><a href="#RobotROS-1202"><span class="linenos">1202</span></a>        <span class="c1">#Add CHECKPOINTS</span>
</span><span id="RobotROS-1203"><a href="#RobotROS-1203"><span class="linenos">1203</span></a>        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS-1204"><a href="#RobotROS-1204"><span class="linenos">1204</span></a>        <span class="n">checkpoints</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">()</span>
</span><span id="RobotROS-1205"><a href="#RobotROS-1205"><span class="linenos">1205</span></a>        <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">checkpoints</span><span class="p">:</span>    
</span><span id="RobotROS-1206"><a href="#RobotROS-1206"><span class="linenos">1206</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS-1207"><a href="#RobotROS-1207"><span class="linenos">1207</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="RobotROS-1208"><a href="#RobotROS-1208"><span class="linenos">1208</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">visited</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_visit_status</span><span class="p">()</span>
</span><span id="RobotROS-1209"><a href="#RobotROS-1209"><span class="linenos">1209</span></a>            <span class="n">msg</span><span class="o">.</span><span class="n">checkpoints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checkpoint_msg</span><span class="p">)</span>
</span><span id="RobotROS-1210"><a href="#RobotROS-1210"><span class="linenos">1210</span></a>
</span><span id="RobotROS-1211"><a href="#RobotROS-1211"><span class="linenos">1211</span></a>        <span class="c1">#publish message: RobotInfo.msg</span>
</span><span id="RobotROS-1212"><a href="#RobotROS-1212"><span class="linenos">1212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="RobotROS-1213"><a href="#RobotROS-1213"><span class="linenos">1213</span></a>        <span class="k">return</span>
</span><span id="RobotROS-1214"><a href="#RobotROS-1214"><span class="linenos">1214</span></a>
</span><span id="RobotROS-1215"><a href="#RobotROS-1215"><span class="linenos">1215</span></a>    <span class="c1">#TODO: check action = move or action = rotate</span>
</span><span id="RobotROS-1216"><a href="#RobotROS-1216"><span class="linenos">1216</span></a>    <span class="k">def</span> <span class="nf">callback_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
</span><span id="RobotROS-1217"><a href="#RobotROS-1217"><span class="linenos">1217</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS-1218"><a href="#RobotROS-1218"><span class="linenos">1218</span></a><span class="sd">        This function will be called every time a message on the following topics is received: </span>
</span><span id="RobotROS-1219"><a href="#RobotROS-1219"><span class="linenos">1219</span></a><span class="sd">        */mapf_robot_info_&quot;ID&quot;*</span>
</span><span id="RobotROS-1220"><a href="#RobotROS-1220"><span class="linenos">1220</span></a>
</span><span id="RobotROS-1221"><a href="#RobotROS-1221"><span class="linenos">1221</span></a><span class="sd">        This function creates an action from the received message and </span>
</span><span id="RobotROS-1222"><a href="#RobotROS-1222"><span class="linenos">1222</span></a><span class="sd">        saves the action in the robot for the (in the message) defined step!</span>
</span><span id="RobotROS-1223"><a href="#RobotROS-1223"><span class="linenos">1223</span></a><span class="sd">        </span>
</span><span id="RobotROS-1224"><a href="#RobotROS-1224"><span class="linenos">1224</span></a><span class="sd">        :param msg: mapf_interfaces/RobotAction.msg - message from the topic /mapf_robot_action_ID</span>
</span><span id="RobotROS-1225"><a href="#RobotROS-1225"><span class="linenos">1225</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS-1226"><a href="#RobotROS-1226"><span class="linenos">1226</span></a>
</span><span id="RobotROS-1227"><a href="#RobotROS-1227"><span class="linenos">1227</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message received&quot;</span><span class="p">)</span>
</span><span id="RobotROS-1228"><a href="#RobotROS-1228"><span class="linenos">1228</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STEP: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</span><span id="RobotROS-1229"><a href="#RobotROS-1229"><span class="linenos">1229</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;robot_id: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span><span class="p">)</span>
</span><span id="RobotROS-1230"><a href="#RobotROS-1230"><span class="linenos">1230</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;move x: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_x</span><span class="p">)</span>
</span><span id="RobotROS-1231"><a href="#RobotROS-1231"><span class="linenos">1231</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;move y: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_y</span><span class="p">)</span>
</span><span id="RobotROS-1232"><a href="#RobotROS-1232"><span class="linenos">1232</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rotate: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">rotate</span><span class="p">)</span>
</span><span id="RobotROS-1233"><a href="#RobotROS-1233"><span class="linenos">1233</span></a>        
</span><span id="RobotROS-1234"><a href="#RobotROS-1234"><span class="linenos">1234</span></a>        <span class="c1">#skip message if action not for current step</span>
</span><span id="RobotROS-1235"><a href="#RobotROS-1235"><span class="linenos">1235</span></a>        <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">():</span>
</span><span id="RobotROS-1236"><a href="#RobotROS-1236"><span class="linenos">1236</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SKIP MESSAGE, WRONG STEP&quot;</span><span class="p">)</span>
</span><span id="RobotROS-1237"><a href="#RobotROS-1237"><span class="linenos">1237</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robot ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span><span class="p">))</span>
</span><span id="RobotROS-1238"><a href="#RobotROS-1238"><span class="linenos">1238</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Msg step: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">))</span>
</span><span id="RobotROS-1239"><a href="#RobotROS-1239"><span class="linenos">1239</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current step: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">()))</span>
</span><span id="RobotROS-1240"><a href="#RobotROS-1240"><span class="linenos">1240</span></a>            <span class="k">return</span>
</span><span id="RobotROS-1241"><a href="#RobotROS-1241"><span class="linenos">1241</span></a>        
</span><span id="RobotROS-1242"><a href="#RobotROS-1242"><span class="linenos">1242</span></a>        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">move_x</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_y</span><span class="p">,</span> <span class="s1">&#39;move&#39;</span><span class="p">)</span>
</span><span id="RobotROS-1243"><a href="#RobotROS-1243"><span class="linenos">1243</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_action</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</span><span id="RobotROS-1244"><a href="#RobotROS-1244"><span class="linenos">1244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_future_path</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="RobotROS-1245"><a href="#RobotROS-1245"><span class="linenos">1245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_ready</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>     
</span></pre></div>


            <div class="docstring"><p>This class represents a robot.</p>

<p><strong>Attributes</strong>:</p>

<ul>
<li><strong>_kind_name</strong>: str                     -   The name of this kind of item. This is always 'robot_ros'.</li>
<li><strong>_tasks</strong>:    list                    -   The list of tasks of the robot.</li>
<li><strong>_graphics_item</strong>: QGraphicsEllipseItem-   This is the main graphic item of the robot
and is used for some default functions.</li>
<li><strong>_text</strong>:          QGraphicsTextItem   -   This is a text item that is drawn on the model view
and represents primarily the id of the robot.</li>
</ul>
</div>


                            <div id="RobotROS.__init__" class="classattr">
                                        <input id="RobotROS.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">RobotROS</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ID</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">x</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">y</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span>, </span><span class="param"><span class="n">bucket</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">heuristic</span><span class="o">=</span><span class="mf">0.0</span></span>)</span>

                <label class="view-source-button" for="RobotROS.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.__init__-578"><a href="#RobotROS.__init__-578"><span class="linenos">578</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">bucket</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">heuristic</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS.__init__-579"><a href="#RobotROS.__init__-579"><span class="linenos">579</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.__init__-580"><a href="#RobotROS.__init__-580"><span class="linenos">580</span></a><span class="sd">        :param ID:      int, optional       - The ID of the robot</span>
</span><span id="RobotROS.__init__-581"><a href="#RobotROS.__init__-581"><span class="linenos">581</span></a><span class="sd">        :param x:       int, optional       - The x coordinate on the grid</span>
</span><span id="RobotROS.__init__-582"><a href="#RobotROS.__init__-582"><span class="linenos">582</span></a><span class="sd">        :param y:       int, optional       - The y coordinate on the grid</span>
</span><span id="RobotROS.__init__-583"><a href="#RobotROS.__init__-583"><span class="linenos">583</span></a><span class="sd">        :param theta:   float, optional     - The orientation of the robot in angle ()</span>
</span><span id="RobotROS.__init__-584"><a href="#RobotROS.__init__-584"><span class="linenos">584</span></a><span class="sd">        :param bucket:  int, optional       - The bucket to which the robot belongs</span>
</span><span id="RobotROS.__init__-585"><a href="#RobotROS.__init__-585"><span class="linenos">585</span></a><span class="sd">        :param heuristic: float, optional   - Optimal length from the start to the goal position</span>
</span><span id="RobotROS.__init__-586"><a href="#RobotROS.__init__-586"><span class="linenos">586</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.__init__-587"><a href="#RobotROS.__init__-587"><span class="linenos">587</span></a>
</span><span id="RobotROS.__init__-588"><a href="#RobotROS.__init__-588"><span class="linenos">588</span></a>        <span class="c1">#------------------------------ ROS2 --------------------------------------------------------------</span>
</span><span id="RobotROS.__init__-589"><a href="#RobotROS.__init__-589"><span class="linenos">589</span></a>        <span class="c1">#Init ROS2 Node with the name mapf_robot_ID, here ID is the ID of the robot</span>
</span><span id="RobotROS.__init__-590"><a href="#RobotROS.__init__-590"><span class="linenos">590</span></a>        <span class="n">Node</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;_node&#39;</span><span class="p">)</span>
</span><span id="RobotROS.__init__-591"><a href="#RobotROS.__init__-591"><span class="linenos">591</span></a>
</span><span id="RobotROS.__init__-592"><a href="#RobotROS.__init__-592"><span class="linenos">592</span></a>        <span class="c1">#Create a publisher for the topic &quot;mapf_robot_info_ID&quot; to publish the information </span>
</span><span id="RobotROS.__init__-593"><a href="#RobotROS.__init__-593"><span class="linenos">593</span></a>        <span class="c1">#of the robot with the custom message type &quot;RobotInfo.msg&quot;</span>
</span><span id="RobotROS.__init__-594"><a href="#RobotROS.__init__-594"><span class="linenos">594</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">publisher</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">RobotInfo</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_info_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="RobotROS.__init__-595"><a href="#RobotROS.__init__-595"><span class="linenos">595</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;**rclpy.publisher.Publisher** - ros2 publisher to the topic */mapf_robot_info_&#39;&#39;ID&#39;&#39;*&#39;&#39;&#39;</span>
</span><span id="RobotROS.__init__-596"><a href="#RobotROS.__init__-596"><span class="linenos">596</span></a>
</span><span id="RobotROS.__init__-597"><a href="#RobotROS.__init__-597"><span class="linenos">597</span></a>        <span class="c1">#Create a subscriber for the topic &quot;mapf_robot_action_ID&quot; to get the information about </span>
</span><span id="RobotROS.__init__-598"><a href="#RobotROS.__init__-598"><span class="linenos">598</span></a>        <span class="c1">#the next action to be executed by the robot, custom message type: RobotAction.msg</span>
</span><span id="RobotROS.__init__-599"><a href="#RobotROS.__init__-599"><span class="linenos">599</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscriber</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">RobotAction</span><span class="p">,</span> <span class="s1">&#39;mapf_robot_action_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_action</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="RobotROS.__init__-600"><a href="#RobotROS.__init__-600"><span class="linenos">600</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;**rclpy.subscription.Subscription** - ros2 subscriber to the topic */mapf_robot_action_&#39;&#39;ID&#39;&#39;*&#39;&#39;&#39;</span>
</span><span id="RobotROS.__init__-601"><a href="#RobotROS.__init__-601"><span class="linenos">601</span></a>
</span><span id="RobotROS.__init__-602"><a href="#RobotROS.__init__-602"><span class="linenos">602</span></a>        <span class="c1">#True if RobotAction.msg received for the next step, otherwise False</span>
</span><span id="RobotROS.__init__-603"><a href="#RobotROS.__init__-603"><span class="linenos">603</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="RobotROS.__init__-604"><a href="#RobotROS.__init__-604"><span class="linenos">604</span></a>
</span><span id="RobotROS.__init__-605"><a href="#RobotROS.__init__-605"><span class="linenos">605</span></a>
</span><span id="RobotROS.__init__-606"><a href="#RobotROS.__init__-606"><span class="linenos">606</span></a>        <span class="c1">#------------------------------ GRAPHIC ITEM ------------------------------------------------------</span>
</span><span id="RobotROS.__init__-607"><a href="#RobotROS.__init__-607"><span class="linenos">607</span></a>        <span class="n">VisualizerGraphicItem</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="RobotROS.__init__-608"><a href="#RobotROS.__init__-608"><span class="linenos">608</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;robot_ros&#39;</span>
</span><span id="RobotROS.__init__-609"><a href="#RobotROS.__init__-609"><span class="linenos">609</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="RobotROS.__init__-610"><a href="#RobotROS.__init__-610"><span class="linenos">610</span></a>        
</span><span id="RobotROS.__init__-611"><a href="#RobotROS.__init__-611"><span class="linenos">611</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="n">QGraphicsEllipseItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS.__init__-612"><a href="#RobotROS.__init__-612"><span class="linenos">612</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_line_item</span> <span class="o">=</span> <span class="n">QGraphicsLineItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS.__init__-613"><a href="#RobotROS.__init__-613"><span class="linenos">613</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">QGraphicsTextItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="RobotROS.__init__-614"><a href="#RobotROS.__init__-614"><span class="linenos">614</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>
</span><span id="RobotROS.__init__-615"><a href="#RobotROS.__init__-615"><span class="linenos">615</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="RobotROS.__init__-616"><a href="#RobotROS.__init__-616"><span class="linenos">616</span></a>        
</span><span id="RobotROS.__init__-617"><a href="#RobotROS.__init__-617"><span class="linenos">617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="RobotROS.__init__-618"><a href="#RobotROS.__init__-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="RobotROS.__init__-619"><a href="#RobotROS.__init__-619"><span class="linenos">619</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="RobotROS.__init__-620"><a href="#RobotROS.__init__-620"><span class="linenos">620</span></a>        
</span><span id="RobotROS.__init__-621"><a href="#RobotROS.__init__-621"><span class="linenos">621</span></a>        <span class="c1">#------------------------------ SAVE DATA ------------------------------------------------------</span>
</span><span id="RobotROS.__init__-622"><a href="#RobotROS.__init__-622"><span class="linenos">622</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS.__init__-623"><a href="#RobotROS.__init__-623"><span class="linenos">623</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">)</span>
</span><span id="RobotROS.__init__-624"><a href="#RobotROS.__init__-624"><span class="linenos">624</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
</span><span id="RobotROS.__init__-625"><a href="#RobotROS.__init__-625"><span class="linenos">625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_heuristic</span><span class="p">(</span><span class="n">heuristic</span><span class="p">)</span>
</span><span id="RobotROS.__init__-626"><a href="#RobotROS.__init__-626"><span class="linenos">626</span></a>
</span><span id="RobotROS.__init__-627"><a href="#RobotROS.__init__-627"><span class="linenos">627</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ID</strong>:       int, optional       - The ID of the robot</li>
<li><strong>x</strong>:        int, optional       - The x coordinate on the grid</li>
<li><strong>y</strong>:        int, optional       - The y coordinate on the grid</li>
<li><strong>theta</strong>:    float, optional     - The orientation of the robot in angle ()</li>
<li><strong>bucket</strong>:   int, optional       - The bucket to which the robot belongs</li>
<li><strong>heuristic</strong>:  float, optional   - Optimal length from the start to the goal position</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.publisher" class="classattr">
                                <div class="attr variable">
            <span class="name">publisher</span>

        
    </div>
    <a class="headerlink" href="#RobotROS.publisher"></a>
    
            <div class="docstring"><p><strong>rclpy.publisher.Publisher</strong> - ros2 publisher to the topic <em>/mapf_robot_info_''ID''</em></p>
</div>


                            </div>
                            <div id="RobotROS.subscriber" class="classattr">
                                <div class="attr variable">
            <span class="name">subscriber</span>

        
    </div>
    <a class="headerlink" href="#RobotROS.subscriber"></a>
    
            <div class="docstring"><p><strong>rclpy.subscription.Subscription</strong> - ros2 subscriber to the topic <em>/mapf_robot_action_''ID''</em></p>
</div>


                            </div>
                            <div id="RobotROS.set_starting_position" class="classattr">
                                        <input id="RobotROS.set_starting_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_starting_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span>, </span><span class="param"><span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_starting_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_starting_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_starting_position-635"><a href="#RobotROS.set_starting_position-635"><span class="linenos">635</span></a>    <span class="k">def</span> <span class="nf">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS.set_starting_position-636"><a href="#RobotROS.set_starting_position-636"><span class="linenos">636</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_starting_position-637"><a href="#RobotROS.set_starting_position-637"><span class="linenos">637</span></a><span class="sd">        Sets the starting position of the robot.</span>
</span><span id="RobotROS.set_starting_position-638"><a href="#RobotROS.set_starting_position-638"><span class="linenos">638</span></a>
</span><span id="RobotROS.set_starting_position-639"><a href="#RobotROS.set_starting_position-639"><span class="linenos">639</span></a><span class="sd">        :param x:       int                 - The x coordinate on the grid</span>
</span><span id="RobotROS.set_starting_position-640"><a href="#RobotROS.set_starting_position-640"><span class="linenos">640</span></a><span class="sd">        :param y:       int                 - The y coordinate on the grid</span>
</span><span id="RobotROS.set_starting_position-641"><a href="#RobotROS.set_starting_position-641"><span class="linenos">641</span></a><span class="sd">        :param theta:   float, optional     - The orientation of the robot in angle ()</span>
</span><span id="RobotROS.set_starting_position-642"><a href="#RobotROS.set_starting_position-642"><span class="linenos">642</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_starting_position-643"><a href="#RobotROS.set_starting_position-643"><span class="linenos">643</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the starting position of the robot.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x</strong>:        int                 - The x coordinate on the grid</li>
<li><strong>y</strong>:        int                 - The y coordinate on the grid</li>
<li><strong>theta</strong>:    float, optional     - The orientation of the robot in angle ()</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_position" class="classattr">
                                        <input id="RobotROS.set_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span>, </span><span class="param"><span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_position-645"><a href="#RobotROS.set_position-645"><span class="linenos">645</span></a>    <span class="k">def</span> <span class="nf">set_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS.set_position-646"><a href="#RobotROS.set_position-646"><span class="linenos">646</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_position-647"><a href="#RobotROS.set_position-647"><span class="linenos">647</span></a><span class="sd">        Sets the position of the robot.</span>
</span><span id="RobotROS.set_position-648"><a href="#RobotROS.set_position-648"><span class="linenos">648</span></a>
</span><span id="RobotROS.set_position-649"><a href="#RobotROS.set_position-649"><span class="linenos">649</span></a><span class="sd">        :param x:       int                - The x coordinate on the grid</span>
</span><span id="RobotROS.set_position-650"><a href="#RobotROS.set_position-650"><span class="linenos">650</span></a><span class="sd">        :param y:       int                - The y coordinate on the grid</span>
</span><span id="RobotROS.set_position-651"><a href="#RobotROS.set_position-651"><span class="linenos">651</span></a><span class="sd">        :param theta:   float, optional    - The orientation of the robot in angle ()</span>
</span><span id="RobotROS.set_position-652"><a href="#RobotROS.set_position-652"><span class="linenos">652</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_position-653"><a href="#RobotROS.set_position-653"><span class="linenos">653</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the position of the robot.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x</strong>:        int                - The x coordinate on the grid</li>
<li><strong>y</strong>:        int                - The y coordinate on the grid</li>
<li><strong>theta</strong>:    float, optional    - The orientation of the robot in angle ()</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_theta" class="classattr">
                                        <input id="RobotROS.set_theta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_theta</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_theta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_theta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_theta-655"><a href="#RobotROS.set_theta-655"><span class="linenos">655</span></a>    <span class="k">def</span> <span class="nf">set_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS.set_theta-656"><a href="#RobotROS.set_theta-656"><span class="linenos">656</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_theta-657"><a href="#RobotROS.set_theta-657"><span class="linenos">657</span></a><span class="sd">        Sets the orientation of the robot.</span>
</span><span id="RobotROS.set_theta-658"><a href="#RobotROS.set_theta-658"><span class="linenos">658</span></a>
</span><span id="RobotROS.set_theta-659"><a href="#RobotROS.set_theta-659"><span class="linenos">659</span></a><span class="sd">        :param theta:   float, optional      - The orientation of the robot in angle ().</span>
</span><span id="RobotROS.set_theta-660"><a href="#RobotROS.set_theta-660"><span class="linenos">660</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_theta-661"><a href="#RobotROS.set_theta-661"><span class="linenos">661</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_position</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">theta</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the orientation of the robot.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>theta</strong>:    float, optional      - The orientation of the robot in angle ().</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_bucket" class="classattr">
                                        <input id="RobotROS.set_bucket-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_bucket</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">bucket</span><span class="o">=</span><span class="mi">0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_bucket-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_bucket"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_bucket-663"><a href="#RobotROS.set_bucket-663"><span class="linenos">663</span></a>    <span class="k">def</span> <span class="nf">set_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bucket</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS.set_bucket-664"><a href="#RobotROS.set_bucket-664"><span class="linenos">664</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_bucket-665"><a href="#RobotROS.set_bucket-665"><span class="linenos">665</span></a><span class="sd">        Assign the robot to a certain bucket.</span>
</span><span id="RobotROS.set_bucket-666"><a href="#RobotROS.set_bucket-666"><span class="linenos">666</span></a>
</span><span id="RobotROS.set_bucket-667"><a href="#RobotROS.set_bucket-667"><span class="linenos">667</span></a><span class="sd">        :param bucket:   int, optional      - The number of the bucket</span>
</span><span id="RobotROS.set_bucket-668"><a href="#RobotROS.set_bucket-668"><span class="linenos">668</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_bucket-669"><a href="#RobotROS.set_bucket-669"><span class="linenos">669</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bucket</span> <span class="o">=</span> <span class="n">bucket</span>
</span></pre></div>


            <div class="docstring"><p>Assign the robot to a certain bucket.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bucket</strong>:    int, optional      - The number of the bucket</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_ready" class="classattr">
                                        <input id="RobotROS.set_ready-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_ready</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ready</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_ready-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_ready"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_ready-671"><a href="#RobotROS.set_ready-671"><span class="linenos">671</span></a>    <span class="k">def</span> <span class="nf">set_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ready</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="RobotROS.set_ready-672"><a href="#RobotROS.set_ready-672"><span class="linenos">672</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_ready-673"><a href="#RobotROS.set_ready-673"><span class="linenos">673</span></a><span class="sd">        Sets the state of the robot (READY or NOT READY).  </span>
</span><span id="RobotROS.set_ready-674"><a href="#RobotROS.set_ready-674"><span class="linenos">674</span></a><span class="sd">        (A robot is READY if he knows what action he should execute as next)  </span>
</span><span id="RobotROS.set_ready-675"><a href="#RobotROS.set_ready-675"><span class="linenos">675</span></a><span class="sd">        (A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step)  </span>
</span><span id="RobotROS.set_ready-676"><a href="#RobotROS.set_ready-676"><span class="linenos">676</span></a>
</span><span id="RobotROS.set_ready-677"><a href="#RobotROS.set_ready-677"><span class="linenos">677</span></a><span class="sd">        :param ready:   bool, optional    - True or False</span>
</span><span id="RobotROS.set_ready-678"><a href="#RobotROS.set_ready-678"><span class="linenos">678</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_ready-679"><a href="#RobotROS.set_ready-679"><span class="linenos">679</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span> <span class="o">=</span> <span class="n">ready</span>
</span></pre></div>


            <div class="docstring"><p>Sets the state of the robot (READY or NOT READY). <br />
(A robot is READY if he knows what action he should execute as next) <br />
(A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step)  </p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ready</strong>:    bool, optional    - True or False</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_heuristic" class="classattr">
                                        <input id="RobotROS.set_heuristic-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_heuristic</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">heuristic</span><span class="o">=</span><span class="mf">0.0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_heuristic-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_heuristic"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_heuristic-681"><a href="#RobotROS.set_heuristic-681"><span class="linenos">681</span></a>    <span class="k">def</span> <span class="nf">set_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">heuristic</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="RobotROS.set_heuristic-682"><a href="#RobotROS.set_heuristic-682"><span class="linenos">682</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_heuristic-683"><a href="#RobotROS.set_heuristic-683"><span class="linenos">683</span></a><span class="sd">        Assign the optimal length for the robot from his start to his goal.</span>
</span><span id="RobotROS.set_heuristic-684"><a href="#RobotROS.set_heuristic-684"><span class="linenos">684</span></a>
</span><span id="RobotROS.set_heuristic-685"><a href="#RobotROS.set_heuristic-685"><span class="linenos">685</span></a><span class="sd">        :param heuristic:   float, optional - The optimal length for the robot from his start to his goal.</span>
</span><span id="RobotROS.set_heuristic-686"><a href="#RobotROS.set_heuristic-686"><span class="linenos">686</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_heuristic-687"><a href="#RobotROS.set_heuristic-687"><span class="linenos">687</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_heuristic</span> <span class="o">=</span> <span class="n">heuristic</span>
</span></pre></div>


            <div class="docstring"><p>Assign the optimal length for the robot from his start to his goal.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>heuristic</strong>:    float, optional - The optimal length for the robot from his start to his goal.</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_future_path" class="classattr">
                                        <input id="RobotROS.set_future_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_future_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">path</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_future_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_future_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_future_path-689"><a href="#RobotROS.set_future_path-689"><span class="linenos">689</span></a>    <span class="k">def</span> <span class="nf">set_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
</span><span id="RobotROS.set_future_path-690"><a href="#RobotROS.set_future_path-690"><span class="linenos">690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_future_path-691"><a href="#RobotROS.set_future_path-691"><span class="linenos">691</span></a><span class="sd">        Assign/Save the calculated path for the robot.</span>
</span><span id="RobotROS.set_future_path-692"><a href="#RobotROS.set_future_path-692"><span class="linenos">692</span></a>
</span><span id="RobotROS.set_future_path-693"><a href="#RobotROS.set_future_path-693"><span class="linenos">693</span></a><span class="sd">        :param path:   list of **mapf_interfaces.msg.Position** -    The calculated path for the robot.</span>
</span><span id="RobotROS.set_future_path-694"><a href="#RobotROS.set_future_path-694"><span class="linenos">694</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_future_path-695"><a href="#RobotROS.set_future_path-695"><span class="linenos">695</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_future_path</span> <span class="o">=</span> <span class="n">path</span>      
</span></pre></div>


            <div class="docstring"><p>Assign/Save the calculated path for the robot.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>path</strong>:    list of <strong>mapf_interfaces.msg.Position</strong> -    The calculated path for the robot.</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_action" class="classattr">
                                        <input id="RobotROS.set_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">action</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_action-697"><a href="#RobotROS.set_action-697"><span class="linenos">697</span></a>    <span class="k">def</span> <span class="nf">set_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS.set_action-698"><a href="#RobotROS.set_action-698"><span class="linenos">698</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.set_action-699"><a href="#RobotROS.set_action-699"><span class="linenos">699</span></a><span class="sd">        Sets the action for the specific time step.</span>
</span><span id="RobotROS.set_action-700"><a href="#RobotROS.set_action-700"><span class="linenos">700</span></a><span class="sd">        Overrides existing actions at the time step but prints out</span>
</span><span id="RobotROS.set_action-701"><a href="#RobotROS.set_action-701"><span class="linenos">701</span></a><span class="sd">        a warning since this should never happen.</span>
</span><span id="RobotROS.set_action-702"><a href="#RobotROS.set_action-702"><span class="linenos">702</span></a>
</span><span id="RobotROS.set_action-703"><a href="#RobotROS.set_action-703"><span class="linenos">703</span></a><span class="sd">        :param action:      mapf_simulation.action.Action   -   This is the action that will be performed.</span>
</span><span id="RobotROS.set_action-704"><a href="#RobotROS.set_action-704"><span class="linenos">704</span></a><span class="sd">        :param time_step:   int                             -   This is the time step at which the action should be performed.</span>
</span><span id="RobotROS.set_action-705"><a href="#RobotROS.set_action-705"><span class="linenos">705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_action-706"><a href="#RobotROS.set_action-706"><span class="linenos">706</span></a>        
</span><span id="RobotROS.set_action-707"><a href="#RobotROS.set_action-707"><span class="linenos">707</span></a>        
</span><span id="RobotROS.set_action-708"><a href="#RobotROS.set_action-708"><span class="linenos">708</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----------------------------------- SET ACTION -----------------------------------&quot;</span><span class="p">)</span>
</span><span id="RobotROS.set_action-709"><a href="#RobotROS.set_action-709"><span class="linenos">709</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="RobotROS.set_action-710"><a href="#RobotROS.set_action-710"><span class="linenos">710</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Warning: invalid time step(smaller than 0), Object: &#39;</span> 
</span><span id="RobotROS.set_action-711"><a href="#RobotROS.set_action-711"><span class="linenos">711</span></a>                  <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="RobotROS.set_action-712"><a href="#RobotROS.set_action-712"><span class="linenos">712</span></a>                  <span class="s1">&#39;, ID: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="RobotROS.set_action-713"><a href="#RobotROS.set_action-713"><span class="linenos">713</span></a>                  <span class="s1">&#39;, Action: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">get_name</span><span class="p">())</span> <span class="o">+</span> 
</span><span id="RobotROS.set_action-714"><a href="#RobotROS.set_action-714"><span class="linenos">714</span></a>                  <span class="s1">&#39;, Value: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span> <span class="o">+</span> 
</span><span id="RobotROS.set_action-715"><a href="#RobotROS.set_action-715"><span class="linenos">715</span></a>                  <span class="s1">&#39;, Time Step: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">))</span>
</span><span id="RobotROS.set_action-716"><a href="#RobotROS.set_action-716"><span class="linenos">716</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time step is less than 0&#39;</span><span class="p">)</span>
</span><span id="RobotROS.set_action-717"><a href="#RobotROS.set_action-717"><span class="linenos">717</span></a>            <span class="k">return</span>
</span><span id="RobotROS.set_action-718"><a href="#RobotROS.set_action-718"><span class="linenos">718</span></a>        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">((</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">)):</span>
</span><span id="RobotROS.set_action-719"><a href="#RobotROS.set_action-719"><span class="linenos">719</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="RobotROS.set_action-720"><a href="#RobotROS.set_action-720"><span class="linenos">720</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.set_action-721"><a href="#RobotROS.set_action-721"><span class="linenos">721</span></a>            <span class="nb">print</span><span class="p">((</span><span class="s1">&#39;Warning: for object(&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">)</span>
</span><span id="RobotROS.set_action-722"><a href="#RobotROS.set_action-722"><span class="linenos">722</span></a>                    <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span>
</span><span id="RobotROS.set_action-723"><a href="#RobotROS.set_action-723"><span class="linenos">723</span></a>                    <span class="o">+</span> <span class="s1">&#39;) multiple actions are defined at time step &#39;</span>
</span><span id="RobotROS.set_action-724"><a href="#RobotROS.set_action-724"><span class="linenos">724</span></a>                    <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time_step</span><span class="p">)))</span>
</span><span id="RobotROS.set_action-725"><a href="#RobotROS.set_action-725"><span class="linenos">725</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">action</span>
</span></pre></div>


            <div class="docstring"><p>Sets the action for the specific time step.
Overrides existing actions at the time step but prints out
a warning since this should never happen.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>action</strong>:       <a href="action.html#Action">mapf_simulation.action.Action</a>   -   This is the action that will be performed.</li>
<li><strong>time_step</strong>:    int                             -   This is the time step at which the action should be performed.</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.get_bucket" class="classattr">
                                        <input id="RobotROS.get_bucket-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_bucket</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_bucket-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_bucket"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_bucket-729"><a href="#RobotROS.get_bucket-729"><span class="linenos">729</span></a>    <span class="k">def</span> <span class="nf">get_bucket</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_bucket-730"><a href="#RobotROS.get_bucket-730"><span class="linenos">730</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_bucket-731"><a href="#RobotROS.get_bucket-731"><span class="linenos">731</span></a><span class="sd">        Returns the number of the bucket to which the robot was assigned.</span>
</span><span id="RobotROS.get_bucket-732"><a href="#RobotROS.get_bucket-732"><span class="linenos">732</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_bucket-733"><a href="#RobotROS.get_bucket-733"><span class="linenos">733</span></a><span class="sd">        :return: **int**   -   The number of the bucket</span>
</span><span id="RobotROS.get_bucket-734"><a href="#RobotROS.get_bucket-734"><span class="linenos">734</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_bucket-735"><a href="#RobotROS.get_bucket-735"><span class="linenos">735</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bucket</span>
</span></pre></div>


            <div class="docstring"><p>Returns the number of the bucket to which the robot was assigned.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>int</strong>   -   The number of the bucket</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_heuristic" class="classattr">
                                        <input id="RobotROS.get_heuristic-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_heuristic</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_heuristic-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_heuristic"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_heuristic-737"><a href="#RobotROS.get_heuristic-737"><span class="linenos">737</span></a>    <span class="k">def</span> <span class="nf">get_heuristic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_heuristic-738"><a href="#RobotROS.get_heuristic-738"><span class="linenos">738</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_heuristic-739"><a href="#RobotROS.get_heuristic-739"><span class="linenos">739</span></a><span class="sd">        Returns the saved heuristic for the robot.</span>
</span><span id="RobotROS.get_heuristic-740"><a href="#RobotROS.get_heuristic-740"><span class="linenos">740</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_heuristic-741"><a href="#RobotROS.get_heuristic-741"><span class="linenos">741</span></a><span class="sd">        :return: **float**   -   The heuristic</span>
</span><span id="RobotROS.get_heuristic-742"><a href="#RobotROS.get_heuristic-742"><span class="linenos">742</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_heuristic-743"><a href="#RobotROS.get_heuristic-743"><span class="linenos">743</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heuristic</span>
</span></pre></div>


            <div class="docstring"><p>Returns the saved heuristic for the robot.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>float</strong>   -   The heuristic</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_theta" class="classattr">
                                        <input id="RobotROS.get_theta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_theta</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_theta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_theta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_theta-745"><a href="#RobotROS.get_theta-745"><span class="linenos">745</span></a>    <span class="k">def</span> <span class="nf">get_theta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_theta-746"><a href="#RobotROS.get_theta-746"><span class="linenos">746</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_theta-747"><a href="#RobotROS.get_theta-747"><span class="linenos">747</span></a><span class="sd">        Returns the orientation of the robot.</span>
</span><span id="RobotROS.get_theta-748"><a href="#RobotROS.get_theta-748"><span class="linenos">748</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_theta-749"><a href="#RobotROS.get_theta-749"><span class="linenos">749</span></a><span class="sd">        :return: **float**   -   The orientation of the robot</span>
</span><span id="RobotROS.get_theta-750"><a href="#RobotROS.get_theta-750"><span class="linenos">750</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_theta-751"><a href="#RobotROS.get_theta-751"><span class="linenos">751</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Returns the orientation of the robot.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>float</strong>   -   The orientation of the robot</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_draw_path" class="classattr">
                                        <input id="RobotROS.get_draw_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_draw_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_draw_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_draw_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_draw_path-753"><a href="#RobotROS.get_draw_path-753"><span class="linenos">753</span></a>    <span class="k">def</span> <span class="nf">get_draw_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_draw_path-754"><a href="#RobotROS.get_draw_path-754"><span class="linenos">754</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_draw_path-755"><a href="#RobotROS.get_draw_path-755"><span class="linenos">755</span></a><span class="sd">        Returns whether the driven path of this robot should be drawn.</span>
</span><span id="RobotROS.get_draw_path-756"><a href="#RobotROS.get_draw_path-756"><span class="linenos">756</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_draw_path-757"><a href="#RobotROS.get_draw_path-757"><span class="linenos">757</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS.get_draw_path-758"><a href="#RobotROS.get_draw_path-758"><span class="linenos">758</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_draw_path-759"><a href="#RobotROS.get_draw_path-759"><span class="linenos">759</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS.get_draw_path-760"><a href="#RobotROS.get_draw_path-760"><span class="linenos">760</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS.get_draw_path-761"><a href="#RobotROS.get_draw_path-761"><span class="linenos">761</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_path</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the driven path of this robot should be drawn.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_draw_future_path" class="classattr">
                                        <input id="RobotROS.get_draw_future_path-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_draw_future_path</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_draw_future_path-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_draw_future_path"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_draw_future_path-763"><a href="#RobotROS.get_draw_future_path-763"><span class="linenos">763</span></a>    <span class="k">def</span> <span class="nf">get_draw_future_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_draw_future_path-764"><a href="#RobotROS.get_draw_future_path-764"><span class="linenos">764</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_draw_future_path-765"><a href="#RobotROS.get_draw_future_path-765"><span class="linenos">765</span></a><span class="sd">        Returns whether the future path of this robot should be drawn.</span>
</span><span id="RobotROS.get_draw_future_path-766"><a href="#RobotROS.get_draw_future_path-766"><span class="linenos">766</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_draw_future_path-767"><a href="#RobotROS.get_draw_future_path-767"><span class="linenos">767</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS.get_draw_future_path-768"><a href="#RobotROS.get_draw_future_path-768"><span class="linenos">768</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_draw_future_path-769"><a href="#RobotROS.get_draw_future_path-769"><span class="linenos">769</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS.get_draw_future_path-770"><a href="#RobotROS.get_draw_future_path-770"><span class="linenos">770</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS.get_draw_future_path-771"><a href="#RobotROS.get_draw_future_path-771"><span class="linenos">771</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_future_path</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the future path of this robot should be drawn.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_draw_startpoint" class="classattr">
                                        <input id="RobotROS.get_draw_startpoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_draw_startpoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_draw_startpoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_draw_startpoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_draw_startpoint-773"><a href="#RobotROS.get_draw_startpoint-773"><span class="linenos">773</span></a>    <span class="k">def</span> <span class="nf">get_draw_startpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_draw_startpoint-774"><a href="#RobotROS.get_draw_startpoint-774"><span class="linenos">774</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_draw_startpoint-775"><a href="#RobotROS.get_draw_startpoint-775"><span class="linenos">775</span></a><span class="sd">        Returns whether the starting point of this robot should be drawn.</span>
</span><span id="RobotROS.get_draw_startpoint-776"><a href="#RobotROS.get_draw_startpoint-776"><span class="linenos">776</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_draw_startpoint-777"><a href="#RobotROS.get_draw_startpoint-777"><span class="linenos">777</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS.get_draw_startpoint-778"><a href="#RobotROS.get_draw_startpoint-778"><span class="linenos">778</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_draw_startpoint-779"><a href="#RobotROS.get_draw_startpoint-779"><span class="linenos">779</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS.get_draw_startpoint-780"><a href="#RobotROS.get_draw_startpoint-780"><span class="linenos">780</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS.get_draw_startpoint-781"><a href="#RobotROS.get_draw_startpoint-781"><span class="linenos">781</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_draw_startpoint</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the starting point of this robot should be drawn.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_tasks" class="classattr">
                                        <input id="RobotROS.get_tasks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_tasks</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_tasks-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_tasks"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_tasks-783"><a href="#RobotROS.get_tasks-783"><span class="linenos">783</span></a>    <span class="k">def</span> <span class="nf">get_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_tasks-784"><a href="#RobotROS.get_tasks-784"><span class="linenos">784</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_tasks-785"><a href="#RobotROS.get_tasks-785"><span class="linenos">785</span></a><span class="sd">        Returns the list of tasks for this robot (for the moment only one task per robot is supported).</span>
</span><span id="RobotROS.get_tasks-786"><a href="#RobotROS.get_tasks-786"><span class="linenos">786</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_tasks-787"><a href="#RobotROS.get_tasks-787"><span class="linenos">787</span></a><span class="sd">        :return: list of mapf_simulation.visualizerItem.TaskROS   -   The list of tasks</span>
</span><span id="RobotROS.get_tasks-788"><a href="#RobotROS.get_tasks-788"><span class="linenos">788</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_tasks-789"><a href="#RobotROS.get_tasks-789"><span class="linenos">789</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span>
</span></pre></div>


            <div class="docstring"><p>Returns the list of tasks for this robot (for the moment only one task per robot is supported).</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of <a href="visualizerItem.html#TaskROS">mapf_simulation.visualizerItem.TaskROS</a>   -   The list of tasks</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_task" class="classattr">
                                        <input id="RobotROS.get_task-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_task</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">index</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_task-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_task"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_task-791"><a href="#RobotROS.get_task-791"><span class="linenos">791</span></a>    <span class="k">def</span> <span class="nf">get_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
</span><span id="RobotROS.get_task-792"><a href="#RobotROS.get_task-792"><span class="linenos">792</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_task-793"><a href="#RobotROS.get_task-793"><span class="linenos">793</span></a><span class="sd">        Returns the task from the task list with a specific index.</span>
</span><span id="RobotROS.get_task-794"><a href="#RobotROS.get_task-794"><span class="linenos">794</span></a><span class="sd">        </span>
</span><span id="RobotROS.get_task-795"><a href="#RobotROS.get_task-795"><span class="linenos">795</span></a><span class="sd">        :param index: int                                   - The index of the task</span>
</span><span id="RobotROS.get_task-796"><a href="#RobotROS.get_task-796"><span class="linenos">796</span></a><span class="sd">        :return: **mapf_simulation.visualizerItem.TaskROS** - The selected task from the task list </span>
</span><span id="RobotROS.get_task-797"><a href="#RobotROS.get_task-797"><span class="linenos">797</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_task-798"><a href="#RobotROS.get_task-798"><span class="linenos">798</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Returns the task from the task list with a specific index.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>index</strong>:  int                                   - The index of the task</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong><a href="visualizerItem.html#TaskROS">mapf_simulation.visualizerItem.TaskROS</a></strong> - The selected task from the task list</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.get_rect" class="classattr">
                                        <input id="RobotROS.get_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.get_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.get_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.get_rect-800"><a href="#RobotROS.get_rect-800"><span class="linenos">800</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.get_rect-801"><a href="#RobotROS.get_rect-801"><span class="linenos">801</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.get_rect-802"><a href="#RobotROS.get_rect-802"><span class="linenos">802</span></a><span class="sd">        Returns the current rectangle of the robot. </span>
</span><span id="RobotROS.get_rect-803"><a href="#RobotROS.get_rect-803"><span class="linenos">803</span></a>
</span><span id="RobotROS.get_rect-804"><a href="#RobotROS.get_rect-804"><span class="linenos">804</span></a><span class="sd">        :return: **QtCore.QRect** - The adjusted current rectangle of the QGraphicsItem which should represent the robot.</span>
</span><span id="RobotROS.get_rect-805"><a href="#RobotROS.get_rect-805"><span class="linenos">805</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.get_rect-806"><a href="#RobotROS.get_rect-806"><span class="linenos">806</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="RobotROS.get_rect-807"><a href="#RobotROS.get_rect-807"><span class="linenos">807</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="RobotROS.get_rect-808"><a href="#RobotROS.get_rect-808"><span class="linenos">808</span></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span>
</span><span id="RobotROS.get_rect-809"><a href="#RobotROS.get_rect-809"><span class="linenos">809</span></a>            <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span>
</span><span id="RobotROS.get_rect-810"><a href="#RobotROS.get_rect-810"><span class="linenos">810</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-811"><a href="#RobotROS.get_rect-811"><span class="linenos">811</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setTop</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-812"><a href="#RobotROS.get_rect-812"><span class="linenos">812</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-813"><a href="#RobotROS.get_rect-813"><span class="linenos">813</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-814"><a href="#RobotROS.get_rect-814"><span class="linenos">814</span></a>            <span class="k">return</span> <span class="n">rect</span>
</span><span id="RobotROS.get_rect-815"><a href="#RobotROS.get_rect-815"><span class="linenos">815</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="RobotROS.get_rect-816"><a href="#RobotROS.get_rect-816"><span class="linenos">816</span></a>            <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="RobotROS.get_rect-817"><a href="#RobotROS.get_rect-817"><span class="linenos">817</span></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="mf">0.9</span>
</span><span id="RobotROS.get_rect-818"><a href="#RobotROS.get_rect-818"><span class="linenos">818</span></a>            <span class="n">height</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">/</span><span class="mf">0.9</span>
</span><span id="RobotROS.get_rect-819"><a href="#RobotROS.get_rect-819"><span class="linenos">819</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-820"><a href="#RobotROS.get_rect-820"><span class="linenos">820</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setTop</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-821"><a href="#RobotROS.get_rect-821"><span class="linenos">821</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-822"><a href="#RobotROS.get_rect-822"><span class="linenos">822</span></a>            <span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span><span id="RobotROS.get_rect-823"><a href="#RobotROS.get_rect-823"><span class="linenos">823</span></a>            <span class="k">return</span> <span class="n">rect</span>
</span></pre></div>


            <div class="docstring"><p>Returns the current rectangle of the robot. </p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>QtCore.QRect</strong> - The adjusted current rectangle of the QGraphicsItem which should represent the robot.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.is_ready" class="classattr">
                                        <input id="RobotROS.is_ready-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_ready</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.is_ready-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.is_ready"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.is_ready-825"><a href="#RobotROS.is_ready-825"><span class="linenos">825</span></a>    <span class="k">def</span> <span class="nf">is_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.is_ready-826"><a href="#RobotROS.is_ready-826"><span class="linenos">826</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.is_ready-827"><a href="#RobotROS.is_ready-827"><span class="linenos">827</span></a><span class="sd">        Returns whether the robot is ready to execute the next action.  </span>
</span><span id="RobotROS.is_ready-828"><a href="#RobotROS.is_ready-828"><span class="linenos">828</span></a><span class="sd">        (A robot is READY if he knows what action he should execute as next)  </span>
</span><span id="RobotROS.is_ready-829"><a href="#RobotROS.is_ready-829"><span class="linenos">829</span></a><span class="sd">        (A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step) </span>
</span><span id="RobotROS.is_ready-830"><a href="#RobotROS.is_ready-830"><span class="linenos">830</span></a><span class="sd">        </span>
</span><span id="RobotROS.is_ready-831"><a href="#RobotROS.is_ready-831"><span class="linenos">831</span></a><span class="sd">        :return: **bool**   -   True or False.</span>
</span><span id="RobotROS.is_ready-832"><a href="#RobotROS.is_ready-832"><span class="linenos">832</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.is_ready-833"><a href="#RobotROS.is_ready-833"><span class="linenos">833</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ready</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the robot is ready to execute the next action. <br />
(A robot is READY if he knows what action he should execute as next) <br />
(A robot is not READY if he still has not received an Action from the CONTROLLER for the next time step) </p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>bool</strong>   -   True or False.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.mouseReleaseEvent" class="classattr">
                                        <input id="RobotROS.mouseReleaseEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mouseReleaseEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.mouseReleaseEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.mouseReleaseEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.mouseReleaseEvent-837"><a href="#RobotROS.mouseReleaseEvent-837"><span class="linenos">837</span></a>    <span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="RobotROS.mouseReleaseEvent-838"><a href="#RobotROS.mouseReleaseEvent-838"><span class="linenos">838</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.mouseReleaseEvent-839"><a href="#RobotROS.mouseReleaseEvent-839"><span class="linenos">839</span></a><span class="sd">        This is a overridden QT function and used for drag and drop.</span>
</span><span id="RobotROS.mouseReleaseEvent-840"><a href="#RobotROS.mouseReleaseEvent-840"><span class="linenos">840</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.mouseReleaseEvent-841"><a href="#RobotROS.mouseReleaseEvent-841"><span class="linenos">841</span></a>        <span class="n">model_view</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RobotROS.mouseReleaseEvent-842"><a href="#RobotROS.mouseReleaseEvent-842"><span class="linenos">842</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_dragged</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="RobotROS.mouseReleaseEvent-843"><a href="#RobotROS.mouseReleaseEvent-843"><span class="linenos">843</span></a>        <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">()</span><span class="o">.</span><span class="n">views</span><span class="p">():</span>
</span><span id="RobotROS.mouseReleaseEvent-844"><a href="#RobotROS.mouseReleaseEvent-844"><span class="linenos">844</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">mapf_simulation</span><span class="o">.</span><span class="n">modelView</span><span class="o">.</span><span class="n">ModelView</span><span class="p">):</span>
</span><span id="RobotROS.mouseReleaseEvent-845"><a href="#RobotROS.mouseReleaseEvent-845"><span class="linenos">845</span></a>                <span class="n">model_view</span> <span class="o">=</span> <span class="n">view</span>
</span><span id="RobotROS.mouseReleaseEvent-846"><a href="#RobotROS.mouseReleaseEvent-846"><span class="linenos">846</span></a>        <span class="k">if</span> <span class="n">model_view</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.mouseReleaseEvent-847"><a href="#RobotROS.mouseReleaseEvent-847"><span class="linenos">847</span></a>            <span class="k">return</span>
</span><span id="RobotROS.mouseReleaseEvent-848"><a href="#RobotROS.mouseReleaseEvent-848"><span class="linenos">848</span></a>        <span class="n">node</span> <span class="o">=</span> <span class="n">model_view</span><span class="o">.</span><span class="n">scene_coordinates_to_node</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span>
</span><span id="RobotROS.mouseReleaseEvent-849"><a href="#RobotROS.mouseReleaseEvent-849"><span class="linenos">849</span></a>                                                    <span class="n">event</span><span class="o">.</span><span class="n">scenePos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="RobotROS.mouseReleaseEvent-850"><a href="#RobotROS.mouseReleaseEvent-850"><span class="linenos">850</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS.mouseReleaseEvent-851"><a href="#RobotROS.mouseReleaseEvent-851"><span class="linenos">851</span></a>
</span><span id="RobotROS.mouseReleaseEvent-852"><a href="#RobotROS.mouseReleaseEvent-852"><span class="linenos">852</span></a>        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.mouseReleaseEvent-853"><a href="#RobotROS.mouseReleaseEvent-853"><span class="linenos">853</span></a>            <span class="c1">#if item not moved but only clicked then highlight it and all the corresponding checkpoints</span>
</span><span id="RobotROS.mouseReleaseEvent-854"><a href="#RobotROS.mouseReleaseEvent-854"><span class="linenos">854</span></a>            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS.mouseReleaseEvent-855"><a href="#RobotROS.mouseReleaseEvent-855"><span class="linenos">855</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span>
</span><span id="RobotROS.mouseReleaseEvent-856"><a href="#RobotROS.mouseReleaseEvent-856"><span class="linenos">856</span></a>                <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS.mouseReleaseEvent-857"><a href="#RobotROS.mouseReleaseEvent-857"><span class="linenos">857</span></a>                    <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="RobotROS.mouseReleaseEvent-858"><a href="#RobotROS.mouseReleaseEvent-858"><span class="linenos">858</span></a>                        <span class="n">checkpoint</span><span class="o">.</span><span class="n">set_highlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">)</span>
</span><span id="RobotROS.mouseReleaseEvent-859"><a href="#RobotROS.mouseReleaseEvent-859"><span class="linenos">859</span></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enable_drag</span><span class="p">:</span>
</span><span id="RobotROS.mouseReleaseEvent-860"><a href="#RobotROS.mouseReleaseEvent-860"><span class="linenos">860</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">is_node_free_of_robots</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS.mouseReleaseEvent-861"><a href="#RobotROS.mouseReleaseEvent-861"><span class="linenos">861</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">edit_position_to</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="RobotROS.mouseReleaseEvent-862"><a href="#RobotROS.mouseReleaseEvent-862"><span class="linenos">862</span></a>        <span class="n">model_view</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span><span id="RobotROS.mouseReleaseEvent-863"><a href="#RobotROS.mouseReleaseEvent-863"><span class="linenos">863</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This is a overridden QT function and used for drag and drop.</p>
</div>


                            </div>
                            <div id="RobotROS.edit_position_to" class="classattr">
                                        <input id="RobotROS.edit_position_to-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">edit_position_to</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">x</span>, </span><span class="param"><span class="n">y</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.edit_position_to-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.edit_position_to"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.edit_position_to-865"><a href="#RobotROS.edit_position_to-865"><span class="linenos">865</span></a>    <span class="k">def</span> <span class="nf">edit_position_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="RobotROS.edit_position_to-866"><a href="#RobotROS.edit_position_to-866"><span class="linenos">866</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.edit_position_to-867"><a href="#RobotROS.edit_position_to-867"><span class="linenos">867</span></a><span class="sd">        Sets a new starting position and new current position for the </span>
</span><span id="RobotROS.edit_position_to-868"><a href="#RobotROS.edit_position_to-868"><span class="linenos">868</span></a><span class="sd">        robot. If another robot is already on the same position</span>
</span><span id="RobotROS.edit_position_to-869"><a href="#RobotROS.edit_position_to-869"><span class="linenos">869</span></a><span class="sd">        they swap positions. This function is used to edit instances with</span>
</span><span id="RobotROS.edit_position_to-870"><a href="#RobotROS.edit_position_to-870"><span class="linenos">870</span></a><span class="sd">        the drag and drop feature. </span>
</span><span id="RobotROS.edit_position_to-871"><a href="#RobotROS.edit_position_to-871"><span class="linenos">871</span></a>
</span><span id="RobotROS.edit_position_to-872"><a href="#RobotROS.edit_position_to-872"><span class="linenos">872</span></a><span class="sd">        :param x:       int                - The x coordinate on the grid (new position for the robot)</span>
</span><span id="RobotROS.edit_position_to-873"><a href="#RobotROS.edit_position_to-873"><span class="linenos">873</span></a><span class="sd">        :param y:       int                - The y coordinate on the grid (new position for the robot)</span>
</span><span id="RobotROS.edit_position_to-874"><a href="#RobotROS.edit_position_to-874"><span class="linenos">874</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.edit_position_to-875"><a href="#RobotROS.edit_position_to-875"><span class="linenos">875</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS.edit_position_to-876"><a href="#RobotROS.edit_position_to-876"><span class="linenos">876</span></a>            <span class="k">return</span>
</span><span id="RobotROS.edit_position_to-877"><a href="#RobotROS.edit_position_to-877"><span class="linenos">877</span></a>        <span class="n">item2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">filter_items</span><span class="p">(</span><span class="n">item_kind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span><span class="p">,</span>
</span><span id="RobotROS.edit_position_to-878"><a href="#RobotROS.edit_position_to-878"><span class="linenos">878</span></a>                                        <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>
</span><span id="RobotROS.edit_position_to-879"><a href="#RobotROS.edit_position_to-879"><span class="linenos">879</span></a>                                        <span class="n">return_first</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS.edit_position_to-880"><a href="#RobotROS.edit_position_to-880"><span class="linenos">880</span></a>        
</span><span id="RobotROS.edit_position_to-881"><a href="#RobotROS.edit_position_to-881"><span class="linenos">881</span></a>        <span class="k">if</span> <span class="n">item2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.edit_position_to-882"><a href="#RobotROS.edit_position_to-882"><span class="linenos">882</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="RobotROS.edit_position_to-883"><a href="#RobotROS.edit_position_to-883"><span class="linenos">883</span></a>            <span class="n">item2</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="RobotROS.edit_position_to-884"><a href="#RobotROS.edit_position_to-884"><span class="linenos">884</span></a>            <span class="c1">#item2.clear_actions()</span>
</span><span id="RobotROS.edit_position_to-885"><a href="#RobotROS.edit_position_to-885"><span class="linenos">885</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_theta</span><span class="p">())</span>
</span><span id="RobotROS.edit_position_to-886"><a href="#RobotROS.edit_position_to-886"><span class="linenos">886</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_theta</span><span class="p">())</span>
</span><span id="RobotROS.edit_position_to-887"><a href="#RobotROS.edit_position_to-887"><span class="linenos">887</span></a>        <span class="c1">#self.clear_actions()</span>
</span><span id="RobotROS.edit_position_to-888"><a href="#RobotROS.edit_position_to-888"><span class="linenos">888</span></a>
</span><span id="RobotROS.edit_position_to-889"><a href="#RobotROS.edit_position_to-889"><span class="linenos">889</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</span><span id="RobotROS.edit_position_to-890"><a href="#RobotROS.edit_position_to-890"><span class="linenos">890</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span><span class="o">.</span><span class="n">mapf_reset_connection</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Sets a new starting position and new current position for the 
robot. If another robot is already on the same position
they swap positions. This function is used to edit instances with
the drag and drop feature. </p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x</strong>:        int                - The x coordinate on the grid (new position for the robot)</li>
<li><strong>y</strong>:        int                - The y coordinate on the grid (new position for the robot)</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.set_rect" class="classattr">
                                        <input id="RobotROS.set_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">rect</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.set_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.set_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.set_rect-894"><a href="#RobotROS.set_rect-894"><span class="linenos">894</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="RobotROS.set_rect-895"><a href="#RobotROS.set_rect-895"><span class="linenos">895</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;    </span>
</span><span id="RobotROS.set_rect-896"><a href="#RobotROS.set_rect-896"><span class="linenos">896</span></a><span class="sd">        Sets the rectangle that a robot can use to draw things in.</span>
</span><span id="RobotROS.set_rect-897"><a href="#RobotROS.set_rect-897"><span class="linenos">897</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="RobotROS.set_rect-898"><a href="#RobotROS.set_rect-898"><span class="linenos">898</span></a><span class="sd">        This function defines the appearance of the robot</span>
</span><span id="RobotROS.set_rect-899"><a href="#RobotROS.set_rect-899"><span class="linenos">899</span></a><span class="sd">        on the grid.</span>
</span><span id="RobotROS.set_rect-900"><a href="#RobotROS.set_rect-900"><span class="linenos">900</span></a>
</span><span id="RobotROS.set_rect-901"><a href="#RobotROS.set_rect-901"><span class="linenos">901</span></a><span class="sd">        :param rect:    QtCore.QRect    - The rectangle that a robot can use to draw things in.</span>
</span><span id="RobotROS.set_rect-902"><a href="#RobotROS.set_rect-902"><span class="linenos">902</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.set_rect-903"><a href="#RobotROS.set_rect-903"><span class="linenos">903</span></a>        <span class="n">scale</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_scale&#39;</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-904"><a href="#RobotROS.set_rect-904"><span class="linenos">904</span></a>        <span class="n">bold</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_bold&#39;</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-905"><a href="#RobotROS.set_rect-905"><span class="linenos">905</span></a>
</span><span id="RobotROS.set_rect-906"><a href="#RobotROS.set_rect-906"><span class="linenos">906</span></a>        <span class="c1">#SET FONTSIZE, TEXT POSITION AND DEFAULT TEXT COLOR</span>
</span><span id="RobotROS.set_rect-907"><a href="#RobotROS.set_rect-907"><span class="linenos">907</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.3</span><span class="o">*</span><span class="n">scale</span><span class="p">))</span>
</span><span id="RobotROS.set_rect-908"><a href="#RobotROS.set_rect-908"><span class="linenos">908</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="RobotROS.set_rect-909"><a href="#RobotROS.set_rect-909"><span class="linenos">909</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setDefaultTextColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_color&#39;</span><span class="p">)))</span>
</span><span id="RobotROS.set_rect-910"><a href="#RobotROS.set_rect-910"><span class="linenos">910</span></a>
</span><span id="RobotROS.set_rect-911"><a href="#RobotROS.set_rect-911"><span class="linenos">911</span></a>        <span class="c1">#SET DISPLAY MODE</span>
</span><span id="RobotROS.set_rect-912"><a href="#RobotROS.set_rect-912"><span class="linenos">912</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-913"><a href="#RobotROS.set_rect-913"><span class="linenos">913</span></a>            <span class="k">if</span> <span class="n">bold</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-914"><a href="#RobotROS.set_rect-914"><span class="linenos">914</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-915"><a href="#RobotROS.set_rect-915"><span class="linenos">915</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-916"><a href="#RobotROS.set_rect-916"><span class="linenos">916</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">))</span>
</span><span id="RobotROS.set_rect-917"><a href="#RobotROS.set_rect-917"><span class="linenos">917</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-918"><a href="#RobotROS.set_rect-918"><span class="linenos">918</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-919"><a href="#RobotROS.set_rect-919"><span class="linenos">919</span></a>
</span><span id="RobotROS.set_rect-920"><a href="#RobotROS.set_rect-920"><span class="linenos">920</span></a>        <span class="c1">#SET POSITION AND SIZE OF GRAPHICS ITEM INSIDE THE CELL </span>
</span><span id="RobotROS.set_rect-921"><a href="#RobotROS.set_rect-921"><span class="linenos">921</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">()</span>
</span><span id="RobotROS.set_rect-922"><a href="#RobotROS.set_rect-922"><span class="linenos">922</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="RobotROS.set_rect-923"><a href="#RobotROS.set_rect-923"><span class="linenos">923</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="RobotROS.set_rect-924"><a href="#RobotROS.set_rect-924"><span class="linenos">924</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">,</span>
</span><span id="RobotROS.set_rect-925"><a href="#RobotROS.set_rect-925"><span class="linenos">925</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-926"><a href="#RobotROS.set_rect-926"><span class="linenos">926</span></a>        
</span><span id="RobotROS.set_rect-927"><a href="#RobotROS.set_rect-927"><span class="linenos">927</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-928"><a href="#RobotROS.set_rect-928"><span class="linenos">928</span></a>        
</span><span id="RobotROS.set_rect-929"><a href="#RobotROS.set_rect-929"><span class="linenos">929</span></a>        <span class="c1">#IF HIGHLIGHTED</span>
</span><span id="RobotROS.set_rect-930"><a href="#RobotROS.set_rect-930"><span class="linenos">930</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-931"><a href="#RobotROS.set_rect-931"><span class="linenos">931</span></a>            <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="RobotROS.set_rect-932"><a href="#RobotROS.set_rect-932"><span class="linenos">932</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="RobotROS.set_rect-933"><a href="#RobotROS.set_rect-933"><span class="linenos">933</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">,</span>
</span><span id="RobotROS.set_rect-934"><a href="#RobotROS.set_rect-934"><span class="linenos">934</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-935"><a href="#RobotROS.set_rect-935"><span class="linenos">935</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.25</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-936"><a href="#RobotROS.set_rect-936"><span class="linenos">936</span></a>            
</span><span id="RobotROS.set_rect-937"><a href="#RobotROS.set_rect-937"><span class="linenos">937</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-938"><a href="#RobotROS.set_rect-938"><span class="linenos">938</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="p">)</span>
</span><span id="RobotROS.set_rect-939"><a href="#RobotROS.set_rect-939"><span class="linenos">939</span></a>
</span><span id="RobotROS.set_rect-940"><a href="#RobotROS.set_rect-940"><span class="linenos">940</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-941"><a href="#RobotROS.set_rect-941"><span class="linenos">941</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS.set_rect-942"><a href="#RobotROS.set_rect-942"><span class="linenos">942</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="RobotROS.set_rect-943"><a href="#RobotROS.set_rect-943"><span class="linenos">943</span></a>            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-944"><a href="#RobotROS.set_rect-944"><span class="linenos">944</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-945"><a href="#RobotROS.set_rect-945"><span class="linenos">945</span></a>                    <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS.set_rect-946"><a href="#RobotROS.set_rect-946"><span class="linenos">946</span></a>                    <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS.set_rect-947"><a href="#RobotROS.set_rect-947"><span class="linenos">947</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS.set_rect-948"><a href="#RobotROS.set_rect-948"><span class="linenos">948</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">set_theta</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>    
</span><span id="RobotROS.set_rect-949"><a href="#RobotROS.set_rect-949"><span class="linenos">949</span></a>                <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-950"><a href="#RobotROS.set_rect-950"><span class="linenos">950</span></a>                    <span class="k">pass</span>
</span><span id="RobotROS.set_rect-951"><a href="#RobotROS.set_rect-951"><span class="linenos">951</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS.set_rect-952"><a href="#RobotROS.set_rect-952"><span class="linenos">952</span></a>            <span class="k">pass</span>
</span><span id="RobotROS.set_rect-953"><a href="#RobotROS.set_rect-953"><span class="linenos">953</span></a>        
</span><span id="RobotROS.set_rect-954"><a href="#RobotROS.set_rect-954"><span class="linenos">954</span></a>        <span class="c1">#DRAW THE RIGHT ORIENTATION OF THE ROBOT IN THE DIRECTION OF MOVING</span>
</span><span id="RobotROS.set_rect-955"><a href="#RobotROS.set_rect-955"><span class="linenos">955</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_line_item</span><span class="o">.</span><span class="n">setLine</span><span class="p">(</span><span class="n">rect2</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>  <span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>   <span class="c1">#start x</span>
</span><span id="RobotROS.set_rect-956"><a href="#RobotROS.set_rect-956"><span class="linenos">956</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1">#start y </span>
</span><span id="RobotROS.set_rect-957"><a href="#RobotROS.set_rect-957"><span class="linenos">957</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>  <span class="o">*</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span> <span class="n">rect2</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span><span class="p">,</span>      <span class="c1">#end x</span>
</span><span id="RobotROS.set_rect-958"><a href="#RobotROS.set_rect-958"><span class="linenos">958</span></a>                                         <span class="n">rect2</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">*</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span> <span class="n">rect2</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.5</span><span class="p">)</span>      <span class="c1">#end y                                  </span>
</span><span id="RobotROS.set_rect-959"><a href="#RobotROS.set_rect-959"><span class="linenos">959</span></a>        <span class="c1">#UPDATE TOOLTIP</span>
</span><span id="RobotROS.set_rect-960"><a href="#RobotROS.set_rect-960"><span class="linenos">960</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_tooltip</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Sets the rectangle that a robot can use to draw things in.
This equals one field of the grid in the model view.
This function defines the appearance of the robot
on the grid.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>rect</strong>:     QtCore.QRect    - The rectangle that a robot can use to draw things in.</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.update_tooltip" class="classattr">
                                        <input id="RobotROS.update_tooltip-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_tooltip</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.update_tooltip-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.update_tooltip"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.update_tooltip-962"><a href="#RobotROS.update_tooltip-962"><span class="linenos">962</span></a>    <span class="k">def</span> <span class="nf">update_tooltip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.update_tooltip-963"><a href="#RobotROS.update_tooltip-963"><span class="linenos">963</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.update_tooltip-964"><a href="#RobotROS.update_tooltip-964"><span class="linenos">964</span></a><span class="sd">        Updates the tooltip for the robot.</span>
</span><span id="RobotROS.update_tooltip-965"><a href="#RobotROS.update_tooltip-965"><span class="linenos">965</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.update_tooltip-966"><a href="#RobotROS.update_tooltip-966"><span class="linenos">966</span></a>        <span class="n">tooltip</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;robot(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> 
</span><span id="RobotROS.update_tooltip-967"><a href="#RobotROS.update_tooltip-967"><span class="linenos">967</span></a>                   <span class="s2">&quot;)</span><span class="se">\n</span><span class="s2">Position: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()))</span>
</span><span id="RobotROS.update_tooltip-968"><a href="#RobotROS.update_tooltip-968"><span class="linenos">968</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="n">tooltip</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Updates the tooltip for the robot.</p>
</div>


                            </div>
                            <div id="RobotROS.determine_color" class="classattr">
                                        <input id="RobotROS.determine_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">determine_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">number</span>, </span><span class="param"><span class="n">count</span>, </span><span class="param"><span class="n">pattern</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.determine_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.determine_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.determine_color-970"><a href="#RobotROS.determine_color-970"><span class="linenos">970</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="RobotROS.determine_color-971"><a href="#RobotROS.determine_color-971"><span class="linenos">971</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.determine_color-972"><a href="#RobotROS.determine_color-972"><span class="linenos">972</span></a><span class="sd">        Determines the color of the robot.</span>
</span><span id="RobotROS.determine_color-973"><a href="#RobotROS.determine_color-973"><span class="linenos">973</span></a><span class="sd">        </span>
</span><span id="RobotROS.determine_color-974"><a href="#RobotROS.determine_color-974"><span class="linenos">974</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="RobotROS.determine_color-975"><a href="#RobotROS.determine_color-975"><span class="linenos">975</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="RobotROS.determine_color-976"><a href="#RobotROS.determine_color-976"><span class="linenos">976</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="RobotROS.determine_color-977"><a href="#RobotROS.determine_color-977"><span class="linenos">977</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="RobotROS.determine_color-978"><a href="#RobotROS.determine_color-978"><span class="linenos">978</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.determine_color-979"><a href="#RobotROS.determine_color-979"><span class="linenos">979</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">calculate_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">)(</span><span class="n">number</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">)</span>
</span><span id="RobotROS.determine_color-980"><a href="#RobotROS.determine_color-980"><span class="linenos">980</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="RobotROS.determine_color-981"><a href="#RobotROS.determine_color-981"><span class="linenos">981</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QBrush</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
</span><span id="RobotROS.determine_color-982"><a href="#RobotROS.determine_color-982"><span class="linenos">982</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Determines the color of the robot.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>number</strong>:  int  -   The number of this item in the models sequence. 
This does not necessarily have to be the ID of the item.</li>
<li><strong>count</strong>:  int   -   The maximal count of all items in the model of this kind.</li>
<li><strong>pattern</strong>:  int -   Not used.</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.clear_actions" class="classattr">
                                        <input id="RobotROS.clear_actions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear_actions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.clear_actions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.clear_actions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.clear_actions-986"><a href="#RobotROS.clear_actions-986"><span class="linenos">986</span></a>    <span class="k">def</span> <span class="nf">clear_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.clear_actions-987"><a href="#RobotROS.clear_actions-987"><span class="linenos">987</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.clear_actions-988"><a href="#RobotROS.clear_actions-988"><span class="linenos">988</span></a><span class="sd">        Deletes all saved actions for the robot.</span>
</span><span id="RobotROS.clear_actions-989"><a href="#RobotROS.clear_actions-989"><span class="linenos">989</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.clear_actions-990"><a href="#RobotROS.clear_actions-990"><span class="linenos">990</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>


            <div class="docstring"><p>Deletes all saved actions for the robot.</p>
</div>


                            </div>
                            <div id="RobotROS.do_action" class="classattr">
                                        <input id="RobotROS.do_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">do_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.do_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.do_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.do_action-992"><a href="#RobotROS.do_action-992"><span class="linenos"> 992</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS.do_action-993"><a href="#RobotROS.do_action-993"><span class="linenos"> 993</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.do_action-994"><a href="#RobotROS.do_action-994"><span class="linenos"> 994</span></a><span class="sd">        Executes an action for the robot.</span>
</span><span id="RobotROS.do_action-995"><a href="#RobotROS.do_action-995"><span class="linenos"> 995</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="RobotROS.do_action-996"><a href="#RobotROS.do_action-996"><span class="linenos"> 996</span></a><span class="sd">        one time step forward.</span>
</span><span id="RobotROS.do_action-997"><a href="#RobotROS.do_action-997"><span class="linenos"> 997</span></a><span class="sd">        </span>
</span><span id="RobotROS.do_action-998"><a href="#RobotROS.do_action-998"><span class="linenos"> 998</span></a><span class="sd">        :param time_step:   int     - The time step for which an action should be executed.</span>
</span><span id="RobotROS.do_action-999"><a href="#RobotROS.do_action-999"><span class="linenos"> 999</span></a><span class="sd">        :return:   **int**          - 1 if an action was done and 0 if an error occured.</span>
</span><span id="RobotROS.do_action-1000"><a href="#RobotROS.do_action-1000"><span class="linenos">1000</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.do_action-1001"><a href="#RobotROS.do_action-1001"><span class="linenos">1001</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">VIZ_STATE_ACTION</span>
</span><span id="RobotROS.do_action-1002"><a href="#RobotROS.do_action-1002"><span class="linenos">1002</span></a>
</span><span id="RobotROS.do_action-1003"><a href="#RobotROS.do_action-1003"><span class="linenos">1003</span></a>        <span class="c1">#SETS THE STATE FOR THE NEXT ACTION</span>
</span><span id="RobotROS.do_action-1004"><a href="#RobotROS.do_action-1004"><span class="linenos">1004</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="RobotROS.do_action-1005"><a href="#RobotROS.do_action-1005"><span class="linenos">1005</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1006"><a href="#RobotROS.do_action-1006"><span class="linenos">1006</span></a>                <span class="c1">#SETS THE STATE FOR THE NEXT ACTION</span>
</span><span id="RobotROS.do_action-1007"><a href="#RobotROS.do_action-1007"><span class="linenos">1007</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVE</span>
</span><span id="RobotROS.do_action-1008"><a href="#RobotROS.do_action-1008"><span class="linenos">1008</span></a>        
</span><span id="RobotROS.do_action-1009"><a href="#RobotROS.do_action-1009"><span class="linenos">1009</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>
</span><span id="RobotROS.do_action-1010"><a href="#RobotROS.do_action-1010"><span class="linenos">1010</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS.do_action-1011"><a href="#RobotROS.do_action-1011"><span class="linenos">1011</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1012"><a href="#RobotROS.do_action-1012"><span class="linenos">1012</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS.do_action-1013"><a href="#RobotROS.do_action-1013"><span class="linenos">1013</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1014"><a href="#RobotROS.do_action-1014"><span class="linenos">1014</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS.do_action-1015"><a href="#RobotROS.do_action-1015"><span class="linenos">1015</span></a>
</span><span id="RobotROS.do_action-1016"><a href="#RobotROS.do_action-1016"><span class="linenos">1016</span></a>        <span class="c1">#TRY TO GET THE ACTION</span>
</span><span id="RobotROS.do_action-1017"><a href="#RobotROS.do_action-1017"><span class="linenos">1017</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1018"><a href="#RobotROS.do_action-1018"><span class="linenos">1018</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS.do_action-1019"><a href="#RobotROS.do_action-1019"><span class="linenos">1019</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="RobotROS.do_action-1020"><a href="#RobotROS.do_action-1020"><span class="linenos">1020</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1021"><a href="#RobotROS.do_action-1021"><span class="linenos">1021</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS.do_action-1022"><a href="#RobotROS.do_action-1022"><span class="linenos">1022</span></a>
</span><span id="RobotROS.do_action-1023"><a href="#RobotROS.do_action-1023"><span class="linenos">1023</span></a>        <span class="c1">#EXECUTE ACTION</span>
</span><span id="RobotROS.do_action-1024"><a href="#RobotROS.do_action-1024"><span class="linenos">1024</span></a>        <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1025"><a href="#RobotROS.do_action-1025"><span class="linenos">1025</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span> 
</span><span id="RobotROS.do_action-1026"><a href="#RobotROS.do_action-1026"><span class="linenos">1026</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS.do_action-1027"><a href="#RobotROS.do_action-1027"><span class="linenos">1027</span></a>          
</span><span id="RobotROS.do_action-1028"><a href="#RobotROS.do_action-1028"><span class="linenos">1028</span></a>            <span class="c1">#MOVE </span>
</span><span id="RobotROS.do_action-1029"><a href="#RobotROS.do_action-1029"><span class="linenos">1029</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1030"><a href="#RobotROS.do_action-1030"><span class="linenos">1030</span></a>                <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS.do_action-1031"><a href="#RobotROS.do_action-1031"><span class="linenos">1031</span></a>                <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS.do_action-1032"><a href="#RobotROS.do_action-1032"><span class="linenos">1032</span></a>                <span class="c1">#MOVE AND CHANGE ORIENTATION IF VALUE NOT ZERO</span>
</span><span id="RobotROS.do_action-1033"><a href="#RobotROS.do_action-1033"><span class="linenos">1033</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS.do_action-1034"><a href="#RobotROS.do_action-1034"><span class="linenos">1034</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">move_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">move_y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</span><span id="RobotROS.do_action-1035"><a href="#RobotROS.do_action-1035"><span class="linenos">1035</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVED</span>
</span><span id="RobotROS.do_action-1036"><a href="#RobotROS.do_action-1036"><span class="linenos">1036</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1037"><a href="#RobotROS.do_action-1037"><span class="linenos">1037</span></a>                <span class="c1">#NO ACTION, NO CHANGE IN POSITION</span>
</span><span id="RobotROS.do_action-1038"><a href="#RobotROS.do_action-1038"><span class="linenos">1038</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="RobotROS.do_action-1039"><a href="#RobotROS.do_action-1039"><span class="linenos">1039</span></a>            
</span><span id="RobotROS.do_action-1040"><a href="#RobotROS.do_action-1040"><span class="linenos">1040</span></a>            <span class="c1">#MARK VISITED CHECKPOINTS</span>
</span><span id="RobotROS.do_action-1041"><a href="#RobotROS.do_action-1041"><span class="linenos">1041</span></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS.do_action-1042"><a href="#RobotROS.do_action-1042"><span class="linenos">1042</span></a>                <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="RobotROS.do_action-1043"><a href="#RobotROS.do_action-1043"><span class="linenos">1043</span></a>                    <span class="n">pos</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS.do_action-1044"><a href="#RobotROS.do_action-1044"><span class="linenos">1044</span></a>                    <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="RobotROS.do_action-1045"><a href="#RobotROS.do_action-1045"><span class="linenos">1045</span></a>                        <span class="n">task</span><span class="o">.</span><span class="n">visit_checkpoint</span><span class="p">(</span><span class="n">checkpoint</span><span class="p">)</span>
</span><span id="RobotROS.do_action-1046"><a href="#RobotROS.do_action-1046"><span class="linenos">1046</span></a>                        <span class="k">break</span>
</span><span id="RobotROS.do_action-1047"><a href="#RobotROS.do_action-1047"><span class="linenos">1047</span></a>
</span><span id="RobotROS.do_action-1048"><a href="#RobotROS.do_action-1048"><span class="linenos">1048</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="n">time_step</span>
</span><span id="RobotROS.do_action-1049"><a href="#RobotROS.do_action-1049"><span class="linenos">1049</span></a>            <span class="k">return</span> <span class="mi">1</span>
</span><span id="RobotROS.do_action-1050"><a href="#RobotROS.do_action-1050"><span class="linenos">1050</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Executes an action for the robot.
This function will be called every time the model does
one time step forward.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int     - The time step for which an action should be executed.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>int</strong>          - 1 if an action was done and 0 if an error occured.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.undo_action" class="classattr">
                                        <input id="RobotROS.undo_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">undo_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.undo_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.undo_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.undo_action-1052"><a href="#RobotROS.undo_action-1052"><span class="linenos">1052</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS.undo_action-1053"><a href="#RobotROS.undo_action-1053"><span class="linenos">1053</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.undo_action-1054"><a href="#RobotROS.undo_action-1054"><span class="linenos">1054</span></a><span class="sd">        Reverse an executed action for the robot.</span>
</span><span id="RobotROS.undo_action-1055"><a href="#RobotROS.undo_action-1055"><span class="linenos">1055</span></a><span class="sd">        This function will be called every time the model does</span>
</span><span id="RobotROS.undo_action-1056"><a href="#RobotROS.undo_action-1056"><span class="linenos">1056</span></a><span class="sd">        one time step backwards.  </span>
</span><span id="RobotROS.undo_action-1057"><a href="#RobotROS.undo_action-1057"><span class="linenos">1057</span></a>
</span><span id="RobotROS.undo_action-1058"><a href="#RobotROS.undo_action-1058"><span class="linenos">1058</span></a><span class="sd">        :param time_step:   int     - The time step for which an action should be reversed.</span>
</span><span id="RobotROS.undo_action-1059"><a href="#RobotROS.undo_action-1059"><span class="linenos">1059</span></a><span class="sd">        :return:   **int**          - 1 if an action was done and 0 if an error occured.</span>
</span><span id="RobotROS.undo_action-1060"><a href="#RobotROS.undo_action-1060"><span class="linenos">1060</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.undo_action-1061"><a href="#RobotROS.undo_action-1061"><span class="linenos">1061</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">VIZ_STATE_ACTION</span>
</span><span id="RobotROS.undo_action-1062"><a href="#RobotROS.undo_action-1062"><span class="linenos">1062</span></a>        <span class="k">if</span> <span class="n">time_step</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">):</span>  
</span><span id="RobotROS.undo_action-1063"><a href="#RobotROS.undo_action-1063"><span class="linenos">1063</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS.undo_action-1064"><a href="#RobotROS.undo_action-1064"><span class="linenos">1064</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span> 
</span><span id="RobotROS.undo_action-1065"><a href="#RobotROS.undo_action-1065"><span class="linenos">1065</span></a>            <span class="k">return</span> <span class="mi">0</span>  <span class="c1">#break, if no action is defined</span>
</span><span id="RobotROS.undo_action-1066"><a href="#RobotROS.undo_action-1066"><span class="linenos">1066</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1067"><a href="#RobotROS.undo_action-1067"><span class="linenos">1067</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS.undo_action-1068"><a href="#RobotROS.undo_action-1068"><span class="linenos">1068</span></a>
</span><span id="RobotROS.undo_action-1069"><a href="#RobotROS.undo_action-1069"><span class="linenos">1069</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1070"><a href="#RobotROS.undo_action-1070"><span class="linenos">1070</span></a>            <span class="n">action</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS.undo_action-1071"><a href="#RobotROS.undo_action-1071"><span class="linenos">1071</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actions</span><span class="p">[</span><span class="n">time_step</span><span class="p">]</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="RobotROS.undo_action-1072"><a href="#RobotROS.undo_action-1072"><span class="linenos">1072</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1073"><a href="#RobotROS.undo_action-1073"><span class="linenos">1073</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS.undo_action-1074"><a href="#RobotROS.undo_action-1074"><span class="linenos">1074</span></a>
</span><span id="RobotROS.undo_action-1075"><a href="#RobotROS.undo_action-1075"><span class="linenos">1075</span></a>        <span class="c1">#EXECUTE ACTION</span>
</span><span id="RobotROS.undo_action-1076"><a href="#RobotROS.undo_action-1076"><span class="linenos">1076</span></a>        <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1077"><a href="#RobotROS.undo_action-1077"><span class="linenos">1077</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span> 
</span><span id="RobotROS.undo_action-1078"><a href="#RobotROS.undo_action-1078"><span class="linenos">1078</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="RobotROS.undo_action-1079"><a href="#RobotROS.undo_action-1079"><span class="linenos">1079</span></a>            
</span><span id="RobotROS.undo_action-1080"><a href="#RobotROS.undo_action-1080"><span class="linenos">1080</span></a>            <span class="c1">#UNMARK VISITED CHECKPOINTS</span>
</span><span id="RobotROS.undo_action-1081"><a href="#RobotROS.undo_action-1081"><span class="linenos">1081</span></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1082"><a href="#RobotROS.undo_action-1082"><span class="linenos">1082</span></a>                <span class="k">for</span> <span class="n">checkpoint</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">():</span>
</span><span id="RobotROS.undo_action-1083"><a href="#RobotROS.undo_action-1083"><span class="linenos">1083</span></a>                    <span class="c1">#checkpoint[0] -&gt; checkpoint object, checkpoint[1] -&gt; name of the checkpoint</span>
</span><span id="RobotROS.undo_action-1084"><a href="#RobotROS.undo_action-1084"><span class="linenos">1084</span></a>                    <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS.undo_action-1085"><a href="#RobotROS.undo_action-1085"><span class="linenos">1085</span></a>                    <span class="n">pos</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS.undo_action-1086"><a href="#RobotROS.undo_action-1086"><span class="linenos">1086</span></a>                    <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="RobotROS.undo_action-1087"><a href="#RobotROS.undo_action-1087"><span class="linenos">1087</span></a>                        <span class="n">task</span><span class="o">.</span><span class="n">unvisit_checkpoint</span><span class="p">(</span><span class="n">checkpoint</span><span class="p">)</span>
</span><span id="RobotROS.undo_action-1088"><a href="#RobotROS.undo_action-1088"><span class="linenos">1088</span></a>                        <span class="k">break</span>
</span><span id="RobotROS.undo_action-1089"><a href="#RobotROS.undo_action-1089"><span class="linenos">1089</span></a>
</span><span id="RobotROS.undo_action-1090"><a href="#RobotROS.undo_action-1090"><span class="linenos">1090</span></a>            <span class="c1">#MOVE BACK</span>
</span><span id="RobotROS.undo_action-1091"><a href="#RobotROS.undo_action-1091"><span class="linenos">1091</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1092"><a href="#RobotROS.undo_action-1092"><span class="linenos">1092</span></a>                <span class="n">move_x</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS.undo_action-1093"><a href="#RobotROS.undo_action-1093"><span class="linenos">1093</span></a>                <span class="n">move_y</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">number</span>
</span><span id="RobotROS.undo_action-1094"><a href="#RobotROS.undo_action-1094"><span class="linenos">1094</span></a>                <span class="c1">#MOVE BACK AND CHANGE ORIENTATION IF VALUE NOT ZERO</span>
</span><span id="RobotROS.undo_action-1095"><a href="#RobotROS.undo_action-1095"><span class="linenos">1095</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">move_x</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">move_y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="RobotROS.undo_action-1096"><a href="#RobotROS.undo_action-1096"><span class="linenos">1096</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">move_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">move_y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">move_y</span><span class="p">),</span><span class="nb">float</span><span class="p">(</span><span class="n">move_x</span><span class="p">))</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
</span><span id="RobotROS.undo_action-1097"><a href="#RobotROS.undo_action-1097"><span class="linenos">1097</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">|</span> <span class="n">VIZ_STATE_MOVE</span>
</span><span id="RobotROS.undo_action-1098"><a href="#RobotROS.undo_action-1098"><span class="linenos">1098</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="RobotROS.undo_action-1099"><a href="#RobotROS.undo_action-1099"><span class="linenos">1099</span></a>                <span class="c1">#NO ACTION, NO CHANGE IN POSITION</span>
</span><span id="RobotROS.undo_action-1100"><a href="#RobotROS.undo_action-1100"><span class="linenos">1100</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="RobotROS.undo_action-1101"><a href="#RobotROS.undo_action-1101"><span class="linenos">1101</span></a>            
</span><span id="RobotROS.undo_action-1102"><a href="#RobotROS.undo_action-1102"><span class="linenos">1102</span></a>            <span class="k">return</span> <span class="mi">1</span>
</span><span id="RobotROS.undo_action-1103"><a href="#RobotROS.undo_action-1103"><span class="linenos">1103</span></a>        <span class="k">return</span> <span class="mi">0</span>
</span></pre></div>


            <div class="docstring"><p>Reverse an executed action for the robot.
This function will be called every time the model does
one time step backwards.  </p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int     - The time step for which an action should be reversed.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>int</strong>          - 1 if an action was done and 0 if an error occured.</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.reset" class="classattr">
                                        <input id="RobotROS.reset-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reset</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.reset-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.reset"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.reset-1105"><a href="#RobotROS.reset-1105"><span class="linenos">1105</span></a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.reset-1106"><a href="#RobotROS.reset-1106"><span class="linenos">1106</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.reset-1107"><a href="#RobotROS.reset-1107"><span class="linenos">1107</span></a><span class="sd">        Resets the item to its original values. This function will be called for every item if </span>
</span><span id="RobotROS.reset-1108"><a href="#RobotROS.reset-1108"><span class="linenos">1108</span></a><span class="sd">        the Button &quot;RESET&quot; in the GUI is pressed</span>
</span><span id="RobotROS.reset-1109"><a href="#RobotROS.reset-1109"><span class="linenos">1109</span></a><span class="sd">        -   delete old actions for the robot</span>
</span><span id="RobotROS.reset-1110"><a href="#RobotROS.reset-1110"><span class="linenos">1110</span></a><span class="sd">        -   move the robot back to it&#39;s start position</span>
</span><span id="RobotROS.reset-1111"><a href="#RobotROS.reset-1111"><span class="linenos">1111</span></a><span class="sd">        -   mark all the checkpoints of the robot as not visited yet</span>
</span><span id="RobotROS.reset-1112"><a href="#RobotROS.reset-1112"><span class="linenos">1112</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.reset-1113"><a href="#RobotROS.reset-1113"><span class="linenos">1113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">clear_actions</span><span class="p">()</span>
</span><span id="RobotROS.reset-1114"><a href="#RobotROS.reset-1114"><span class="linenos">1114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_position</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="RobotROS.reset-1115"><a href="#RobotROS.reset-1115"><span class="linenos">1115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">unvisit_all_checkpoints</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Resets the item to its original values. This function will be called for every item if 
the Button "RESET" in the GUI is pressed</p>

<ul>
<li>delete old actions for the robot</li>
<li>move the robot back to it's start position</li>
<li>mark all the checkpoints of the robot as not visited yet</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.restart" class="classattr">
                                        <input id="RobotROS.restart-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">restart</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.restart-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.restart"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.restart-1117"><a href="#RobotROS.restart-1117"><span class="linenos">1117</span></a>    <span class="k">def</span> <span class="nf">restart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.restart-1118"><a href="#RobotROS.restart-1118"><span class="linenos">1118</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.restart-1119"><a href="#RobotROS.restart-1119"><span class="linenos">1119</span></a><span class="sd">        Sets the robot to it&#39;s starting position.</span>
</span><span id="RobotROS.restart-1120"><a href="#RobotROS.restart-1120"><span class="linenos">1120</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.restart-1121"><a href="#RobotROS.restart-1121"><span class="linenos">1121</span></a>        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">restart</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Sets the robot to it's starting position.</p>
</div>


                            </div>
                            <div id="RobotROS.add_task" class="classattr">
                                        <input id="RobotROS.add_task-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_task</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">task</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.add_task-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.add_task"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.add_task-1125"><a href="#RobotROS.add_task-1125"><span class="linenos">1125</span></a>    <span class="k">def</span> <span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">):</span>
</span><span id="RobotROS.add_task-1126"><a href="#RobotROS.add_task-1126"><span class="linenos">1126</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.add_task-1127"><a href="#RobotROS.add_task-1127"><span class="linenos">1127</span></a><span class="sd">        Adds a task to the robot (For the moment only one task is supported).</span>
</span><span id="RobotROS.add_task-1128"><a href="#RobotROS.add_task-1128"><span class="linenos">1128</span></a>
</span><span id="RobotROS.add_task-1129"><a href="#RobotROS.add_task-1129"><span class="linenos">1129</span></a><span class="sd">        :param task:   mapf_simulation.visualizerItem.TaskROS  -    A new task for the robot</span>
</span><span id="RobotROS.add_task-1130"><a href="#RobotROS.add_task-1130"><span class="linenos">1130</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.add_task-1131"><a href="#RobotROS.add_task-1131"><span class="linenos">1131</span></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="RobotROS.add_task-1132"><a href="#RobotROS.add_task-1132"><span class="linenos">1132</span></a>            <span class="k">return</span>
</span><span id="RobotROS.add_task-1133"><a href="#RobotROS.add_task-1133"><span class="linenos">1133</span></a>        <span class="k">if</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS.add_task-1134"><a href="#RobotROS.add_task-1134"><span class="linenos">1134</span></a>            <span class="k">return</span>
</span><span id="RobotROS.add_task-1135"><a href="#RobotROS.add_task-1135"><span class="linenos">1135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</span><span id="RobotROS.add_task-1136"><a href="#RobotROS.add_task-1136"><span class="linenos">1136</span></a>        <span class="n">task</span><span class="o">.</span><span class="n">set_robot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Adds a task to the robot (For the moment only one task is supported).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>task</strong>:    <a href="visualizerItem.html#TaskROS">mapf_simulation.visualizerItem.TaskROS</a>  -    A new task for the robot</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.check_robot_at_target" class="classattr">
                                        <input id="RobotROS.check_robot_at_target-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_robot_at_target</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.check_robot_at_target-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.check_robot_at_target"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.check_robot_at_target-1138"><a href="#RobotROS.check_robot_at_target-1138"><span class="linenos">1138</span></a>    <span class="k">def</span> <span class="nf">check_robot_at_target</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.check_robot_at_target-1139"><a href="#RobotROS.check_robot_at_target-1139"><span class="linenos">1139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.check_robot_at_target-1140"><a href="#RobotROS.check_robot_at_target-1140"><span class="linenos">1140</span></a><span class="sd">        This function checks whether the robot has reached it&#39;s target. </span>
</span><span id="RobotROS.check_robot_at_target-1141"><a href="#RobotROS.check_robot_at_target-1141"><span class="linenos">1141</span></a><span class="sd">        At the moment for one robot only one checkpoint and only one task are supported.</span>
</span><span id="RobotROS.check_robot_at_target-1142"><a href="#RobotROS.check_robot_at_target-1142"><span class="linenos">1142</span></a><span class="sd">        Therefore this function checks only if the robot has reached the position </span>
</span><span id="RobotROS.check_robot_at_target-1143"><a href="#RobotROS.check_robot_at_target-1143"><span class="linenos">1143</span></a><span class="sd">        of the first checkpoint from it&#39;s first task from his task list.</span>
</span><span id="RobotROS.check_robot_at_target-1144"><a href="#RobotROS.check_robot_at_target-1144"><span class="linenos">1144</span></a><span class="sd">        </span>
</span><span id="RobotROS.check_robot_at_target-1145"><a href="#RobotROS.check_robot_at_target-1145"><span class="linenos">1145</span></a><span class="sd">        :return: **True**   -   if the robot has reached it&#39;s target   </span>
</span><span id="RobotROS.check_robot_at_target-1146"><a href="#RobotROS.check_robot_at_target-1146"><span class="linenos">1146</span></a><span class="sd">                 **False**  -   otherwise</span>
</span><span id="RobotROS.check_robot_at_target-1147"><a href="#RobotROS.check_robot_at_target-1147"><span class="linenos">1147</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.check_robot_at_target-1148"><a href="#RobotROS.check_robot_at_target-1148"><span class="linenos">1148</span></a>        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS.check_robot_at_target-1149"><a href="#RobotROS.check_robot_at_target-1149"><span class="linenos">1149</span></a>        <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="RobotROS.check_robot_at_target-1150"><a href="#RobotROS.check_robot_at_target-1150"><span class="linenos">1150</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> 
</span><span id="RobotROS.check_robot_at_target-1151"><a href="#RobotROS.check_robot_at_target-1151"><span class="linenos">1151</span></a>            <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="RobotROS.check_robot_at_target-1152"><a href="#RobotROS.check_robot_at_target-1152"><span class="linenos">1152</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="RobotROS.check_robot_at_target-1153"><a href="#RobotROS.check_robot_at_target-1153"><span class="linenos">1153</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>This function checks whether the robot has reached it's target. 
At the moment for one robot only one checkpoint and only one task are supported.
Therefore this function checks only if the robot has reached the position 
of the first checkpoint from it's first task from his task list.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><strong>True</strong>   -   if the robot has reached it's target <br />
           <strong>False</strong>  -   otherwise</p>
</blockquote>
</div>


                            </div>
                            <div id="RobotROS.unvisit_all_checkpoints" class="classattr">
                                        <input id="RobotROS.unvisit_all_checkpoints-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unvisit_all_checkpoints</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.unvisit_all_checkpoints-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.unvisit_all_checkpoints"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.unvisit_all_checkpoints-1155"><a href="#RobotROS.unvisit_all_checkpoints-1155"><span class="linenos">1155</span></a>    <span class="k">def</span> <span class="nf">unvisit_all_checkpoints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.unvisit_all_checkpoints-1156"><a href="#RobotROS.unvisit_all_checkpoints-1156"><span class="linenos">1156</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.unvisit_all_checkpoints-1157"><a href="#RobotROS.unvisit_all_checkpoints-1157"><span class="linenos">1157</span></a><span class="sd">        This function iterates over the tasks of this robot and </span>
</span><span id="RobotROS.unvisit_all_checkpoints-1158"><a href="#RobotROS.unvisit_all_checkpoints-1158"><span class="linenos">1158</span></a><span class="sd">        marks all the checkpoints assigned to the tasks as not visited.</span>
</span><span id="RobotROS.unvisit_all_checkpoints-1159"><a href="#RobotROS.unvisit_all_checkpoints-1159"><span class="linenos">1159</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.unvisit_all_checkpoints-1160"><a href="#RobotROS.unvisit_all_checkpoints-1160"><span class="linenos">1160</span></a>        <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tasks</span><span class="p">:</span>
</span><span id="RobotROS.unvisit_all_checkpoints-1161"><a href="#RobotROS.unvisit_all_checkpoints-1161"><span class="linenos">1161</span></a>            <span class="n">task</span><span class="o">.</span><span class="n">unvisit_all_checkpoints</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>This function iterates over the tasks of this robot and 
marks all the checkpoints assigned to the tasks as not visited.</p>
</div>


                            </div>
                            <div id="RobotROS.ros_spin_once" class="classattr">
                                        <input id="RobotROS.ros_spin_once-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ros_spin_once</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.ros_spin_once-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.ros_spin_once"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.ros_spin_once-1165"><a href="#RobotROS.ros_spin_once-1165"><span class="linenos">1165</span></a>    <span class="k">def</span> <span class="nf">ros_spin_once</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="RobotROS.ros_spin_once-1166"><a href="#RobotROS.ros_spin_once-1166"><span class="linenos">1166</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.ros_spin_once-1167"><a href="#RobotROS.ros_spin_once-1167"><span class="linenos">1167</span></a><span class="sd">        Spin the ROS2-node once (every robot is also a ROS2-node) to process the data sent through ROS2-interfaces</span>
</span><span id="RobotROS.ros_spin_once-1168"><a href="#RobotROS.ros_spin_once-1168"><span class="linenos">1168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.ros_spin_once-1169"><a href="#RobotROS.ros_spin_once-1169"><span class="linenos">1169</span></a>        <span class="n">rclpy</span><span class="o">.</span><span class="n">spin_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_sec</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Spin the ROS2-node once (every robot is also a ROS2-node) to process the data sent through ROS2-interfaces</p>
</div>


                            </div>
                            <div id="RobotROS.ros_publish_message_info" class="classattr">
                                        <input id="RobotROS.ros_publish_message_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ros_publish_message_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg_id</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.ros_publish_message_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.ros_publish_message_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.ros_publish_message_info-1171"><a href="#RobotROS.ros_publish_message_info-1171"><span class="linenos">1171</span></a>    <span class="k">def</span> <span class="nf">ros_publish_message_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg_id</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="RobotROS.ros_publish_message_info-1172"><a href="#RobotROS.ros_publish_message_info-1172"><span class="linenos">1172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.ros_publish_message_info-1173"><a href="#RobotROS.ros_publish_message_info-1173"><span class="linenos">1173</span></a><span class="sd">        This function generates a ROS2 message of type [mapf_interfaces/RobotInfo.msg] </span>
</span><span id="RobotROS.ros_publish_message_info-1174"><a href="#RobotROS.ros_publish_message_info-1174"><span class="linenos">1174</span></a><span class="sd">        and publishes it to the following topic: */mapf_robot_info_&quot;ID&quot;*</span>
</span><span id="RobotROS.ros_publish_message_info-1175"><a href="#RobotROS.ros_publish_message_info-1175"><span class="linenos">1175</span></a><span class="sd">        </span>
</span><span id="RobotROS.ros_publish_message_info-1176"><a href="#RobotROS.ros_publish_message_info-1176"><span class="linenos">1176</span></a><span class="sd">        This function will be called by the model every time a robot performs an action and then has to publish</span>
</span><span id="RobotROS.ros_publish_message_info-1177"><a href="#RobotROS.ros_publish_message_info-1177"><span class="linenos">1177</span></a><span class="sd">        the updated information about itself.</span>
</span><span id="RobotROS.ros_publish_message_info-1178"><a href="#RobotROS.ros_publish_message_info-1178"><span class="linenos">1178</span></a>
</span><span id="RobotROS.ros_publish_message_info-1179"><a href="#RobotROS.ros_publish_message_info-1179"><span class="linenos">1179</span></a><span class="sd">        :param msg_id:      int  -   The id of the current cycle (sim-&gt;controller-&gt;planner-&gt;controller-&gt;sim)</span>
</span><span id="RobotROS.ros_publish_message_info-1180"><a href="#RobotROS.ros_publish_message_info-1180"><span class="linenos">1180</span></a><span class="sd">        :param time_step:   int  -   Sets the time step in the published message (msg.step = time_step)</span>
</span><span id="RobotROS.ros_publish_message_info-1181"><a href="#RobotROS.ros_publish_message_info-1181"><span class="linenos">1181</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.ros_publish_message_info-1182"><a href="#RobotROS.ros_publish_message_info-1182"><span class="linenos">1182</span></a>
</span><span id="RobotROS.ros_publish_message_info-1183"><a href="#RobotROS.ros_publish_message_info-1183"><span class="linenos">1183</span></a>        <span class="n">msg</span>  <span class="o">=</span> <span class="n">RobotInfo</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1184"><a href="#RobotROS.ros_publish_message_info-1184"><span class="linenos">1184</span></a>        <span class="n">pos</span>  <span class="o">=</span> <span class="n">Position</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1185"><a href="#RobotROS.ros_publish_message_info-1185"><span class="linenos">1185</span></a>        <span class="n">checkpoint_msg</span> <span class="o">=</span> <span class="n">CheckpointInfo</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1186"><a href="#RobotROS.ros_publish_message_info-1186"><span class="linenos">1186</span></a>        <span class="n">goal</span> <span class="o">=</span> <span class="n">Position</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1187"><a href="#RobotROS.ros_publish_message_info-1187"><span class="linenos">1187</span></a>        
</span><span id="RobotROS.ros_publish_message_info-1188"><a href="#RobotROS.ros_publish_message_info-1188"><span class="linenos">1188</span></a>        <span class="c1">#Add CYCLE-ID        </span>
</span><span id="RobotROS.ros_publish_message_info-1189"><a href="#RobotROS.ros_publish_message_info-1189"><span class="linenos">1189</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">msg_id</span>
</span><span id="RobotROS.ros_publish_message_info-1190"><a href="#RobotROS.ros_publish_message_info-1190"><span class="linenos">1190</span></a>        <span class="c1">#Add STEP        </span>
</span><span id="RobotROS.ros_publish_message_info-1191"><a href="#RobotROS.ros_publish_message_info-1191"><span class="linenos">1191</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="n">time_step</span>
</span><span id="RobotROS.ros_publish_message_info-1192"><a href="#RobotROS.ros_publish_message_info-1192"><span class="linenos">1192</span></a>        <span class="c1">#Add ROBOT_ID</span>
</span><span id="RobotROS.ros_publish_message_info-1193"><a href="#RobotROS.ros_publish_message_info-1193"><span class="linenos">1193</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_id</span><span class="p">())</span>
</span><span id="RobotROS.ros_publish_message_info-1194"><a href="#RobotROS.ros_publish_message_info-1194"><span class="linenos">1194</span></a>        <span class="c1">#Add BUCKET</span>
</span><span id="RobotROS.ros_publish_message_info-1195"><a href="#RobotROS.ros_publish_message_info-1195"><span class="linenos">1195</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">bucket</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">())</span>
</span><span id="RobotROS.ros_publish_message_info-1196"><a href="#RobotROS.ros_publish_message_info-1196"><span class="linenos">1196</span></a>        <span class="c1">#Add OPTIMAL_LENGTH</span>
</span><span id="RobotROS.ros_publish_message_info-1197"><a href="#RobotROS.ros_publish_message_info-1197"><span class="linenos">1197</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">optimal_length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_heuristic</span><span class="p">())</span>
</span><span id="RobotROS.ros_publish_message_info-1198"><a href="#RobotROS.ros_publish_message_info-1198"><span class="linenos">1198</span></a>        <span class="c1">#Add POSITION</span>
</span><span id="RobotROS.ros_publish_message_info-1199"><a href="#RobotROS.ros_publish_message_info-1199"><span class="linenos">1199</span></a>        <span class="n">pos</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">pos_y</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1200"><a href="#RobotROS.ros_publish_message_info-1200"><span class="linenos">1200</span></a>        <span class="n">msg</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="RobotROS.ros_publish_message_info-1201"><a href="#RobotROS.ros_publish_message_info-1201"><span class="linenos">1201</span></a>
</span><span id="RobotROS.ros_publish_message_info-1202"><a href="#RobotROS.ros_publish_message_info-1202"><span class="linenos">1202</span></a>        <span class="c1">#Add CHECKPOINTS</span>
</span><span id="RobotROS.ros_publish_message_info-1203"><a href="#RobotROS.ros_publish_message_info-1203"><span class="linenos">1203</span></a>        <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="RobotROS.ros_publish_message_info-1204"><a href="#RobotROS.ros_publish_message_info-1204"><span class="linenos">1204</span></a>        <span class="n">checkpoints</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">get_checkpoints</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1205"><a href="#RobotROS.ros_publish_message_info-1205"><span class="linenos">1205</span></a>        <span class="k">for</span> <span class="n">checkpoint</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">checkpoints</span><span class="p">:</span>    
</span><span id="RobotROS.ros_publish_message_info-1206"><a href="#RobotROS.ros_publish_message_info-1206"><span class="linenos">1206</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1207"><a href="#RobotROS.ros_publish_message_info-1207"><span class="linenos">1207</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="RobotROS.ros_publish_message_info-1208"><a href="#RobotROS.ros_publish_message_info-1208"><span class="linenos">1208</span></a>            <span class="n">checkpoint_msg</span><span class="o">.</span><span class="n">visited</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get_visit_status</span><span class="p">()</span>
</span><span id="RobotROS.ros_publish_message_info-1209"><a href="#RobotROS.ros_publish_message_info-1209"><span class="linenos">1209</span></a>            <span class="n">msg</span><span class="o">.</span><span class="n">checkpoints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">checkpoint_msg</span><span class="p">)</span>
</span><span id="RobotROS.ros_publish_message_info-1210"><a href="#RobotROS.ros_publish_message_info-1210"><span class="linenos">1210</span></a>
</span><span id="RobotROS.ros_publish_message_info-1211"><a href="#RobotROS.ros_publish_message_info-1211"><span class="linenos">1211</span></a>        <span class="c1">#publish message: RobotInfo.msg</span>
</span><span id="RobotROS.ros_publish_message_info-1212"><a href="#RobotROS.ros_publish_message_info-1212"><span class="linenos">1212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">publisher</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="RobotROS.ros_publish_message_info-1213"><a href="#RobotROS.ros_publish_message_info-1213"><span class="linenos">1213</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>This function generates a ROS2 message of type [mapf_interfaces/RobotInfo.msg] 
and publishes it to the following topic: <em>/mapf_robot_info_"ID"</em></p>

<p>This function will be called by the model every time a robot performs an action and then has to publish
the updated information about itself.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>msg_id</strong>:       int  -   The id of the current cycle (sim->controller->planner->controller->sim)</li>
<li><strong>time_step</strong>:    int  -   Sets the time step in the published message (msg.step = time_step)</li>
</ul>
</div>


                            </div>
                            <div id="RobotROS.callback_action" class="classattr">
                                        <input id="RobotROS.callback_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">callback_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">msg</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="RobotROS.callback_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RobotROS.callback_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RobotROS.callback_action-1216"><a href="#RobotROS.callback_action-1216"><span class="linenos">1216</span></a>    <span class="k">def</span> <span class="nf">callback_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
</span><span id="RobotROS.callback_action-1217"><a href="#RobotROS.callback_action-1217"><span class="linenos">1217</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="RobotROS.callback_action-1218"><a href="#RobotROS.callback_action-1218"><span class="linenos">1218</span></a><span class="sd">        This function will be called every time a message on the following topics is received: </span>
</span><span id="RobotROS.callback_action-1219"><a href="#RobotROS.callback_action-1219"><span class="linenos">1219</span></a><span class="sd">        */mapf_robot_info_&quot;ID&quot;*</span>
</span><span id="RobotROS.callback_action-1220"><a href="#RobotROS.callback_action-1220"><span class="linenos">1220</span></a>
</span><span id="RobotROS.callback_action-1221"><a href="#RobotROS.callback_action-1221"><span class="linenos">1221</span></a><span class="sd">        This function creates an action from the received message and </span>
</span><span id="RobotROS.callback_action-1222"><a href="#RobotROS.callback_action-1222"><span class="linenos">1222</span></a><span class="sd">        saves the action in the robot for the (in the message) defined step!</span>
</span><span id="RobotROS.callback_action-1223"><a href="#RobotROS.callback_action-1223"><span class="linenos">1223</span></a><span class="sd">        </span>
</span><span id="RobotROS.callback_action-1224"><a href="#RobotROS.callback_action-1224"><span class="linenos">1224</span></a><span class="sd">        :param msg: mapf_interfaces/RobotAction.msg - message from the topic /mapf_robot_action_ID</span>
</span><span id="RobotROS.callback_action-1225"><a href="#RobotROS.callback_action-1225"><span class="linenos">1225</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="RobotROS.callback_action-1226"><a href="#RobotROS.callback_action-1226"><span class="linenos">1226</span></a>
</span><span id="RobotROS.callback_action-1227"><a href="#RobotROS.callback_action-1227"><span class="linenos">1227</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message received&quot;</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1228"><a href="#RobotROS.callback_action-1228"><span class="linenos">1228</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;STEP: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1229"><a href="#RobotROS.callback_action-1229"><span class="linenos">1229</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;robot_id: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1230"><a href="#RobotROS.callback_action-1230"><span class="linenos">1230</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;move x: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_x</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1231"><a href="#RobotROS.callback_action-1231"><span class="linenos">1231</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;move y: </span><span class="si">%d</span><span class="s2">&quot;</span>  <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_y</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1232"><a href="#RobotROS.callback_action-1232"><span class="linenos">1232</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rotate: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msg</span><span class="o">.</span><span class="n">rotate</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1233"><a href="#RobotROS.callback_action-1233"><span class="linenos">1233</span></a>        
</span><span id="RobotROS.callback_action-1234"><a href="#RobotROS.callback_action-1234"><span class="linenos">1234</span></a>        <span class="c1">#skip message if action not for current step</span>
</span><span id="RobotROS.callback_action-1235"><a href="#RobotROS.callback_action-1235"><span class="linenos">1235</span></a>        <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">():</span>
</span><span id="RobotROS.callback_action-1236"><a href="#RobotROS.callback_action-1236"><span class="linenos">1236</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SKIP MESSAGE, WRONG STEP&quot;</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1237"><a href="#RobotROS.callback_action-1237"><span class="linenos">1237</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Robot ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">robot_id</span><span class="p">))</span>
</span><span id="RobotROS.callback_action-1238"><a href="#RobotROS.callback_action-1238"><span class="linenos">1238</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Msg step: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">))</span>
</span><span id="RobotROS.callback_action-1239"><a href="#RobotROS.callback_action-1239"><span class="linenos">1239</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current step: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model</span><span class="o">.</span><span class="n">get_current_step</span><span class="p">()))</span>
</span><span id="RobotROS.callback_action-1240"><a href="#RobotROS.callback_action-1240"><span class="linenos">1240</span></a>            <span class="k">return</span>
</span><span id="RobotROS.callback_action-1241"><a href="#RobotROS.callback_action-1241"><span class="linenos">1241</span></a>        
</span><span id="RobotROS.callback_action-1242"><a href="#RobotROS.callback_action-1242"><span class="linenos">1242</span></a>        <span class="n">action</span> <span class="o">=</span> <span class="n">Action</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">move_x</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">move_y</span><span class="p">,</span> <span class="s1">&#39;move&#39;</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1243"><a href="#RobotROS.callback_action-1243"><span class="linenos">1243</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_action</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1244"><a href="#RobotROS.callback_action-1244"><span class="linenos">1244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_future_path</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="RobotROS.callback_action-1245"><a href="#RobotROS.callback_action-1245"><span class="linenos">1245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_ready</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>     
</span></pre></div>


            <div class="docstring"><p>This function will be called every time a message on the following topics is received: 
<em>/mapf_robot_info_"ID"</em></p>

<p>This function creates an action from the received message and 
saves the action in the robot for the (in the message) defined step!</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>msg</strong>:  mapf_interfaces/RobotAction.msg - message from the topic /mapf_robot_action_ID</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>rclpy.node.Node</dt>
                                <dd id="RobotROS.PARAM_REL_TOL" class="variable">PARAM_REL_TOL</dd>
                <dd id="RobotROS.publishers" class="variable">publishers</dd>
                <dd id="RobotROS.subscriptions" class="variable">subscriptions</dd>
                <dd id="RobotROS.clients" class="variable">clients</dd>
                <dd id="RobotROS.services" class="variable">services</dd>
                <dd id="RobotROS.timers" class="variable">timers</dd>
                <dd id="RobotROS.guards" class="variable">guards</dd>
                <dd id="RobotROS.waitables" class="variable">waitables</dd>
                <dd id="RobotROS.executor" class="variable">executor</dd>
                <dd id="RobotROS.context" class="variable">context</dd>
                <dd id="RobotROS.default_callback_group" class="variable">default_callback_group</dd>
                <dd id="RobotROS.handle" class="variable">handle</dd>
                <dd id="RobotROS.get_name" class="function">get_name</dd>
                <dd id="RobotROS.get_namespace" class="function">get_namespace</dd>
                <dd id="RobotROS.get_clock" class="function">get_clock</dd>
                <dd id="RobotROS.get_logger" class="function">get_logger</dd>
                <dd id="RobotROS.declare_parameter" class="function">declare_parameter</dd>
                <dd id="RobotROS.declare_parameters" class="function">declare_parameters</dd>
                <dd id="RobotROS.undeclare_parameter" class="function">undeclare_parameter</dd>
                <dd id="RobotROS.has_parameter" class="function">has_parameter</dd>
                <dd id="RobotROS.get_parameters" class="function">get_parameters</dd>
                <dd id="RobotROS.get_parameter" class="function">get_parameter</dd>
                <dd id="RobotROS.get_parameter_or" class="function">get_parameter_or</dd>
                <dd id="RobotROS.get_parameters_by_prefix" class="function">get_parameters_by_prefix</dd>
                <dd id="RobotROS.set_parameters" class="function">set_parameters</dd>
                <dd id="RobotROS.set_parameters_atomically" class="function">set_parameters_atomically</dd>
                <dd id="RobotROS.add_on_set_parameters_callback" class="function">add_on_set_parameters_callback</dd>
                <dd id="RobotROS.remove_on_set_parameters_callback" class="function">remove_on_set_parameters_callback</dd>
                <dd id="RobotROS.describe_parameter" class="function">describe_parameter</dd>
                <dd id="RobotROS.describe_parameters" class="function">describe_parameters</dd>
                <dd id="RobotROS.set_descriptor" class="function">set_descriptor</dd>
                <dd id="RobotROS.set_parameters_callback" class="function">set_parameters_callback</dd>
                <dd id="RobotROS.add_waitable" class="function">add_waitable</dd>
                <dd id="RobotROS.remove_waitable" class="function">remove_waitable</dd>
                <dd id="RobotROS.create_publisher" class="function">create_publisher</dd>
                <dd id="RobotROS.create_subscription" class="function">create_subscription</dd>
                <dd id="RobotROS.create_client" class="function">create_client</dd>
                <dd id="RobotROS.create_service" class="function">create_service</dd>
                <dd id="RobotROS.create_timer" class="function">create_timer</dd>
                <dd id="RobotROS.create_guard_condition" class="function">create_guard_condition</dd>
                <dd id="RobotROS.create_rate" class="function">create_rate</dd>
                <dd id="RobotROS.destroy_publisher" class="function">destroy_publisher</dd>
                <dd id="RobotROS.destroy_subscription" class="function">destroy_subscription</dd>
                <dd id="RobotROS.destroy_client" class="function">destroy_client</dd>
                <dd id="RobotROS.destroy_service" class="function">destroy_service</dd>
                <dd id="RobotROS.destroy_timer" class="function">destroy_timer</dd>
                <dd id="RobotROS.destroy_guard_condition" class="function">destroy_guard_condition</dd>
                <dd id="RobotROS.destroy_rate" class="function">destroy_rate</dd>
                <dd id="RobotROS.destroy_node" class="function">destroy_node</dd>
                <dd id="RobotROS.get_publisher_names_and_types_by_node" class="function">get_publisher_names_and_types_by_node</dd>
                <dd id="RobotROS.get_subscriber_names_and_types_by_node" class="function">get_subscriber_names_and_types_by_node</dd>
                <dd id="RobotROS.get_service_names_and_types_by_node" class="function">get_service_names_and_types_by_node</dd>
                <dd id="RobotROS.get_client_names_and_types_by_node" class="function">get_client_names_and_types_by_node</dd>
                <dd id="RobotROS.get_topic_names_and_types" class="function">get_topic_names_and_types</dd>
                <dd id="RobotROS.get_service_names_and_types" class="function">get_service_names_and_types</dd>
                <dd id="RobotROS.get_node_names" class="function">get_node_names</dd>
                <dd id="RobotROS.get_node_names_and_namespaces" class="function">get_node_names_and_namespaces</dd>
                <dd id="RobotROS.get_node_names_and_namespaces_with_enclaves" class="function">get_node_names_and_namespaces_with_enclaves</dd>
                <dd id="RobotROS.count_publishers" class="function">count_publishers</dd>
                <dd id="RobotROS.count_subscribers" class="function">count_subscribers</dd>
                <dd id="RobotROS.get_publishers_info_by_topic" class="function">get_publishers_info_by_topic</dd>
                <dd id="RobotROS.get_subscriptions_info_by_topic" class="function">get_subscriptions_info_by_topic</dd>

            </div>
            <div><dt><a href="#VisualizerGraphicItem">VisualizerGraphicItem</a></dt>
                                <dd id="RobotROS.set_color" class="function"><a href="#VisualizerGraphicItem.set_color">set_color</a></dd>
                <dd id="RobotROS.set_display_mode" class="function"><a href="#VisualizerGraphicItem.set_display_mode">set_display_mode</a></dd>
                <dd id="RobotROS.set_draw_path" class="function"><a href="#VisualizerGraphicItem.set_draw_path">set_draw_path</a></dd>
                <dd id="RobotROS.set_draw_future_path" class="function"><a href="#VisualizerGraphicItem.set_draw_future_path">set_draw_future_path</a></dd>
                <dd id="RobotROS.set_draw_start" class="function"><a href="#VisualizerGraphicItem.set_draw_start">set_draw_start</a></dd>
                <dd id="RobotROS.set_highlighted" class="function"><a href="#VisualizerGraphicItem.set_highlighted">set_highlighted</a></dd>
                <dd id="RobotROS.get_position" class="function"><a href="#VisualizerGraphicItem.get_position">get_position</a></dd>
                <dd id="RobotROS.get_start_position" class="function"><a href="#VisualizerGraphicItem.get_start_position">get_start_position</a></dd>
                <dd id="RobotROS.get_color" class="function"><a href="#VisualizerGraphicItem.get_color">get_color</a></dd>
                <dd id="RobotROS.get_action" class="function"><a href="#VisualizerGraphicItem.get_action">get_action</a></dd>
                <dd id="RobotROS.get_future_path" class="function"><a href="#VisualizerGraphicItem.get_future_path">get_future_path</a></dd>
                <dd id="RobotROS.get_state" class="function"><a href="#VisualizerGraphicItem.get_state">get_state</a></dd>
                <dd id="RobotROS.get_highlighted" class="function"><a href="#VisualizerGraphicItem.get_highlighted">get_highlighted</a></dd>
                <dd id="RobotROS.mousePressEvent" class="function"><a href="#VisualizerGraphicItem.mousePressEvent">mousePressEvent</a></dd>
                <dd id="RobotROS.mouseMoveEvent" class="function"><a href="#VisualizerGraphicItem.mouseMoveEvent">mouseMoveEvent</a></dd>
                <dd id="RobotROS.paint" class="function"><a href="#VisualizerGraphicItem.paint">paint</a></dd>
                <dd id="RobotROS.clear_older_actions" class="function"><a href="#VisualizerGraphicItem.clear_older_actions">clear_older_actions</a></dd>
                <dd id="RobotROS.enable_drag" class="function"><a href="#VisualizerGraphicItem.enable_drag">enable_drag</a></dd>
                <dd id="RobotROS.boundingRect" class="function"><a href="#VisualizerGraphicItem.boundingRect">boundingRect</a></dd>

            </div>
            <div><dt><a href="visualizerItem.html#VisualizerItem">mapf_simulation.visualizerItem.VisualizerItem</a></dt>
                                <dd id="RobotROS.set_model" class="function"><a href="visualizerItem.html#VisualizerItem.set_model">set_model</a></dd>
                <dd id="RobotROS.get_model" class="function"><a href="visualizerItem.html#VisualizerItem.get_model">get_model</a></dd>
                <dd id="RobotROS.get_id" class="function"><a href="visualizerItem.html#VisualizerItem.get_id">get_id</a></dd>
                <dd id="RobotROS.get_kind_name" class="function"><a href="visualizerItem.html#VisualizerItem.get_kind_name">get_kind_name</a></dd>
                <dd id="RobotROS.on_step_update" class="function"><a href="visualizerItem.html#VisualizerItem.on_step_update">on_step_update</a></dd>
                <dd id="RobotROS.on_step_undo" class="function"><a href="visualizerItem.html#VisualizerItem.on_step_undo">on_step_undo</a></dd>

            </div>
            <div><dt>PyQt5.QtWidgets.QGraphicsItem</dt>
                                <dd id="RobotROS.CacheMode" class="class">CacheMode</dd>
                <dd id="RobotROS.GraphicsItemChange" class="class">GraphicsItemChange</dd>
                <dd id="RobotROS.GraphicsItemFlag" class="class">GraphicsItemFlag</dd>
                <dd id="RobotROS.GraphicsItemFlags" class="class">GraphicsItemFlags</dd>
                <dd id="RobotROS.PanelModality" class="class">PanelModality</dd>
                <dd id="RobotROS.acceptDrops" class="function">acceptDrops</dd>
                <dd id="RobotROS.acceptHoverEvents" class="function">acceptHoverEvents</dd>
                <dd id="RobotROS.acceptTouchEvents" class="function">acceptTouchEvents</dd>
                <dd id="RobotROS.acceptedMouseButtons" class="function">acceptedMouseButtons</dd>
                <dd id="RobotROS.advance" class="function">advance</dd>
                <dd id="RobotROS.boundingRegion" class="function">boundingRegion</dd>
                <dd id="RobotROS.boundingRegionGranularity" class="function">boundingRegionGranularity</dd>
                <dd id="RobotROS.cacheMode" class="function">cacheMode</dd>
                <dd id="RobotROS.childItems" class="function">childItems</dd>
                <dd id="RobotROS.childrenBoundingRect" class="function">childrenBoundingRect</dd>
                <dd id="RobotROS.clearFocus" class="function">clearFocus</dd>
                <dd id="RobotROS.clipPath" class="function">clipPath</dd>
                <dd id="RobotROS.collidesWithItem" class="function">collidesWithItem</dd>
                <dd id="RobotROS.collidesWithPath" class="function">collidesWithPath</dd>
                <dd id="RobotROS.collidingItems" class="function">collidingItems</dd>
                <dd id="RobotROS.commonAncestorItem" class="function">commonAncestorItem</dd>
                <dd id="RobotROS.contains" class="function">contains</dd>
                <dd id="RobotROS.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="RobotROS.cursor" class="function">cursor</dd>
                <dd id="RobotROS.data" class="function">data</dd>
                <dd id="RobotROS.deviceTransform" class="function">deviceTransform</dd>
                <dd id="RobotROS.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="RobotROS.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="RobotROS.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="RobotROS.dropEvent" class="function">dropEvent</dd>
                <dd id="RobotROS.effectiveOpacity" class="function">effectiveOpacity</dd>
                <dd id="RobotROS.ensureVisible" class="function">ensureVisible</dd>
                <dd id="RobotROS.filtersChildEvents" class="function">filtersChildEvents</dd>
                <dd id="RobotROS.flags" class="function">flags</dd>
                <dd id="RobotROS.focusInEvent" class="function">focusInEvent</dd>
                <dd id="RobotROS.focusItem" class="function">focusItem</dd>
                <dd id="RobotROS.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="RobotROS.focusProxy" class="function">focusProxy</dd>
                <dd id="RobotROS.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="RobotROS.grabMouse" class="function">grabMouse</dd>
                <dd id="RobotROS.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="RobotROS.group" class="function">group</dd>
                <dd id="RobotROS.hasCursor" class="function">hasCursor</dd>
                <dd id="RobotROS.hasFocus" class="function">hasFocus</dd>
                <dd id="RobotROS.hide" class="function">hide</dd>
                <dd id="RobotROS.hoverEnterEvent" class="function">hoverEnterEvent</dd>
                <dd id="RobotROS.hoverLeaveEvent" class="function">hoverLeaveEvent</dd>
                <dd id="RobotROS.hoverMoveEvent" class="function">hoverMoveEvent</dd>
                <dd id="RobotROS.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="RobotROS.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="RobotROS.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="RobotROS.installSceneEventFilter" class="function">installSceneEventFilter</dd>
                <dd id="RobotROS.isActive" class="function">isActive</dd>
                <dd id="RobotROS.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="RobotROS.isBlockedByModalPanel" class="function">isBlockedByModalPanel</dd>
                <dd id="RobotROS.isClipped" class="function">isClipped</dd>
                <dd id="RobotROS.isEnabled" class="function">isEnabled</dd>
                <dd id="RobotROS.isObscured" class="function">isObscured</dd>
                <dd id="RobotROS.isObscuredBy" class="function">isObscuredBy</dd>
                <dd id="RobotROS.isPanel" class="function">isPanel</dd>
                <dd id="RobotROS.isSelected" class="function">isSelected</dd>
                <dd id="RobotROS.isUnderMouse" class="function">isUnderMouse</dd>
                <dd id="RobotROS.isVisible" class="function">isVisible</dd>
                <dd id="RobotROS.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="RobotROS.isWidget" class="function">isWidget</dd>
                <dd id="RobotROS.isWindow" class="function">isWindow</dd>
                <dd id="RobotROS.itemChange" class="function">itemChange</dd>
                <dd id="RobotROS.itemTransform" class="function">itemTransform</dd>
                <dd id="RobotROS.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="RobotROS.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="RobotROS.mapFromItem" class="function">mapFromItem</dd>
                <dd id="RobotROS.mapFromParent" class="function">mapFromParent</dd>
                <dd id="RobotROS.mapFromScene" class="function">mapFromScene</dd>
                <dd id="RobotROS.mapRectFromItem" class="function">mapRectFromItem</dd>
                <dd id="RobotROS.mapRectFromParent" class="function">mapRectFromParent</dd>
                <dd id="RobotROS.mapRectFromScene" class="function">mapRectFromScene</dd>
                <dd id="RobotROS.mapRectToItem" class="function">mapRectToItem</dd>
                <dd id="RobotROS.mapRectToParent" class="function">mapRectToParent</dd>
                <dd id="RobotROS.mapRectToScene" class="function">mapRectToScene</dd>
                <dd id="RobotROS.mapToItem" class="function">mapToItem</dd>
                <dd id="RobotROS.mapToParent" class="function">mapToParent</dd>
                <dd id="RobotROS.mapToScene" class="function">mapToScene</dd>
                <dd id="RobotROS.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="RobotROS.moveBy" class="function">moveBy</dd>
                <dd id="RobotROS.opacity" class="function">opacity</dd>
                <dd id="RobotROS.opaqueArea" class="function">opaqueArea</dd>
                <dd id="RobotROS.panel" class="function">panel</dd>
                <dd id="RobotROS.panelModality" class="function">panelModality</dd>
                <dd id="RobotROS.parentItem" class="function">parentItem</dd>
                <dd id="RobotROS.parentObject" class="function">parentObject</dd>
                <dd id="RobotROS.parentWidget" class="function">parentWidget</dd>
                <dd id="RobotROS.pos" class="function">pos</dd>
                <dd id="RobotROS.prepareGeometryChange" class="function">prepareGeometryChange</dd>
                <dd id="RobotROS.removeSceneEventFilter" class="function">removeSceneEventFilter</dd>
                <dd id="RobotROS.resetTransform" class="function">resetTransform</dd>
                <dd id="RobotROS.rotation" class="function">rotation</dd>
                <dd id="RobotROS.scale" class="function">scale</dd>
                <dd id="RobotROS.scene" class="function">scene</dd>
                <dd id="RobotROS.sceneBoundingRect" class="function">sceneBoundingRect</dd>
                <dd id="RobotROS.sceneEvent" class="function">sceneEvent</dd>
                <dd id="RobotROS.sceneEventFilter" class="function">sceneEventFilter</dd>
                <dd id="RobotROS.scenePos" class="function">scenePos</dd>
                <dd id="RobotROS.sceneTransform" class="function">sceneTransform</dd>
                <dd id="RobotROS.scroll" class="function">scroll</dd>
                <dd id="RobotROS.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="RobotROS.setAcceptHoverEvents" class="function">setAcceptHoverEvents</dd>
                <dd id="RobotROS.setAcceptTouchEvents" class="function">setAcceptTouchEvents</dd>
                <dd id="RobotROS.setAcceptedMouseButtons" class="function">setAcceptedMouseButtons</dd>
                <dd id="RobotROS.setActive" class="function">setActive</dd>
                <dd id="RobotROS.setBoundingRegionGranularity" class="function">setBoundingRegionGranularity</dd>
                <dd id="RobotROS.setCacheMode" class="function">setCacheMode</dd>
                <dd id="RobotROS.setCursor" class="function">setCursor</dd>
                <dd id="RobotROS.setData" class="function">setData</dd>
                <dd id="RobotROS.setEnabled" class="function">setEnabled</dd>
                <dd id="RobotROS.setFiltersChildEvents" class="function">setFiltersChildEvents</dd>
                <dd id="RobotROS.setFlag" class="function">setFlag</dd>
                <dd id="RobotROS.setFlags" class="function">setFlags</dd>
                <dd id="RobotROS.setFocus" class="function">setFocus</dd>
                <dd id="RobotROS.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="RobotROS.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="RobotROS.setGroup" class="function">setGroup</dd>
                <dd id="RobotROS.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="RobotROS.setOpacity" class="function">setOpacity</dd>
                <dd id="RobotROS.setPanelModality" class="function">setPanelModality</dd>
                <dd id="RobotROS.setParentItem" class="function">setParentItem</dd>
                <dd id="RobotROS.setPos" class="function">setPos</dd>
                <dd id="RobotROS.setRotation" class="function">setRotation</dd>
                <dd id="RobotROS.setScale" class="function">setScale</dd>
                <dd id="RobotROS.setSelected" class="function">setSelected</dd>
                <dd id="RobotROS.setToolTip" class="function">setToolTip</dd>
                <dd id="RobotROS.setTransform" class="function">setTransform</dd>
                <dd id="RobotROS.setTransformOriginPoint" class="function">setTransformOriginPoint</dd>
                <dd id="RobotROS.setTransformations" class="function">setTransformations</dd>
                <dd id="RobotROS.setVisible" class="function">setVisible</dd>
                <dd id="RobotROS.setX" class="function">setX</dd>
                <dd id="RobotROS.setY" class="function">setY</dd>
                <dd id="RobotROS.setZValue" class="function">setZValue</dd>
                <dd id="RobotROS.shape" class="function">shape</dd>
                <dd id="RobotROS.show" class="function">show</dd>
                <dd id="RobotROS.stackBefore" class="function">stackBefore</dd>
                <dd id="RobotROS.toGraphicsObject" class="function">toGraphicsObject</dd>
                <dd id="RobotROS.toolTip" class="function">toolTip</dd>
                <dd id="RobotROS.topLevelItem" class="function">topLevelItem</dd>
                <dd id="RobotROS.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="RobotROS.transform" class="function">transform</dd>
                <dd id="RobotROS.transformOriginPoint" class="function">transformOriginPoint</dd>
                <dd id="RobotROS.transformations" class="function">transformations</dd>
                <dd id="RobotROS.type" class="function">type</dd>
                <dd id="RobotROS.ungrabKeyboard" class="function">ungrabKeyboard</dd>
                <dd id="RobotROS.ungrabMouse" class="function">ungrabMouse</dd>
                <dd id="RobotROS.unsetCursor" class="function">unsetCursor</dd>
                <dd id="RobotROS.update" class="function">update</dd>
                <dd id="RobotROS.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="RobotROS.wheelEvent" class="function">wheelEvent</dd>
                <dd id="RobotROS.window" class="function">window</dd>
                <dd id="RobotROS.x" class="function">x</dd>
                <dd id="RobotROS.y" class="function">y</dd>
                <dd id="RobotROS.zValue" class="function">zValue</dd>
                <dd id="RobotROS.DeviceCoordinateCache" class="variable">DeviceCoordinateCache</dd>
                <dd id="RobotROS.ItemAcceptsInputMethod" class="variable">ItemAcceptsInputMethod</dd>
                <dd id="RobotROS.ItemChildAddedChange" class="variable">ItemChildAddedChange</dd>
                <dd id="RobotROS.ItemChildRemovedChange" class="variable">ItemChildRemovedChange</dd>
                <dd id="RobotROS.ItemClipsChildrenToShape" class="variable">ItemClipsChildrenToShape</dd>
                <dd id="RobotROS.ItemClipsToShape" class="variable">ItemClipsToShape</dd>
                <dd id="RobotROS.ItemContainsChildrenInShape" class="variable">ItemContainsChildrenInShape</dd>
                <dd id="RobotROS.ItemCoordinateCache" class="variable">ItemCoordinateCache</dd>
                <dd id="RobotROS.ItemCursorChange" class="variable">ItemCursorChange</dd>
                <dd id="RobotROS.ItemCursorHasChanged" class="variable">ItemCursorHasChanged</dd>
                <dd id="RobotROS.ItemDoesntPropagateOpacityToChildren" class="variable">ItemDoesntPropagateOpacityToChildren</dd>
                <dd id="RobotROS.ItemEnabledChange" class="variable">ItemEnabledChange</dd>
                <dd id="RobotROS.ItemEnabledHasChanged" class="variable">ItemEnabledHasChanged</dd>
                <dd id="RobotROS.ItemFlagsChange" class="variable">ItemFlagsChange</dd>
                <dd id="RobotROS.ItemFlagsHaveChanged" class="variable">ItemFlagsHaveChanged</dd>
                <dd id="RobotROS.ItemHasNoContents" class="variable">ItemHasNoContents</dd>
                <dd id="RobotROS.ItemIgnoresParentOpacity" class="variable">ItemIgnoresParentOpacity</dd>
                <dd id="RobotROS.ItemIgnoresTransformations" class="variable">ItemIgnoresTransformations</dd>
                <dd id="RobotROS.ItemIsFocusable" class="variable">ItemIsFocusable</dd>
                <dd id="RobotROS.ItemIsMovable" class="variable">ItemIsMovable</dd>
                <dd id="RobotROS.ItemIsPanel" class="variable">ItemIsPanel</dd>
                <dd id="RobotROS.ItemIsSelectable" class="variable">ItemIsSelectable</dd>
                <dd id="RobotROS.ItemMatrixChange" class="variable">ItemMatrixChange</dd>
                <dd id="RobotROS.ItemNegativeZStacksBehindParent" class="variable">ItemNegativeZStacksBehindParent</dd>
                <dd id="RobotROS.ItemOpacityChange" class="variable">ItemOpacityChange</dd>
                <dd id="RobotROS.ItemOpacityHasChanged" class="variable">ItemOpacityHasChanged</dd>
                <dd id="RobotROS.ItemParentChange" class="variable">ItemParentChange</dd>
                <dd id="RobotROS.ItemParentHasChanged" class="variable">ItemParentHasChanged</dd>
                <dd id="RobotROS.ItemPositionChange" class="variable">ItemPositionChange</dd>
                <dd id="RobotROS.ItemPositionHasChanged" class="variable">ItemPositionHasChanged</dd>
                <dd id="RobotROS.ItemRotationChange" class="variable">ItemRotationChange</dd>
                <dd id="RobotROS.ItemRotationHasChanged" class="variable">ItemRotationHasChanged</dd>
                <dd id="RobotROS.ItemScaleChange" class="variable">ItemScaleChange</dd>
                <dd id="RobotROS.ItemScaleHasChanged" class="variable">ItemScaleHasChanged</dd>
                <dd id="RobotROS.ItemSceneChange" class="variable">ItemSceneChange</dd>
                <dd id="RobotROS.ItemSceneHasChanged" class="variable">ItemSceneHasChanged</dd>
                <dd id="RobotROS.ItemScenePositionHasChanged" class="variable">ItemScenePositionHasChanged</dd>
                <dd id="RobotROS.ItemSelectedChange" class="variable">ItemSelectedChange</dd>
                <dd id="RobotROS.ItemSelectedHasChanged" class="variable">ItemSelectedHasChanged</dd>
                <dd id="RobotROS.ItemSendsGeometryChanges" class="variable">ItemSendsGeometryChanges</dd>
                <dd id="RobotROS.ItemSendsScenePositionChanges" class="variable">ItemSendsScenePositionChanges</dd>
                <dd id="RobotROS.ItemStacksBehindParent" class="variable">ItemStacksBehindParent</dd>
                <dd id="RobotROS.ItemToolTipChange" class="variable">ItemToolTipChange</dd>
                <dd id="RobotROS.ItemToolTipHasChanged" class="variable">ItemToolTipHasChanged</dd>
                <dd id="RobotROS.ItemTransformChange" class="variable">ItemTransformChange</dd>
                <dd id="RobotROS.ItemTransformHasChanged" class="variable">ItemTransformHasChanged</dd>
                <dd id="RobotROS.ItemTransformOriginPointChange" class="variable">ItemTransformOriginPointChange</dd>
                <dd id="RobotROS.ItemTransformOriginPointHasChanged" class="variable">ItemTransformOriginPointHasChanged</dd>
                <dd id="RobotROS.ItemUsesExtendedStyleOption" class="variable">ItemUsesExtendedStyleOption</dd>
                <dd id="RobotROS.ItemVisibleChange" class="variable">ItemVisibleChange</dd>
                <dd id="RobotROS.ItemVisibleHasChanged" class="variable">ItemVisibleHasChanged</dd>
                <dd id="RobotROS.ItemZValueChange" class="variable">ItemZValueChange</dd>
                <dd id="RobotROS.ItemZValueHasChanged" class="variable">ItemZValueHasChanged</dd>
                <dd id="RobotROS.NoCache" class="variable">NoCache</dd>
                <dd id="RobotROS.NonModal" class="variable">NonModal</dd>
                <dd id="RobotROS.PanelModal" class="variable">PanelModal</dd>
                <dd id="RobotROS.SceneModal" class="variable">SceneModal</dd>
                <dd id="RobotROS.Type" class="variable">Type</dd>
                <dd id="RobotROS.UserType" class="variable">UserType</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="CheckpointROS">
                            <input id="CheckpointROS-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">CheckpointROS</span><wbr>(<span class="base"><a href="#VisualizerGraphicItem">VisualizerGraphicItem</a></span>):

                <label class="view-source-button" for="CheckpointROS-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS-1248"><a href="#CheckpointROS-1248"><span class="linenos">1248</span></a><span class="k">class</span> <span class="nc">CheckpointROS</span><span class="p">(</span><span class="n">VisualizerGraphicItem</span><span class="p">):</span>
</span><span id="CheckpointROS-1249"><a href="#CheckpointROS-1249"><span class="linenos">1249</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1250"><a href="#CheckpointROS-1250"><span class="linenos">1250</span></a><span class="sd">    This class represents a Checkpoint.</span>
</span><span id="CheckpointROS-1251"><a href="#CheckpointROS-1251"><span class="linenos">1251</span></a>
</span><span id="CheckpointROS-1252"><a href="#CheckpointROS-1252"><span class="linenos">1252</span></a><span class="sd">    **Attributes**:</span>
</span><span id="CheckpointROS-1253"><a href="#CheckpointROS-1253"><span class="linenos">1253</span></a><span class="sd">    -   **_kind_name**:     str                 -   The name of this kind of item. This is always &#39;checkpoint_ros&#39;.</span>
</span><span id="CheckpointROS-1254"><a href="#CheckpointROS-1254"><span class="linenos">1254</span></a><span class="sd">    -   **_graphics_item**: QGraphicsRectItem   -   This is the main graphic item of the checkpoint</span>
</span><span id="CheckpointROS-1255"><a href="#CheckpointROS-1255"><span class="linenos">1255</span></a><span class="sd">                                                    and is used for some default functions.</span>
</span><span id="CheckpointROS-1256"><a href="#CheckpointROS-1256"><span class="linenos">1256</span></a><span class="sd">    -   **_text**:          QGraphicsTextItem   -   This is a text item that is drawn on the model view</span>
</span><span id="CheckpointROS-1257"><a href="#CheckpointROS-1257"><span class="linenos">1257</span></a><span class="sd">                                                    and represents primarily the id of the checkpoint.</span>
</span><span id="CheckpointROS-1258"><a href="#CheckpointROS-1258"><span class="linenos">1258</span></a><span class="sd">    -   **_shine**:         bool                -   This is true if the checkpoint should be highlighted. Checkpoints</span>
</span><span id="CheckpointROS-1259"><a href="#CheckpointROS-1259"><span class="linenos">1259</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1260"><a href="#CheckpointROS-1260"><span class="linenos">1260</span></a>
</span><span id="CheckpointROS-1261"><a href="#CheckpointROS-1261"><span class="linenos">1261</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="CheckpointROS-1262"><a href="#CheckpointROS-1262"><span class="linenos">1262</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1263"><a href="#CheckpointROS-1263"><span class="linenos">1263</span></a><span class="sd">        :param ID:      int, optional    - The ID of the item</span>
</span><span id="CheckpointROS-1264"><a href="#CheckpointROS-1264"><span class="linenos">1264</span></a><span class="sd">        :param x:       int, optional    - The x coordinate on the grid</span>
</span><span id="CheckpointROS-1265"><a href="#CheckpointROS-1265"><span class="linenos">1265</span></a><span class="sd">        :param y:       int, optional    - The y coordinate on the grid</span>
</span><span id="CheckpointROS-1266"><a href="#CheckpointROS-1266"><span class="linenos">1266</span></a><span class="sd">        :param theta:   int, optional    - Orientation of the item (not used currently)</span>
</span><span id="CheckpointROS-1267"><a href="#CheckpointROS-1267"><span class="linenos">1267</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1268"><a href="#CheckpointROS-1268"><span class="linenos">1268</span></a>        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="CheckpointROS-1269"><a href="#CheckpointROS-1269"><span class="linenos">1269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;checkpoint_ros&#39;</span>
</span><span id="CheckpointROS-1270"><a href="#CheckpointROS-1270"><span class="linenos">1270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="CheckpointROS-1271"><a href="#CheckpointROS-1271"><span class="linenos">1271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="CheckpointROS-1272"><a href="#CheckpointROS-1272"><span class="linenos">1272</span></a>
</span><span id="CheckpointROS-1273"><a href="#CheckpointROS-1273"><span class="linenos">1273</span></a>        <span class="c1">#self._graphics_item = QGraphicsEllipseItem(self)</span>
</span><span id="CheckpointROS-1274"><a href="#CheckpointROS-1274"><span class="linenos">1274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="n">QGraphicsRectItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="CheckpointROS-1275"><a href="#CheckpointROS-1275"><span class="linenos">1275</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">QGraphicsTextItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="p">)</span>
</span><span id="CheckpointROS-1276"><a href="#CheckpointROS-1276"><span class="linenos">1276</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>
</span><span id="CheckpointROS-1277"><a href="#CheckpointROS-1277"><span class="linenos">1277</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="CheckpointROS-1278"><a href="#CheckpointROS-1278"><span class="linenos">1278</span></a>
</span><span id="CheckpointROS-1279"><a href="#CheckpointROS-1279"><span class="linenos">1279</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS-1280"><a href="#CheckpointROS-1280"><span class="linenos">1280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS-1281"><a href="#CheckpointROS-1281"><span class="linenos">1281</span></a>        <span class="c1">#self._checkpoint_number = 0</span>
</span><span id="CheckpointROS-1282"><a href="#CheckpointROS-1282"><span class="linenos">1282</span></a>    
</span><span id="CheckpointROS-1283"><a href="#CheckpointROS-1283"><span class="linenos">1283</span></a>
</span><span id="CheckpointROS-1284"><a href="#CheckpointROS-1284"><span class="linenos">1284</span></a>    <span class="c1">#GET</span>
</span><span id="CheckpointROS-1285"><a href="#CheckpointROS-1285"><span class="linenos">1285</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS-1286"><a href="#CheckpointROS-1286"><span class="linenos">1286</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1287"><a href="#CheckpointROS-1287"><span class="linenos">1287</span></a><span class="sd">        Returns the current rectangle of an item.</span>
</span><span id="CheckpointROS-1288"><a href="#CheckpointROS-1288"><span class="linenos">1288</span></a>
</span><span id="CheckpointROS-1289"><a href="#CheckpointROS-1289"><span class="linenos">1289</span></a><span class="sd">        :return: QtCore.QRect   -   The current rectangle of this item</span>
</span><span id="CheckpointROS-1290"><a href="#CheckpointROS-1290"><span class="linenos">1290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1291"><a href="#CheckpointROS-1291"><span class="linenos">1291</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span><span id="CheckpointROS-1292"><a href="#CheckpointROS-1292"><span class="linenos">1292</span></a>
</span><span id="CheckpointROS-1293"><a href="#CheckpointROS-1293"><span class="linenos">1293</span></a>    <span class="k">def</span> <span class="nf">get_visit_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS-1294"><a href="#CheckpointROS-1294"><span class="linenos">1294</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1295"><a href="#CheckpointROS-1295"><span class="linenos">1295</span></a><span class="sd">        Returns whether the item was visited by a roboter or not.</span>
</span><span id="CheckpointROS-1296"><a href="#CheckpointROS-1296"><span class="linenos">1296</span></a>
</span><span id="CheckpointROS-1297"><a href="#CheckpointROS-1297"><span class="linenos">1297</span></a><span class="sd">        :return: bool   -   True or False</span>
</span><span id="CheckpointROS-1298"><a href="#CheckpointROS-1298"><span class="linenos">1298</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1299"><a href="#CheckpointROS-1299"><span class="linenos">1299</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span>
</span><span id="CheckpointROS-1300"><a href="#CheckpointROS-1300"><span class="linenos">1300</span></a>
</span><span id="CheckpointROS-1301"><a href="#CheckpointROS-1301"><span class="linenos">1301</span></a>
</span><span id="CheckpointROS-1302"><a href="#CheckpointROS-1302"><span class="linenos">1302</span></a>    <span class="c1">#VISUAL</span>
</span><span id="CheckpointROS-1303"><a href="#CheckpointROS-1303"><span class="linenos">1303</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="CheckpointROS-1304"><a href="#CheckpointROS-1304"><span class="linenos">1304</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1305"><a href="#CheckpointROS-1305"><span class="linenos">1305</span></a><span class="sd">        Determines the color of the checkpoint.</span>
</span><span id="CheckpointROS-1306"><a href="#CheckpointROS-1306"><span class="linenos">1306</span></a><span class="sd">        </span>
</span><span id="CheckpointROS-1307"><a href="#CheckpointROS-1307"><span class="linenos">1307</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="CheckpointROS-1308"><a href="#CheckpointROS-1308"><span class="linenos">1308</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="CheckpointROS-1309"><a href="#CheckpointROS-1309"><span class="linenos">1309</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="CheckpointROS-1310"><a href="#CheckpointROS-1310"><span class="linenos">1310</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="CheckpointROS-1311"><a href="#CheckpointROS-1311"><span class="linenos">1311</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1312"><a href="#CheckpointROS-1312"><span class="linenos">1312</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">calculate_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">)(</span><span class="n">number</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">)</span>
</span><span id="CheckpointROS-1313"><a href="#CheckpointROS-1313"><span class="linenos">1313</span></a>        <span class="c1">#color = QColor(255,255,255) #white</span>
</span><span id="CheckpointROS-1314"><a href="#CheckpointROS-1314"><span class="linenos">1314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="CheckpointROS-1315"><a href="#CheckpointROS-1315"><span class="linenos">1315</span></a>        
</span><span id="CheckpointROS-1316"><a href="#CheckpointROS-1316"><span class="linenos">1316</span></a>        <span class="c1">#if self._shine:</span>
</span><span id="CheckpointROS-1317"><a href="#CheckpointROS-1317"><span class="linenos">1317</span></a>        <span class="c1">#    color = QColor(51,255,0)</span>
</span><span id="CheckpointROS-1318"><a href="#CheckpointROS-1318"><span class="linenos">1318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">QBrush</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
</span><span id="CheckpointROS-1319"><a href="#CheckpointROS-1319"><span class="linenos">1319</span></a>
</span><span id="CheckpointROS-1320"><a href="#CheckpointROS-1320"><span class="linenos">1320</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="CheckpointROS-1321"><a href="#CheckpointROS-1321"><span class="linenos">1321</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;    </span>
</span><span id="CheckpointROS-1322"><a href="#CheckpointROS-1322"><span class="linenos">1322</span></a><span class="sd">        Sets the rectangle that a checkpoint can use to draw things in.</span>
</span><span id="CheckpointROS-1323"><a href="#CheckpointROS-1323"><span class="linenos">1323</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="CheckpointROS-1324"><a href="#CheckpointROS-1324"><span class="linenos">1324</span></a><span class="sd">        This function defines the appearance of the checkpoint</span>
</span><span id="CheckpointROS-1325"><a href="#CheckpointROS-1325"><span class="linenos">1325</span></a><span class="sd">        on the grid.</span>
</span><span id="CheckpointROS-1326"><a href="#CheckpointROS-1326"><span class="linenos">1326</span></a>
</span><span id="CheckpointROS-1327"><a href="#CheckpointROS-1327"><span class="linenos">1327</span></a><span class="sd">        :param rect: QtCore.QRect   - The rectangle that a checkpoint can use to draw things in.</span>
</span><span id="CheckpointROS-1328"><a href="#CheckpointROS-1328"><span class="linenos">1328</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1329"><a href="#CheckpointROS-1329"><span class="linenos">1329</span></a>        <span class="n">scale</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_scale&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS-1330"><a href="#CheckpointROS-1330"><span class="linenos">1330</span></a>        <span class="n">bold</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_bold&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS-1331"><a href="#CheckpointROS-1331"><span class="linenos">1331</span></a>        
</span><span id="CheckpointROS-1332"><a href="#CheckpointROS-1332"><span class="linenos">1332</span></a>        <span class="c1">#SET FONTSIZE, TEXT POSITION AND DEFAULT TEXT COLOR</span>
</span><span id="CheckpointROS-1333"><a href="#CheckpointROS-1333"><span class="linenos">1333</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.3</span><span class="o">*</span><span class="n">scale</span><span class="p">))</span>
</span><span id="CheckpointROS-1334"><a href="#CheckpointROS-1334"><span class="linenos">1334</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="CheckpointROS-1335"><a href="#CheckpointROS-1335"><span class="linenos">1335</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setDefaultTextColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_color&#39;</span><span class="p">)))</span>
</span><span id="CheckpointROS-1336"><a href="#CheckpointROS-1336"><span class="linenos">1336</span></a>
</span><span id="CheckpointROS-1337"><a href="#CheckpointROS-1337"><span class="linenos">1337</span></a>        <span class="c1">#SET DISPLAY MODE</span>
</span><span id="CheckpointROS-1338"><a href="#CheckpointROS-1338"><span class="linenos">1338</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="CheckpointROS-1339"><a href="#CheckpointROS-1339"><span class="linenos">1339</span></a>            <span class="k">if</span> <span class="n">bold</span><span class="p">:</span>
</span><span id="CheckpointROS-1340"><a href="#CheckpointROS-1340"><span class="linenos">1340</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS-1341"><a href="#CheckpointROS-1341"><span class="linenos">1341</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="CheckpointROS-1342"><a href="#CheckpointROS-1342"><span class="linenos">1342</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">))</span>
</span><span id="CheckpointROS-1343"><a href="#CheckpointROS-1343"><span class="linenos">1343</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="CheckpointROS-1344"><a href="#CheckpointROS-1344"><span class="linenos">1344</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS-1345"><a href="#CheckpointROS-1345"><span class="linenos">1345</span></a>
</span><span id="CheckpointROS-1346"><a href="#CheckpointROS-1346"><span class="linenos">1346</span></a>        <span class="c1">#SET POSITION AND SIZE OF GRAPHICS ITEM INSIDE THE CELL </span>
</span><span id="CheckpointROS-1347"><a href="#CheckpointROS-1347"><span class="linenos">1347</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">()</span>
</span><span id="CheckpointROS-1348"><a href="#CheckpointROS-1348"><span class="linenos">1348</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="CheckpointROS-1349"><a href="#CheckpointROS-1349"><span class="linenos">1349</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="CheckpointROS-1350"><a href="#CheckpointROS-1350"><span class="linenos">1350</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">,</span>
</span><span id="CheckpointROS-1351"><a href="#CheckpointROS-1351"><span class="linenos">1351</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="CheckpointROS-1352"><a href="#CheckpointROS-1352"><span class="linenos">1352</span></a>
</span><span id="CheckpointROS-1353"><a href="#CheckpointROS-1353"><span class="linenos">1353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="CheckpointROS-1354"><a href="#CheckpointROS-1354"><span class="linenos">1354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="CheckpointROS-1355"><a href="#CheckpointROS-1355"><span class="linenos">1355</span></a>
</span><span id="CheckpointROS-1356"><a href="#CheckpointROS-1356"><span class="linenos">1356</span></a>        <span class="c1">#IF HIGHLIGHTED</span>
</span><span id="CheckpointROS-1357"><a href="#CheckpointROS-1357"><span class="linenos">1357</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>        
</span><span id="CheckpointROS-1358"><a href="#CheckpointROS-1358"><span class="linenos">1358</span></a>            <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="CheckpointROS-1359"><a href="#CheckpointROS-1359"><span class="linenos">1359</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="CheckpointROS-1360"><a href="#CheckpointROS-1360"><span class="linenos">1360</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">,</span>
</span><span id="CheckpointROS-1361"><a href="#CheckpointROS-1361"><span class="linenos">1361</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="CheckpointROS-1362"><a href="#CheckpointROS-1362"><span class="linenos">1362</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="CheckpointROS-1363"><a href="#CheckpointROS-1363"><span class="linenos">1363</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.2</span><span class="p">)</span>
</span><span id="CheckpointROS-1364"><a href="#CheckpointROS-1364"><span class="linenos">1364</span></a>
</span><span id="CheckpointROS-1365"><a href="#CheckpointROS-1365"><span class="linenos">1365</span></a>        <span class="c1">#IF SHINE</span>
</span><span id="CheckpointROS-1366"><a href="#CheckpointROS-1366"><span class="linenos">1366</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span><span class="p">:</span>    
</span><span id="CheckpointROS-1367"><a href="#CheckpointROS-1367"><span class="linenos">1367</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="CheckpointROS-1368"><a href="#CheckpointROS-1368"><span class="linenos">1368</span></a>        
</span><span id="CheckpointROS-1369"><a href="#CheckpointROS-1369"><span class="linenos">1369</span></a>        <span class="c1">#SAVE </span>
</span><span id="CheckpointROS-1370"><a href="#CheckpointROS-1370"><span class="linenos">1370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>        
</span><span id="CheckpointROS-1371"><a href="#CheckpointROS-1371"><span class="linenos">1371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="p">)</span>
</span><span id="CheckpointROS-1372"><a href="#CheckpointROS-1372"><span class="linenos">1372</span></a>     
</span><span id="CheckpointROS-1373"><a href="#CheckpointROS-1373"><span class="linenos">1373</span></a>
</span><span id="CheckpointROS-1374"><a href="#CheckpointROS-1374"><span class="linenos">1374</span></a>    <span class="c1">#ACTIONS</span>
</span><span id="CheckpointROS-1375"><a href="#CheckpointROS-1375"><span class="linenos">1375</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="CheckpointROS-1376"><a href="#CheckpointROS-1376"><span class="linenos">1376</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1377"><a href="#CheckpointROS-1377"><span class="linenos">1377</span></a><span class="sd">        Resets the shine value at every time step.</span>
</span><span id="CheckpointROS-1378"><a href="#CheckpointROS-1378"><span class="linenos">1378</span></a>
</span><span id="CheckpointROS-1379"><a href="#CheckpointROS-1379"><span class="linenos">1379</span></a><span class="sd">        :param time_step:   int     -   Not used.</span>
</span><span id="CheckpointROS-1380"><a href="#CheckpointROS-1380"><span class="linenos">1380</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1381"><a href="#CheckpointROS-1381"><span class="linenos">1381</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS-1382"><a href="#CheckpointROS-1382"><span class="linenos">1382</span></a>        <span class="k">return</span>
</span><span id="CheckpointROS-1383"><a href="#CheckpointROS-1383"><span class="linenos">1383</span></a>
</span><span id="CheckpointROS-1384"><a href="#CheckpointROS-1384"><span class="linenos">1384</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="CheckpointROS-1385"><a href="#CheckpointROS-1385"><span class="linenos">1385</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1386"><a href="#CheckpointROS-1386"><span class="linenos">1386</span></a><span class="sd">        Resets the shine value at every time step.</span>
</span><span id="CheckpointROS-1387"><a href="#CheckpointROS-1387"><span class="linenos">1387</span></a>
</span><span id="CheckpointROS-1388"><a href="#CheckpointROS-1388"><span class="linenos">1388</span></a><span class="sd">        :param time_step:   int     -   Not used.</span>
</span><span id="CheckpointROS-1389"><a href="#CheckpointROS-1389"><span class="linenos">1389</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1390"><a href="#CheckpointROS-1390"><span class="linenos">1390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS-1391"><a href="#CheckpointROS-1391"><span class="linenos">1391</span></a>        <span class="k">return</span>
</span><span id="CheckpointROS-1392"><a href="#CheckpointROS-1392"><span class="linenos">1392</span></a>
</span><span id="CheckpointROS-1393"><a href="#CheckpointROS-1393"><span class="linenos">1393</span></a>    <span class="k">def</span> <span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS-1394"><a href="#CheckpointROS-1394"><span class="linenos">1394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1395"><a href="#CheckpointROS-1395"><span class="linenos">1395</span></a><span class="sd">        Sets the shine value to True.</span>
</span><span id="CheckpointROS-1396"><a href="#CheckpointROS-1396"><span class="linenos">1396</span></a><span class="sd">        &quot;&quot;&quot;</span>    
</span><span id="CheckpointROS-1397"><a href="#CheckpointROS-1397"><span class="linenos">1397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="CheckpointROS-1398"><a href="#CheckpointROS-1398"><span class="linenos">1398</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="CheckpointROS-1399"><a href="#CheckpointROS-1399"><span class="linenos">1399</span></a>
</span><span id="CheckpointROS-1400"><a href="#CheckpointROS-1400"><span class="linenos">1400</span></a>    <span class="k">def</span> <span class="nf">unvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS-1401"><a href="#CheckpointROS-1401"><span class="linenos">1401</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS-1402"><a href="#CheckpointROS-1402"><span class="linenos">1402</span></a><span class="sd">        Sets the shine value to False.</span>
</span><span id="CheckpointROS-1403"><a href="#CheckpointROS-1403"><span class="linenos">1403</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="CheckpointROS-1404"><a href="#CheckpointROS-1404"><span class="linenos">1404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS-1405"><a href="#CheckpointROS-1405"><span class="linenos">1405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>This class represents a Checkpoint.</p>

<p><strong>Attributes</strong>:</p>

<ul>
<li><strong>_kind_name</strong>:     str                 -   The name of this kind of item. This is always 'checkpoint_ros'.</li>
<li><strong>_graphics_item</strong>: QGraphicsRectItem   -   This is the main graphic item of the checkpoint
and is used for some default functions.</li>
<li><strong>_text</strong>:          QGraphicsTextItem   -   This is a text item that is drawn on the model view
and represents primarily the id of the checkpoint.</li>
<li><strong>_shine</strong>:         bool                -   This is true if the checkpoint should be highlighted. Checkpoints</li>
</ul>
</div>


                            <div id="CheckpointROS.__init__" class="classattr">
                                        <input id="CheckpointROS.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">CheckpointROS</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ID</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">x</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">y</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">theta</span><span class="o">=</span><span class="mf">0.0</span></span>)</span>

                <label class="view-source-button" for="CheckpointROS.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.__init__-1261"><a href="#CheckpointROS.__init__-1261"><span class="linenos">1261</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">):</span>
</span><span id="CheckpointROS.__init__-1262"><a href="#CheckpointROS.__init__-1262"><span class="linenos">1262</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.__init__-1263"><a href="#CheckpointROS.__init__-1263"><span class="linenos">1263</span></a><span class="sd">        :param ID:      int, optional    - The ID of the item</span>
</span><span id="CheckpointROS.__init__-1264"><a href="#CheckpointROS.__init__-1264"><span class="linenos">1264</span></a><span class="sd">        :param x:       int, optional    - The x coordinate on the grid</span>
</span><span id="CheckpointROS.__init__-1265"><a href="#CheckpointROS.__init__-1265"><span class="linenos">1265</span></a><span class="sd">        :param y:       int, optional    - The y coordinate on the grid</span>
</span><span id="CheckpointROS.__init__-1266"><a href="#CheckpointROS.__init__-1266"><span class="linenos">1266</span></a><span class="sd">        :param theta:   int, optional    - Orientation of the item (not used currently)</span>
</span><span id="CheckpointROS.__init__-1267"><a href="#CheckpointROS.__init__-1267"><span class="linenos">1267</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.__init__-1268"><a href="#CheckpointROS.__init__-1268"><span class="linenos">1268</span></a>        <span class="nb">super</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="CheckpointROS.__init__-1269"><a href="#CheckpointROS.__init__-1269"><span class="linenos">1269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_kind_name</span> <span class="o">=</span> <span class="s1">&#39;checkpoint_ros&#39;</span>
</span><span id="CheckpointROS.__init__-1270"><a href="#CheckpointROS.__init__-1270"><span class="linenos">1270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="CheckpointROS.__init__-1271"><a href="#CheckpointROS.__init__-1271"><span class="linenos">1271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_starting_position</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="CheckpointROS.__init__-1272"><a href="#CheckpointROS.__init__-1272"><span class="linenos">1272</span></a>
</span><span id="CheckpointROS.__init__-1273"><a href="#CheckpointROS.__init__-1273"><span class="linenos">1273</span></a>        <span class="c1">#self._graphics_item = QGraphicsEllipseItem(self)</span>
</span><span id="CheckpointROS.__init__-1274"><a href="#CheckpointROS.__init__-1274"><span class="linenos">1274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span> <span class="o">=</span> <span class="n">QGraphicsRectItem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="CheckpointROS.__init__-1275"><a href="#CheckpointROS.__init__-1275"><span class="linenos">1275</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span> <span class="o">=</span> <span class="n">QGraphicsTextItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="p">)</span>
</span><span id="CheckpointROS.__init__-1276"><a href="#CheckpointROS.__init__-1276"><span class="linenos">1276</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">()</span>
</span><span id="CheckpointROS.__init__-1277"><a href="#CheckpointROS.__init__-1277"><span class="linenos">1277</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setZValue</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="CheckpointROS.__init__-1278"><a href="#CheckpointROS.__init__-1278"><span class="linenos">1278</span></a>
</span><span id="CheckpointROS.__init__-1279"><a href="#CheckpointROS.__init__-1279"><span class="linenos">1279</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS.__init__-1280"><a href="#CheckpointROS.__init__-1280"><span class="linenos">1280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS.__init__-1281"><a href="#CheckpointROS.__init__-1281"><span class="linenos">1281</span></a>        <span class="c1">#self._checkpoint_number = 0</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ID</strong>:       int, optional    - The ID of the item</li>
<li><strong>x</strong>:        int, optional    - The x coordinate on the grid</li>
<li><strong>y</strong>:        int, optional    - The y coordinate on the grid</li>
<li><strong>theta</strong>:    int, optional    - Orientation of the item (not used currently)</li>
</ul>
</div>


                            </div>
                            <div id="CheckpointROS.get_rect" class="classattr">
                                        <input id="CheckpointROS.get_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.get_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.get_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.get_rect-1285"><a href="#CheckpointROS.get_rect-1285"><span class="linenos">1285</span></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS.get_rect-1286"><a href="#CheckpointROS.get_rect-1286"><span class="linenos">1286</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.get_rect-1287"><a href="#CheckpointROS.get_rect-1287"><span class="linenos">1287</span></a><span class="sd">        Returns the current rectangle of an item.</span>
</span><span id="CheckpointROS.get_rect-1288"><a href="#CheckpointROS.get_rect-1288"><span class="linenos">1288</span></a>
</span><span id="CheckpointROS.get_rect-1289"><a href="#CheckpointROS.get_rect-1289"><span class="linenos">1289</span></a><span class="sd">        :return: QtCore.QRect   -   The current rectangle of this item</span>
</span><span id="CheckpointROS.get_rect-1290"><a href="#CheckpointROS.get_rect-1290"><span class="linenos">1290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.get_rect-1291"><a href="#CheckpointROS.get_rect-1291"><span class="linenos">1291</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Returns the current rectangle of an item.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>QtCore.QRect   -   The current rectangle of this item</p>
</blockquote>
</div>


                            </div>
                            <div id="CheckpointROS.get_visit_status" class="classattr">
                                        <input id="CheckpointROS.get_visit_status-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_visit_status</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.get_visit_status-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.get_visit_status"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.get_visit_status-1293"><a href="#CheckpointROS.get_visit_status-1293"><span class="linenos">1293</span></a>    <span class="k">def</span> <span class="nf">get_visit_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS.get_visit_status-1294"><a href="#CheckpointROS.get_visit_status-1294"><span class="linenos">1294</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.get_visit_status-1295"><a href="#CheckpointROS.get_visit_status-1295"><span class="linenos">1295</span></a><span class="sd">        Returns whether the item was visited by a roboter or not.</span>
</span><span id="CheckpointROS.get_visit_status-1296"><a href="#CheckpointROS.get_visit_status-1296"><span class="linenos">1296</span></a>
</span><span id="CheckpointROS.get_visit_status-1297"><a href="#CheckpointROS.get_visit_status-1297"><span class="linenos">1297</span></a><span class="sd">        :return: bool   -   True or False</span>
</span><span id="CheckpointROS.get_visit_status-1298"><a href="#CheckpointROS.get_visit_status-1298"><span class="linenos">1298</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.get_visit_status-1299"><a href="#CheckpointROS.get_visit_status-1299"><span class="linenos">1299</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span>
</span></pre></div>


            <div class="docstring"><p>Returns whether the item was visited by a roboter or not.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>bool   -   True or False</p>
</blockquote>
</div>


                            </div>
                            <div id="CheckpointROS.determine_color" class="classattr">
                                        <input id="CheckpointROS.determine_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">determine_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">number</span>, </span><span class="param"><span class="n">count</span>, </span><span class="param"><span class="n">pattern</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.determine_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.determine_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.determine_color-1303"><a href="#CheckpointROS.determine_color-1303"><span class="linenos">1303</span></a>    <span class="k">def</span> <span class="nf">determine_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="CheckpointROS.determine_color-1304"><a href="#CheckpointROS.determine_color-1304"><span class="linenos">1304</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.determine_color-1305"><a href="#CheckpointROS.determine_color-1305"><span class="linenos">1305</span></a><span class="sd">        Determines the color of the checkpoint.</span>
</span><span id="CheckpointROS.determine_color-1306"><a href="#CheckpointROS.determine_color-1306"><span class="linenos">1306</span></a><span class="sd">        </span>
</span><span id="CheckpointROS.determine_color-1307"><a href="#CheckpointROS.determine_color-1307"><span class="linenos">1307</span></a><span class="sd">        :param number: int  -   The number of this item in the models sequence. </span>
</span><span id="CheckpointROS.determine_color-1308"><a href="#CheckpointROS.determine_color-1308"><span class="linenos">1308</span></a><span class="sd">                                This does not necessarily have to be the ID of the item.</span>
</span><span id="CheckpointROS.determine_color-1309"><a href="#CheckpointROS.determine_color-1309"><span class="linenos">1309</span></a><span class="sd">        :param count: int   -   The maximal count of all items in the model of this kind.</span>
</span><span id="CheckpointROS.determine_color-1310"><a href="#CheckpointROS.determine_color-1310"><span class="linenos">1310</span></a><span class="sd">        :param pattern: int -   Not used.</span>
</span><span id="CheckpointROS.determine_color-1311"><a href="#CheckpointROS.determine_color-1311"><span class="linenos">1311</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.determine_color-1312"><a href="#CheckpointROS.determine_color-1312"><span class="linenos">1312</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="n">calculate_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">)(</span><span class="n">number</span><span class="p">)</span><span class="o">/</span><span class="n">count</span><span class="p">)</span>
</span><span id="CheckpointROS.determine_color-1313"><a href="#CheckpointROS.determine_color-1313"><span class="linenos">1313</span></a>        <span class="c1">#color = QColor(255,255,255) #white</span>
</span><span id="CheckpointROS.determine_color-1314"><a href="#CheckpointROS.determine_color-1314"><span class="linenos">1314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="CheckpointROS.determine_color-1315"><a href="#CheckpointROS.determine_color-1315"><span class="linenos">1315</span></a>        
</span><span id="CheckpointROS.determine_color-1316"><a href="#CheckpointROS.determine_color-1316"><span class="linenos">1316</span></a>        <span class="c1">#if self._shine:</span>
</span><span id="CheckpointROS.determine_color-1317"><a href="#CheckpointROS.determine_color-1317"><span class="linenos">1317</span></a>        <span class="c1">#    color = QColor(51,255,0)</span>
</span><span id="CheckpointROS.determine_color-1318"><a href="#CheckpointROS.determine_color-1318"><span class="linenos">1318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">QBrush</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Determines the color of the checkpoint.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>number</strong>:  int  -   The number of this item in the models sequence. 
This does not necessarily have to be the ID of the item.</li>
<li><strong>count</strong>:  int   -   The maximal count of all items in the model of this kind.</li>
<li><strong>pattern</strong>:  int -   Not used.</li>
</ul>
</div>


                            </div>
                            <div id="CheckpointROS.set_rect" class="classattr">
                                        <input id="CheckpointROS.set_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">rect</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.set_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.set_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.set_rect-1320"><a href="#CheckpointROS.set_rect-1320"><span class="linenos">1320</span></a>    <span class="k">def</span> <span class="nf">set_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">):</span>
</span><span id="CheckpointROS.set_rect-1321"><a href="#CheckpointROS.set_rect-1321"><span class="linenos">1321</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;    </span>
</span><span id="CheckpointROS.set_rect-1322"><a href="#CheckpointROS.set_rect-1322"><span class="linenos">1322</span></a><span class="sd">        Sets the rectangle that a checkpoint can use to draw things in.</span>
</span><span id="CheckpointROS.set_rect-1323"><a href="#CheckpointROS.set_rect-1323"><span class="linenos">1323</span></a><span class="sd">        This equals one field of the grid in the model view.</span>
</span><span id="CheckpointROS.set_rect-1324"><a href="#CheckpointROS.set_rect-1324"><span class="linenos">1324</span></a><span class="sd">        This function defines the appearance of the checkpoint</span>
</span><span id="CheckpointROS.set_rect-1325"><a href="#CheckpointROS.set_rect-1325"><span class="linenos">1325</span></a><span class="sd">        on the grid.</span>
</span><span id="CheckpointROS.set_rect-1326"><a href="#CheckpointROS.set_rect-1326"><span class="linenos">1326</span></a>
</span><span id="CheckpointROS.set_rect-1327"><a href="#CheckpointROS.set_rect-1327"><span class="linenos">1327</span></a><span class="sd">        :param rect: QtCore.QRect   - The rectangle that a checkpoint can use to draw things in.</span>
</span><span id="CheckpointROS.set_rect-1328"><a href="#CheckpointROS.set_rect-1328"><span class="linenos">1328</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.set_rect-1329"><a href="#CheckpointROS.set_rect-1329"><span class="linenos">1329</span></a>        <span class="n">scale</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_scale&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1330"><a href="#CheckpointROS.set_rect-1330"><span class="linenos">1330</span></a>        <span class="n">bold</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_bold&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1331"><a href="#CheckpointROS.set_rect-1331"><span class="linenos">1331</span></a>        
</span><span id="CheckpointROS.set_rect-1332"><a href="#CheckpointROS.set_rect-1332"><span class="linenos">1332</span></a>        <span class="c1">#SET FONTSIZE, TEXT POSITION AND DEFAULT TEXT COLOR</span>
</span><span id="CheckpointROS.set_rect-1333"><a href="#CheckpointROS.set_rect-1333"><span class="linenos">1333</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.3</span><span class="o">*</span><span class="n">scale</span><span class="p">))</span>
</span><span id="CheckpointROS.set_rect-1334"><a href="#CheckpointROS.set_rect-1334"><span class="linenos">1334</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="CheckpointROS.set_rect-1335"><a href="#CheckpointROS.set_rect-1335"><span class="linenos">1335</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setDefaultTextColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;id_font_color&#39;</span><span class="p">)))</span>
</span><span id="CheckpointROS.set_rect-1336"><a href="#CheckpointROS.set_rect-1336"><span class="linenos">1336</span></a>
</span><span id="CheckpointROS.set_rect-1337"><a href="#CheckpointROS.set_rect-1337"><span class="linenos">1337</span></a>        <span class="c1">#SET DISPLAY MODE</span>
</span><span id="CheckpointROS.set_rect-1338"><a href="#CheckpointROS.set_rect-1338"><span class="linenos">1338</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_display_mode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="CheckpointROS.set_rect-1339"><a href="#CheckpointROS.set_rect-1339"><span class="linenos">1339</span></a>            <span class="k">if</span> <span class="n">bold</span><span class="p">:</span>
</span><span id="CheckpointROS.set_rect-1340"><a href="#CheckpointROS.set_rect-1340"><span class="linenos">1340</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/b&gt;&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1341"><a href="#CheckpointROS.set_rect-1341"><span class="linenos">1341</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="CheckpointROS.set_rect-1342"><a href="#CheckpointROS.set_rect-1342"><span class="linenos">1342</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">))</span>
</span><span id="CheckpointROS.set_rect-1343"><a href="#CheckpointROS.set_rect-1343"><span class="linenos">1343</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="CheckpointROS.set_rect-1344"><a href="#CheckpointROS.set_rect-1344"><span class="linenos">1344</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1345"><a href="#CheckpointROS.set_rect-1345"><span class="linenos">1345</span></a>
</span><span id="CheckpointROS.set_rect-1346"><a href="#CheckpointROS.set_rect-1346"><span class="linenos">1346</span></a>        <span class="c1">#SET POSITION AND SIZE OF GRAPHICS ITEM INSIDE THE CELL </span>
</span><span id="CheckpointROS.set_rect-1347"><a href="#CheckpointROS.set_rect-1347"><span class="linenos">1347</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">()</span>
</span><span id="CheckpointROS.set_rect-1348"><a href="#CheckpointROS.set_rect-1348"><span class="linenos">1348</span></a>        <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="CheckpointROS.set_rect-1349"><a href="#CheckpointROS.set_rect-1349"><span class="linenos">1349</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="CheckpointROS.set_rect-1350"><a href="#CheckpointROS.set_rect-1350"><span class="linenos">1350</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">,</span>
</span><span id="CheckpointROS.set_rect-1351"><a href="#CheckpointROS.set_rect-1351"><span class="linenos">1351</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1352"><a href="#CheckpointROS.set_rect-1352"><span class="linenos">1352</span></a>
</span><span id="CheckpointROS.set_rect-1353"><a href="#CheckpointROS.set_rect-1353"><span class="linenos">1353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="CheckpointROS.set_rect-1354"><a href="#CheckpointROS.set_rect-1354"><span class="linenos">1354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1355"><a href="#CheckpointROS.set_rect-1355"><span class="linenos">1355</span></a>
</span><span id="CheckpointROS.set_rect-1356"><a href="#CheckpointROS.set_rect-1356"><span class="linenos">1356</span></a>        <span class="c1">#IF HIGHLIGHTED</span>
</span><span id="CheckpointROS.set_rect-1357"><a href="#CheckpointROS.set_rect-1357"><span class="linenos">1357</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_highlighted</span><span class="p">:</span>        
</span><span id="CheckpointROS.set_rect-1358"><a href="#CheckpointROS.set_rect-1358"><span class="linenos">1358</span></a>            <span class="n">rect2</span> <span class="o">=</span> <span class="n">QRectF</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> 
</span><span id="CheckpointROS.set_rect-1359"><a href="#CheckpointROS.set_rect-1359"><span class="linenos">1359</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">(),</span>
</span><span id="CheckpointROS.set_rect-1360"><a href="#CheckpointROS.set_rect-1360"><span class="linenos">1360</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">,</span>
</span><span id="CheckpointROS.set_rect-1361"><a href="#CheckpointROS.set_rect-1361"><span class="linenos">1361</span></a>                            <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">*</span><span class="mf">1.0</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1362"><a href="#CheckpointROS.set_rect-1362"><span class="linenos">1362</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="CheckpointROS.set_rect-1363"><a href="#CheckpointROS.set_rect-1363"><span class="linenos">1363</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">*</span><span class="mf">0.2</span><span class="p">)</span>
</span><span id="CheckpointROS.set_rect-1364"><a href="#CheckpointROS.set_rect-1364"><span class="linenos">1364</span></a>
</span><span id="CheckpointROS.set_rect-1365"><a href="#CheckpointROS.set_rect-1365"><span class="linenos">1365</span></a>        <span class="c1">#IF SHINE</span>
</span><span id="CheckpointROS.set_rect-1366"><a href="#CheckpointROS.set_rect-1366"><span class="linenos">1366</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span><span class="p">:</span>    
</span><span id="CheckpointROS.set_rect-1367"><a href="#CheckpointROS.set_rect-1367"><span class="linenos">1367</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span><span id="CheckpointROS.set_rect-1368"><a href="#CheckpointROS.set_rect-1368"><span class="linenos">1368</span></a>        
</span><span id="CheckpointROS.set_rect-1369"><a href="#CheckpointROS.set_rect-1369"><span class="linenos">1369</span></a>        <span class="c1">#SAVE </span>
</span><span id="CheckpointROS.set_rect-1370"><a href="#CheckpointROS.set_rect-1370"><span class="linenos">1370</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setRect</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>        
</span><span id="CheckpointROS.set_rect-1371"><a href="#CheckpointROS.set_rect-1371"><span class="linenos">1371</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_graphics_item</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pen</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets the rectangle that a checkpoint can use to draw things in.
This equals one field of the grid in the model view.
This function defines the appearance of the checkpoint
on the grid.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>rect</strong>:  QtCore.QRect   - The rectangle that a checkpoint can use to draw things in.</li>
</ul>
</div>


                            </div>
                            <div id="CheckpointROS.do_action" class="classattr">
                                        <input id="CheckpointROS.do_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">do_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.do_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.do_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.do_action-1375"><a href="#CheckpointROS.do_action-1375"><span class="linenos">1375</span></a>    <span class="k">def</span> <span class="nf">do_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="CheckpointROS.do_action-1376"><a href="#CheckpointROS.do_action-1376"><span class="linenos">1376</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.do_action-1377"><a href="#CheckpointROS.do_action-1377"><span class="linenos">1377</span></a><span class="sd">        Resets the shine value at every time step.</span>
</span><span id="CheckpointROS.do_action-1378"><a href="#CheckpointROS.do_action-1378"><span class="linenos">1378</span></a>
</span><span id="CheckpointROS.do_action-1379"><a href="#CheckpointROS.do_action-1379"><span class="linenos">1379</span></a><span class="sd">        :param time_step:   int     -   Not used.</span>
</span><span id="CheckpointROS.do_action-1380"><a href="#CheckpointROS.do_action-1380"><span class="linenos">1380</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.do_action-1381"><a href="#CheckpointROS.do_action-1381"><span class="linenos">1381</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS.do_action-1382"><a href="#CheckpointROS.do_action-1382"><span class="linenos">1382</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Resets the shine value at every time step.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int     -   Not used.</li>
</ul>
</div>


                            </div>
                            <div id="CheckpointROS.undo_action" class="classattr">
                                        <input id="CheckpointROS.undo_action-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">undo_action</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">time_step</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.undo_action-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.undo_action"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.undo_action-1384"><a href="#CheckpointROS.undo_action-1384"><span class="linenos">1384</span></a>    <span class="k">def</span> <span class="nf">undo_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_step</span><span class="p">):</span>
</span><span id="CheckpointROS.undo_action-1385"><a href="#CheckpointROS.undo_action-1385"><span class="linenos">1385</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.undo_action-1386"><a href="#CheckpointROS.undo_action-1386"><span class="linenos">1386</span></a><span class="sd">        Resets the shine value at every time step.</span>
</span><span id="CheckpointROS.undo_action-1387"><a href="#CheckpointROS.undo_action-1387"><span class="linenos">1387</span></a>
</span><span id="CheckpointROS.undo_action-1388"><a href="#CheckpointROS.undo_action-1388"><span class="linenos">1388</span></a><span class="sd">        :param time_step:   int     -   Not used.</span>
</span><span id="CheckpointROS.undo_action-1389"><a href="#CheckpointROS.undo_action-1389"><span class="linenos">1389</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="CheckpointROS.undo_action-1390"><a href="#CheckpointROS.undo_action-1390"><span class="linenos">1390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS.undo_action-1391"><a href="#CheckpointROS.undo_action-1391"><span class="linenos">1391</span></a>        <span class="k">return</span>
</span></pre></div>


            <div class="docstring"><p>Resets the shine value at every time step.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>time_step</strong>:    int     -   Not used.</li>
</ul>
</div>


                            </div>
                            <div id="CheckpointROS.visit" class="classattr">
                                        <input id="CheckpointROS.visit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">visit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.visit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.visit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.visit-1393"><a href="#CheckpointROS.visit-1393"><span class="linenos">1393</span></a>    <span class="k">def</span> <span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS.visit-1394"><a href="#CheckpointROS.visit-1394"><span class="linenos">1394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.visit-1395"><a href="#CheckpointROS.visit-1395"><span class="linenos">1395</span></a><span class="sd">        Sets the shine value to True.</span>
</span><span id="CheckpointROS.visit-1396"><a href="#CheckpointROS.visit-1396"><span class="linenos">1396</span></a><span class="sd">        &quot;&quot;&quot;</span>    
</span><span id="CheckpointROS.visit-1397"><a href="#CheckpointROS.visit-1397"><span class="linenos">1397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="CheckpointROS.visit-1398"><a href="#CheckpointROS.visit-1398"><span class="linenos">1398</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Sets the shine value to True.</p>
</div>


                            </div>
                            <div id="CheckpointROS.unvisit" class="classattr">
                                        <input id="CheckpointROS.unvisit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unvisit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="CheckpointROS.unvisit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CheckpointROS.unvisit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CheckpointROS.unvisit-1400"><a href="#CheckpointROS.unvisit-1400"><span class="linenos">1400</span></a>    <span class="k">def</span> <span class="nf">unvisit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CheckpointROS.unvisit-1401"><a href="#CheckpointROS.unvisit-1401"><span class="linenos">1401</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CheckpointROS.unvisit-1402"><a href="#CheckpointROS.unvisit-1402"><span class="linenos">1402</span></a><span class="sd">        Sets the shine value to False.</span>
</span><span id="CheckpointROS.unvisit-1403"><a href="#CheckpointROS.unvisit-1403"><span class="linenos">1403</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="CheckpointROS.unvisit-1404"><a href="#CheckpointROS.unvisit-1404"><span class="linenos">1404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_visited</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="CheckpointROS.unvisit-1405"><a href="#CheckpointROS.unvisit-1405"><span class="linenos">1405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_shine</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Sets the shine value to False.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#VisualizerGraphicItem">VisualizerGraphicItem</a></dt>
                                <dd id="CheckpointROS.set_starting_position" class="function"><a href="#VisualizerGraphicItem.set_starting_position">set_starting_position</a></dd>
                <dd id="CheckpointROS.set_position" class="function"><a href="#VisualizerGraphicItem.set_position">set_position</a></dd>
                <dd id="CheckpointROS.set_color" class="function"><a href="#VisualizerGraphicItem.set_color">set_color</a></dd>
                <dd id="CheckpointROS.set_action" class="function"><a href="#VisualizerGraphicItem.set_action">set_action</a></dd>
                <dd id="CheckpointROS.set_display_mode" class="function"><a href="#VisualizerGraphicItem.set_display_mode">set_display_mode</a></dd>
                <dd id="CheckpointROS.set_draw_path" class="function"><a href="#VisualizerGraphicItem.set_draw_path">set_draw_path</a></dd>
                <dd id="CheckpointROS.set_draw_future_path" class="function"><a href="#VisualizerGraphicItem.set_draw_future_path">set_draw_future_path</a></dd>
                <dd id="CheckpointROS.set_draw_start" class="function"><a href="#VisualizerGraphicItem.set_draw_start">set_draw_start</a></dd>
                <dd id="CheckpointROS.set_highlighted" class="function"><a href="#VisualizerGraphicItem.set_highlighted">set_highlighted</a></dd>
                <dd id="CheckpointROS.get_name" class="function"><a href="#VisualizerGraphicItem.get_name">get_name</a></dd>
                <dd id="CheckpointROS.get_position" class="function"><a href="#VisualizerGraphicItem.get_position">get_position</a></dd>
                <dd id="CheckpointROS.get_start_position" class="function"><a href="#VisualizerGraphicItem.get_start_position">get_start_position</a></dd>
                <dd id="CheckpointROS.get_color" class="function"><a href="#VisualizerGraphicItem.get_color">get_color</a></dd>
                <dd id="CheckpointROS.get_action" class="function"><a href="#VisualizerGraphicItem.get_action">get_action</a></dd>
                <dd id="CheckpointROS.get_future_path" class="function"><a href="#VisualizerGraphicItem.get_future_path">get_future_path</a></dd>
                <dd id="CheckpointROS.get_state" class="function"><a href="#VisualizerGraphicItem.get_state">get_state</a></dd>
                <dd id="CheckpointROS.get_draw_path" class="function"><a href="#VisualizerGraphicItem.get_draw_path">get_draw_path</a></dd>
                <dd id="CheckpointROS.get_draw_future_path" class="function"><a href="#VisualizerGraphicItem.get_draw_future_path">get_draw_future_path</a></dd>
                <dd id="CheckpointROS.get_draw_startpoint" class="function"><a href="#VisualizerGraphicItem.get_draw_startpoint">get_draw_startpoint</a></dd>
                <dd id="CheckpointROS.get_highlighted" class="function"><a href="#VisualizerGraphicItem.get_highlighted">get_highlighted</a></dd>
                <dd id="CheckpointROS.mousePressEvent" class="function"><a href="#VisualizerGraphicItem.mousePressEvent">mousePressEvent</a></dd>
                <dd id="CheckpointROS.mouseReleaseEvent" class="function"><a href="#VisualizerGraphicItem.mouseReleaseEvent">mouseReleaseEvent</a></dd>
                <dd id="CheckpointROS.mouseMoveEvent" class="function"><a href="#VisualizerGraphicItem.mouseMoveEvent">mouseMoveEvent</a></dd>
                <dd id="CheckpointROS.paint" class="function"><a href="#VisualizerGraphicItem.paint">paint</a></dd>
                <dd id="CheckpointROS.clear_actions" class="function"><a href="#VisualizerGraphicItem.clear_actions">clear_actions</a></dd>
                <dd id="CheckpointROS.clear_older_actions" class="function"><a href="#VisualizerGraphicItem.clear_older_actions">clear_older_actions</a></dd>
                <dd id="CheckpointROS.restart" class="function"><a href="#VisualizerGraphicItem.restart">restart</a></dd>
                <dd id="CheckpointROS.reset" class="function"><a href="#VisualizerGraphicItem.reset">reset</a></dd>
                <dd id="CheckpointROS.edit_position_to" class="function"><a href="#VisualizerGraphicItem.edit_position_to">edit_position_to</a></dd>
                <dd id="CheckpointROS.enable_drag" class="function"><a href="#VisualizerGraphicItem.enable_drag">enable_drag</a></dd>
                <dd id="CheckpointROS.boundingRect" class="function"><a href="#VisualizerGraphicItem.boundingRect">boundingRect</a></dd>
                <dd id="CheckpointROS.ros_publish_message_info" class="function"><a href="#VisualizerGraphicItem.ros_publish_message_info">ros_publish_message_info</a></dd>

            </div>
            <div><dt><a href="visualizerItem.html#VisualizerItem">mapf_simulation.visualizerItem.VisualizerItem</a></dt>
                                <dd id="CheckpointROS.set_model" class="function"><a href="visualizerItem.html#VisualizerItem.set_model">set_model</a></dd>
                <dd id="CheckpointROS.get_model" class="function"><a href="visualizerItem.html#VisualizerItem.get_model">get_model</a></dd>
                <dd id="CheckpointROS.get_id" class="function"><a href="visualizerItem.html#VisualizerItem.get_id">get_id</a></dd>
                <dd id="CheckpointROS.get_kind_name" class="function"><a href="visualizerItem.html#VisualizerItem.get_kind_name">get_kind_name</a></dd>
                <dd id="CheckpointROS.on_step_update" class="function"><a href="visualizerItem.html#VisualizerItem.on_step_update">on_step_update</a></dd>
                <dd id="CheckpointROS.on_step_undo" class="function"><a href="visualizerItem.html#VisualizerItem.on_step_undo">on_step_undo</a></dd>

            </div>
            <div><dt>PyQt5.QtWidgets.QGraphicsItem</dt>
                                <dd id="CheckpointROS.CacheMode" class="class">CacheMode</dd>
                <dd id="CheckpointROS.GraphicsItemChange" class="class">GraphicsItemChange</dd>
                <dd id="CheckpointROS.GraphicsItemFlag" class="class">GraphicsItemFlag</dd>
                <dd id="CheckpointROS.GraphicsItemFlags" class="class">GraphicsItemFlags</dd>
                <dd id="CheckpointROS.PanelModality" class="class">PanelModality</dd>
                <dd id="CheckpointROS.acceptDrops" class="function">acceptDrops</dd>
                <dd id="CheckpointROS.acceptHoverEvents" class="function">acceptHoverEvents</dd>
                <dd id="CheckpointROS.acceptTouchEvents" class="function">acceptTouchEvents</dd>
                <dd id="CheckpointROS.acceptedMouseButtons" class="function">acceptedMouseButtons</dd>
                <dd id="CheckpointROS.advance" class="function">advance</dd>
                <dd id="CheckpointROS.boundingRegion" class="function">boundingRegion</dd>
                <dd id="CheckpointROS.boundingRegionGranularity" class="function">boundingRegionGranularity</dd>
                <dd id="CheckpointROS.cacheMode" class="function">cacheMode</dd>
                <dd id="CheckpointROS.childItems" class="function">childItems</dd>
                <dd id="CheckpointROS.childrenBoundingRect" class="function">childrenBoundingRect</dd>
                <dd id="CheckpointROS.clearFocus" class="function">clearFocus</dd>
                <dd id="CheckpointROS.clipPath" class="function">clipPath</dd>
                <dd id="CheckpointROS.collidesWithItem" class="function">collidesWithItem</dd>
                <dd id="CheckpointROS.collidesWithPath" class="function">collidesWithPath</dd>
                <dd id="CheckpointROS.collidingItems" class="function">collidingItems</dd>
                <dd id="CheckpointROS.commonAncestorItem" class="function">commonAncestorItem</dd>
                <dd id="CheckpointROS.contains" class="function">contains</dd>
                <dd id="CheckpointROS.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="CheckpointROS.cursor" class="function">cursor</dd>
                <dd id="CheckpointROS.data" class="function">data</dd>
                <dd id="CheckpointROS.deviceTransform" class="function">deviceTransform</dd>
                <dd id="CheckpointROS.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="CheckpointROS.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="CheckpointROS.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="CheckpointROS.dropEvent" class="function">dropEvent</dd>
                <dd id="CheckpointROS.effectiveOpacity" class="function">effectiveOpacity</dd>
                <dd id="CheckpointROS.ensureVisible" class="function">ensureVisible</dd>
                <dd id="CheckpointROS.filtersChildEvents" class="function">filtersChildEvents</dd>
                <dd id="CheckpointROS.flags" class="function">flags</dd>
                <dd id="CheckpointROS.focusInEvent" class="function">focusInEvent</dd>
                <dd id="CheckpointROS.focusItem" class="function">focusItem</dd>
                <dd id="CheckpointROS.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="CheckpointROS.focusProxy" class="function">focusProxy</dd>
                <dd id="CheckpointROS.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="CheckpointROS.grabMouse" class="function">grabMouse</dd>
                <dd id="CheckpointROS.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="CheckpointROS.group" class="function">group</dd>
                <dd id="CheckpointROS.hasCursor" class="function">hasCursor</dd>
                <dd id="CheckpointROS.hasFocus" class="function">hasFocus</dd>
                <dd id="CheckpointROS.hide" class="function">hide</dd>
                <dd id="CheckpointROS.hoverEnterEvent" class="function">hoverEnterEvent</dd>
                <dd id="CheckpointROS.hoverLeaveEvent" class="function">hoverLeaveEvent</dd>
                <dd id="CheckpointROS.hoverMoveEvent" class="function">hoverMoveEvent</dd>
                <dd id="CheckpointROS.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="CheckpointROS.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="CheckpointROS.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="CheckpointROS.installSceneEventFilter" class="function">installSceneEventFilter</dd>
                <dd id="CheckpointROS.isActive" class="function">isActive</dd>
                <dd id="CheckpointROS.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="CheckpointROS.isBlockedByModalPanel" class="function">isBlockedByModalPanel</dd>
                <dd id="CheckpointROS.isClipped" class="function">isClipped</dd>
                <dd id="CheckpointROS.isEnabled" class="function">isEnabled</dd>
                <dd id="CheckpointROS.isObscured" class="function">isObscured</dd>
                <dd id="CheckpointROS.isObscuredBy" class="function">isObscuredBy</dd>
                <dd id="CheckpointROS.isPanel" class="function">isPanel</dd>
                <dd id="CheckpointROS.isSelected" class="function">isSelected</dd>
                <dd id="CheckpointROS.isUnderMouse" class="function">isUnderMouse</dd>
                <dd id="CheckpointROS.isVisible" class="function">isVisible</dd>
                <dd id="CheckpointROS.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="CheckpointROS.isWidget" class="function">isWidget</dd>
                <dd id="CheckpointROS.isWindow" class="function">isWindow</dd>
                <dd id="CheckpointROS.itemChange" class="function">itemChange</dd>
                <dd id="CheckpointROS.itemTransform" class="function">itemTransform</dd>
                <dd id="CheckpointROS.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="CheckpointROS.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="CheckpointROS.mapFromItem" class="function">mapFromItem</dd>
                <dd id="CheckpointROS.mapFromParent" class="function">mapFromParent</dd>
                <dd id="CheckpointROS.mapFromScene" class="function">mapFromScene</dd>
                <dd id="CheckpointROS.mapRectFromItem" class="function">mapRectFromItem</dd>
                <dd id="CheckpointROS.mapRectFromParent" class="function">mapRectFromParent</dd>
                <dd id="CheckpointROS.mapRectFromScene" class="function">mapRectFromScene</dd>
                <dd id="CheckpointROS.mapRectToItem" class="function">mapRectToItem</dd>
                <dd id="CheckpointROS.mapRectToParent" class="function">mapRectToParent</dd>
                <dd id="CheckpointROS.mapRectToScene" class="function">mapRectToScene</dd>
                <dd id="CheckpointROS.mapToItem" class="function">mapToItem</dd>
                <dd id="CheckpointROS.mapToParent" class="function">mapToParent</dd>
                <dd id="CheckpointROS.mapToScene" class="function">mapToScene</dd>
                <dd id="CheckpointROS.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="CheckpointROS.moveBy" class="function">moveBy</dd>
                <dd id="CheckpointROS.opacity" class="function">opacity</dd>
                <dd id="CheckpointROS.opaqueArea" class="function">opaqueArea</dd>
                <dd id="CheckpointROS.panel" class="function">panel</dd>
                <dd id="CheckpointROS.panelModality" class="function">panelModality</dd>
                <dd id="CheckpointROS.parentItem" class="function">parentItem</dd>
                <dd id="CheckpointROS.parentObject" class="function">parentObject</dd>
                <dd id="CheckpointROS.parentWidget" class="function">parentWidget</dd>
                <dd id="CheckpointROS.pos" class="function">pos</dd>
                <dd id="CheckpointROS.prepareGeometryChange" class="function">prepareGeometryChange</dd>
                <dd id="CheckpointROS.removeSceneEventFilter" class="function">removeSceneEventFilter</dd>
                <dd id="CheckpointROS.resetTransform" class="function">resetTransform</dd>
                <dd id="CheckpointROS.rotation" class="function">rotation</dd>
                <dd id="CheckpointROS.scale" class="function">scale</dd>
                <dd id="CheckpointROS.scene" class="function">scene</dd>
                <dd id="CheckpointROS.sceneBoundingRect" class="function">sceneBoundingRect</dd>
                <dd id="CheckpointROS.sceneEvent" class="function">sceneEvent</dd>
                <dd id="CheckpointROS.sceneEventFilter" class="function">sceneEventFilter</dd>
                <dd id="CheckpointROS.scenePos" class="function">scenePos</dd>
                <dd id="CheckpointROS.sceneTransform" class="function">sceneTransform</dd>
                <dd id="CheckpointROS.scroll" class="function">scroll</dd>
                <dd id="CheckpointROS.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="CheckpointROS.setAcceptHoverEvents" class="function">setAcceptHoverEvents</dd>
                <dd id="CheckpointROS.setAcceptTouchEvents" class="function">setAcceptTouchEvents</dd>
                <dd id="CheckpointROS.setAcceptedMouseButtons" class="function">setAcceptedMouseButtons</dd>
                <dd id="CheckpointROS.setActive" class="function">setActive</dd>
                <dd id="CheckpointROS.setBoundingRegionGranularity" class="function">setBoundingRegionGranularity</dd>
                <dd id="CheckpointROS.setCacheMode" class="function">setCacheMode</dd>
                <dd id="CheckpointROS.setCursor" class="function">setCursor</dd>
                <dd id="CheckpointROS.setData" class="function">setData</dd>
                <dd id="CheckpointROS.setEnabled" class="function">setEnabled</dd>
                <dd id="CheckpointROS.setFiltersChildEvents" class="function">setFiltersChildEvents</dd>
                <dd id="CheckpointROS.setFlag" class="function">setFlag</dd>
                <dd id="CheckpointROS.setFlags" class="function">setFlags</dd>
                <dd id="CheckpointROS.setFocus" class="function">setFocus</dd>
                <dd id="CheckpointROS.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="CheckpointROS.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="CheckpointROS.setGroup" class="function">setGroup</dd>
                <dd id="CheckpointROS.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="CheckpointROS.setOpacity" class="function">setOpacity</dd>
                <dd id="CheckpointROS.setPanelModality" class="function">setPanelModality</dd>
                <dd id="CheckpointROS.setParentItem" class="function">setParentItem</dd>
                <dd id="CheckpointROS.setPos" class="function">setPos</dd>
                <dd id="CheckpointROS.setRotation" class="function">setRotation</dd>
                <dd id="CheckpointROS.setScale" class="function">setScale</dd>
                <dd id="CheckpointROS.setSelected" class="function">setSelected</dd>
                <dd id="CheckpointROS.setToolTip" class="function">setToolTip</dd>
                <dd id="CheckpointROS.setTransform" class="function">setTransform</dd>
                <dd id="CheckpointROS.setTransformOriginPoint" class="function">setTransformOriginPoint</dd>
                <dd id="CheckpointROS.setTransformations" class="function">setTransformations</dd>
                <dd id="CheckpointROS.setVisible" class="function">setVisible</dd>
                <dd id="CheckpointROS.setX" class="function">setX</dd>
                <dd id="CheckpointROS.setY" class="function">setY</dd>
                <dd id="CheckpointROS.setZValue" class="function">setZValue</dd>
                <dd id="CheckpointROS.shape" class="function">shape</dd>
                <dd id="CheckpointROS.show" class="function">show</dd>
                <dd id="CheckpointROS.stackBefore" class="function">stackBefore</dd>
                <dd id="CheckpointROS.toGraphicsObject" class="function">toGraphicsObject</dd>
                <dd id="CheckpointROS.toolTip" class="function">toolTip</dd>
                <dd id="CheckpointROS.topLevelItem" class="function">topLevelItem</dd>
                <dd id="CheckpointROS.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="CheckpointROS.transform" class="function">transform</dd>
                <dd id="CheckpointROS.transformOriginPoint" class="function">transformOriginPoint</dd>
                <dd id="CheckpointROS.transformations" class="function">transformations</dd>
                <dd id="CheckpointROS.type" class="function">type</dd>
                <dd id="CheckpointROS.ungrabKeyboard" class="function">ungrabKeyboard</dd>
                <dd id="CheckpointROS.ungrabMouse" class="function">ungrabMouse</dd>
                <dd id="CheckpointROS.unsetCursor" class="function">unsetCursor</dd>
                <dd id="CheckpointROS.update" class="function">update</dd>
                <dd id="CheckpointROS.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="CheckpointROS.wheelEvent" class="function">wheelEvent</dd>
                <dd id="CheckpointROS.window" class="function">window</dd>
                <dd id="CheckpointROS.x" class="function">x</dd>
                <dd id="CheckpointROS.y" class="function">y</dd>
                <dd id="CheckpointROS.zValue" class="function">zValue</dd>
                <dd id="CheckpointROS.DeviceCoordinateCache" class="variable">DeviceCoordinateCache</dd>
                <dd id="CheckpointROS.ItemAcceptsInputMethod" class="variable">ItemAcceptsInputMethod</dd>
                <dd id="CheckpointROS.ItemChildAddedChange" class="variable">ItemChildAddedChange</dd>
                <dd id="CheckpointROS.ItemChildRemovedChange" class="variable">ItemChildRemovedChange</dd>
                <dd id="CheckpointROS.ItemClipsChildrenToShape" class="variable">ItemClipsChildrenToShape</dd>
                <dd id="CheckpointROS.ItemClipsToShape" class="variable">ItemClipsToShape</dd>
                <dd id="CheckpointROS.ItemContainsChildrenInShape" class="variable">ItemContainsChildrenInShape</dd>
                <dd id="CheckpointROS.ItemCoordinateCache" class="variable">ItemCoordinateCache</dd>
                <dd id="CheckpointROS.ItemCursorChange" class="variable">ItemCursorChange</dd>
                <dd id="CheckpointROS.ItemCursorHasChanged" class="variable">ItemCursorHasChanged</dd>
                <dd id="CheckpointROS.ItemDoesntPropagateOpacityToChildren" class="variable">ItemDoesntPropagateOpacityToChildren</dd>
                <dd id="CheckpointROS.ItemEnabledChange" class="variable">ItemEnabledChange</dd>
                <dd id="CheckpointROS.ItemEnabledHasChanged" class="variable">ItemEnabledHasChanged</dd>
                <dd id="CheckpointROS.ItemFlagsChange" class="variable">ItemFlagsChange</dd>
                <dd id="CheckpointROS.ItemFlagsHaveChanged" class="variable">ItemFlagsHaveChanged</dd>
                <dd id="CheckpointROS.ItemHasNoContents" class="variable">ItemHasNoContents</dd>
                <dd id="CheckpointROS.ItemIgnoresParentOpacity" class="variable">ItemIgnoresParentOpacity</dd>
                <dd id="CheckpointROS.ItemIgnoresTransformations" class="variable">ItemIgnoresTransformations</dd>
                <dd id="CheckpointROS.ItemIsFocusable" class="variable">ItemIsFocusable</dd>
                <dd id="CheckpointROS.ItemIsMovable" class="variable">ItemIsMovable</dd>
                <dd id="CheckpointROS.ItemIsPanel" class="variable">ItemIsPanel</dd>
                <dd id="CheckpointROS.ItemIsSelectable" class="variable">ItemIsSelectable</dd>
                <dd id="CheckpointROS.ItemMatrixChange" class="variable">ItemMatrixChange</dd>
                <dd id="CheckpointROS.ItemNegativeZStacksBehindParent" class="variable">ItemNegativeZStacksBehindParent</dd>
                <dd id="CheckpointROS.ItemOpacityChange" class="variable">ItemOpacityChange</dd>
                <dd id="CheckpointROS.ItemOpacityHasChanged" class="variable">ItemOpacityHasChanged</dd>
                <dd id="CheckpointROS.ItemParentChange" class="variable">ItemParentChange</dd>
                <dd id="CheckpointROS.ItemParentHasChanged" class="variable">ItemParentHasChanged</dd>
                <dd id="CheckpointROS.ItemPositionChange" class="variable">ItemPositionChange</dd>
                <dd id="CheckpointROS.ItemPositionHasChanged" class="variable">ItemPositionHasChanged</dd>
                <dd id="CheckpointROS.ItemRotationChange" class="variable">ItemRotationChange</dd>
                <dd id="CheckpointROS.ItemRotationHasChanged" class="variable">ItemRotationHasChanged</dd>
                <dd id="CheckpointROS.ItemScaleChange" class="variable">ItemScaleChange</dd>
                <dd id="CheckpointROS.ItemScaleHasChanged" class="variable">ItemScaleHasChanged</dd>
                <dd id="CheckpointROS.ItemSceneChange" class="variable">ItemSceneChange</dd>
                <dd id="CheckpointROS.ItemSceneHasChanged" class="variable">ItemSceneHasChanged</dd>
                <dd id="CheckpointROS.ItemScenePositionHasChanged" class="variable">ItemScenePositionHasChanged</dd>
                <dd id="CheckpointROS.ItemSelectedChange" class="variable">ItemSelectedChange</dd>
                <dd id="CheckpointROS.ItemSelectedHasChanged" class="variable">ItemSelectedHasChanged</dd>
                <dd id="CheckpointROS.ItemSendsGeometryChanges" class="variable">ItemSendsGeometryChanges</dd>
                <dd id="CheckpointROS.ItemSendsScenePositionChanges" class="variable">ItemSendsScenePositionChanges</dd>
                <dd id="CheckpointROS.ItemStacksBehindParent" class="variable">ItemStacksBehindParent</dd>
                <dd id="CheckpointROS.ItemToolTipChange" class="variable">ItemToolTipChange</dd>
                <dd id="CheckpointROS.ItemToolTipHasChanged" class="variable">ItemToolTipHasChanged</dd>
                <dd id="CheckpointROS.ItemTransformChange" class="variable">ItemTransformChange</dd>
                <dd id="CheckpointROS.ItemTransformHasChanged" class="variable">ItemTransformHasChanged</dd>
                <dd id="CheckpointROS.ItemTransformOriginPointChange" class="variable">ItemTransformOriginPointChange</dd>
                <dd id="CheckpointROS.ItemTransformOriginPointHasChanged" class="variable">ItemTransformOriginPointHasChanged</dd>
                <dd id="CheckpointROS.ItemUsesExtendedStyleOption" class="variable">ItemUsesExtendedStyleOption</dd>
                <dd id="CheckpointROS.ItemVisibleChange" class="variable">ItemVisibleChange</dd>
                <dd id="CheckpointROS.ItemVisibleHasChanged" class="variable">ItemVisibleHasChanged</dd>
                <dd id="CheckpointROS.ItemZValueChange" class="variable">ItemZValueChange</dd>
                <dd id="CheckpointROS.ItemZValueHasChanged" class="variable">ItemZValueHasChanged</dd>
                <dd id="CheckpointROS.NoCache" class="variable">NoCache</dd>
                <dd id="CheckpointROS.NonModal" class="variable">NonModal</dd>
                <dd id="CheckpointROS.PanelModal" class="variable">PanelModal</dd>
                <dd id="CheckpointROS.SceneModal" class="variable">SceneModal</dd>
                <dd id="CheckpointROS.Type" class="variable">Type</dd>
                <dd id="CheckpointROS.UserType" class="variable">UserType</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>